/*! For license information please see module.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports["react-query"]=t(require("react")):e["react-query"]=t(e.react)}(self,(e=>(()=>{"use strict";var t={215:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(893),a=r(616),u=r(581),s=r(187),d=o(r(434)),i=o(r(324)),l=r(759),c=o(r(63)),p=r(156);t.default=({children:e,endPoints:t,onCreated:r,onRead:o,onUpdated:f,onDeleted:y,delay:h,type:m="array"})=>{const[g,b,v,O]="string"==typeof t?new Array(4).fill(t):[t.create,t.read,t.update,t.delete],{parameterType:_,domain:j,requestMiddleware:q,mode:x,verbosity:P,idName:E}=(0,l.useQueryOptions)();return(0,p.useEffect)((()=>{(0,u.requestLog)(x,P,5,"[endpoints]",`[C]${g}`,`[R]${b}`,`[U]${v}`,`[D]${O}`)}),[g,b,v,O]),(0,n.jsx)(d.default,{children:(0,n.jsx)(i.default,{query:`${b}`,delay:h,onRead:o,children:(t,o,d,i,l)=>(0,n.jsx)(p.Fragment,{children:e({handleCreate:(e,o={method:"POST"})=>{e.preventDefault();const{method:n="POST",pathTail:d}=o,c=(0,s.getFormData)(e.target),p=`${g}/${d?`${d}/`:""}`;return(0,u.requestLog)(x,P,1,`[create][${n}]`,`${j}/${p}`,c),(0,a.request)(j,p,{body:JSON.stringify(c),method:n,headers:q?.(),mode:x}).then((e=>{i?.([...t,e]),r?.()&&l?.()})).catch((()=>{console.error("Erreur de création","Une erreur est survenu lors de la création dans la base de données")}))},read:{data:t,loading:o,error:d},handleUpdate:(e,r={method:"PUT",name:E})=>{e.preventDefault();const{method:o="PUT",pathTail:n,name:d=E}=r,p=(0,s.formExtractor)(e.target,d);let y;y="array"==m?[...t]:t;const h=[];return p.forEach((e=>{const r=(0,s.getPathTail)(e,_,d,n),i=`${v}/${r?`${r}/`:""}`;let l=!1;if("array"==m){const t=y.findIndex((e=>e[d]==r));if(null!=t){const r={...y[t],...e};l=!(0,c.default)(y[t],r),y[t]=r}else y.push(e)}else l=!(0,c.default)(y,t),y={...y,...e};l&&((0,u.requestLog)(x,P,1,`[update][${o}]`,`${j}/${i}`,e),h.push((0,a.request)(j,i,{body:JSON.stringify(e),method:o,headers:q?.(),mode:x})))})),Promise.all(h).then((()=>{i?.(y),f?.()&&l?.()}))},handleDelete:(e,r={method:"DELETE",name:E})=>{e?.preventDefault(),e?.stopPropagation();const{method:o="DELETE",pathTail:n,name:d=E,id:c}=r,p=(0,s.getPathTail)({[d]:c.toString()},_,d,n),f=`${O}/${p}/`;return(0,u.requestLog)(x,P,1,`[delete][${o}]`,`${j}/${f}`),(0,a.request)(j,f,{method:o,headers:q?.(),mode:x}).then((()=>{if("array"==m){const e=t.findIndex((e=>e[d]==c)),r=t;(0,u.requestLog)(x,P,3,`Removing index ${e}`);const o=[...r.slice(0,e),...r.slice(e+1,r.length)];(0,u.requestLog)(x,P,4,"Array updated",o),i?.(o)}else i?.(t);y?.()&&l?.()}))}},l)})})})}},434:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(893),a=o(r(180)),u=o(r(156));class s extends u.default.Component{constructor(){super(...arguments),this.state={hasError:!1,error:{e:void 0,info:void 0}},this.componentDidCatch=(e,t)=>{console.error(e),this.setState({hasError:!0,error:{e,info:t}})}}render(){const{children:e}=this.props,{hasError:t,error:r}=this.state;return t?(0,n.jsxs)("div",{className:a.default.main,children:[(0,n.jsx)("div",{children:r?.e?.message}),(0,n.jsx)("hr",{}),(0,n.jsx)("div",{children:r?.info?.componentStack})]}):(0,n.jsx)(u.default.Fragment,{children:e})}}t.default=s},324:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(893),a=o(r(434)),u=r(759),s=r(156);t.default=({children:e,query:t,method:r,delay:o,body:d,onRead:i})=>{const[l,c]=(0,s.useState)({data:null,loading:!0,error:null}),p=(0,u.useRequest)(),[f,y]=(0,s.useState)(),[h,m]=(0,s.useState)(!1),g=(0,s.useCallback)((e=>c({data:e,loading:!1,error:null})),[l]);return(0,s.useEffect)((()=>{f?.abort();const e=new AbortController,r=window.setTimeout((()=>{p(t,{signal:e.signal}).then((e=>{c({data:e,loading:!1,error:null}),i?.(e)})).catch((e=>{"AbortError"!=e.name&&c({data:null,loading:!1,error:e.toString()})}))}),o??0);return y(e),c({data:null,loading:!0,error:null}),()=>{e?.abort(),window.clearTimeout(r)}}),[t,h]),(0,n.jsx)(a.default,{children:e(l.data,l.loading,l.error,g,(()=>m(!h)))})}},759:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.QueryOptionsProvider=t.useRequest=t.useQueryOptions=void 0;const o=r(616),n=r(156),a=(0,n.createContext)({domain:"",parameterType:"path",mode:"production",verbosity:1,idName:"id"});t.useQueryOptions=()=>{const e=(0,n.useContext)(a);if(!e)throw new Error("No context for 'useQueryOptions'");return e.idName||(e.idName="id"),e},t.useRequest=()=>{const{domain:e,mode:r,requestMiddleware:n}=(0,t.useQueryOptions)();return function(t,a={method:"GET"}){const{headers:u=n(),body:s,method:d="GET",mode:i=r,signal:l}=a;return(0,o.request)(e,t,{body:s,headers:u,method:d,mode:i,signal:l})}},t.QueryOptionsProvider=a.Provider},276:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useQueryOptions=t.useRequest=t.request=t.QueryOptionsProvider=t.Query=t.CRUD=void 0;const n=o(r(215));t.CRUD=n.default;const a=o(r(324));t.Query=a.default;const u=r(759);Object.defineProperty(t,"QueryOptionsProvider",{enumerable:!0,get:function(){return u.QueryOptionsProvider}}),Object.defineProperty(t,"useQueryOptions",{enumerable:!0,get:function(){return u.useQueryOptions}}),Object.defineProperty(t,"useRequest",{enumerable:!0,get:function(){return u.useRequest}});const s=r(616);Object.defineProperty(t,"request",{enumerable:!0,get:function(){return s.request}})},616:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.request=void 0;const o=r(581);t.request=function(e,t,r={method:"GET"}){const{body:n,method:a="GET",headers:u,mode:s="production",signal:d}=r,i=r=>fetch(`${e}/${t}`,{headers:r,method:a,body:n,signal:d}).then((e=>e.ok?e.text().then((t=>{try{if("application/json"==r?.["Content-Type"])return JSON.parse(t)}catch(t){(0,o.queryWarn)(s,0,0,"Could not parse response to json",e)}return t})):e.text().then((e=>{throw(0,o.queryError)(e),new Error(e)}))),(e=>{"AbortError"==e.name?(0,o.queryWarn)(s,0,0,e.message):(0,o.queryError)(e)}));return u?u.then(i):i({})}},581:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.queryError=t.queryWarn=t.requestLog=void 0,t.requestLog=(e,t,r,...o)=>{"development"==e&&r<=t&&console.log("[react-query]",...o)},t.queryWarn=(e,t,r,...o)=>{"development"==e&&r<=t&&console.warn("[react-query]",...o)},t.queryError=(...e)=>{console.error("[react-query]",...e)}},187:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useForceUpdate=t.getPathTail=t.seperate=t.seperateAndKeepIds=t.formExtractor=t.getFormData=void 0;const o=r(156);t.getFormData=e=>{const t=e;return Object.keys(e).map((e=>t[e])).filter((e=>{const t=e.tagName?.toLocaleLowerCase?.();return e.name&&("input"==t||"select"==t)})).reduce(((e,t)=>{const{name:r,value:o,checked:n,type:a,required:u}=t,s="checkbox"==a;if(u&&(""==o||null==o))throw new Error(`Can't use an empty value for ${r}`);let d="number"==a?new Number(o).valueOf():o;return{...e,[r]:s?n:d}}),{})},t.formExtractor=(e,r)=>{const o=(0,t.getFormData)(e);return null!=o[r]?[o]:Object.entries(o).reduce(((e,o)=>{const n=o[0],[a,u]=(0,t.seperateAndKeepIds)([n])[0],s=e.find((e=>e[r]==u));let d=u;try{d=parseInt(u)}catch(e){}return s?s[a]=o[1]:e.push({[r]:d,[a]:o[1]}),e}),[])},t.seperateAndKeepIds=e=>(0,t.seperate)(e).map((e=>{const t=e[1],r=t[t.length-1];return[e[0].replace(new RegExp(`(-|_)?${r}$`),""),r]})),t.seperate=e=>e.map((e=>[e,e.replace(/([0-9]+)/," $1").replace(/(-|_)/g," ").replace(/([A-Z])/g," $1").trim().toLocaleLowerCase().split(" ").filter((e=>""!=e))])),t.getPathTail=(e,t,r,o)=>{const n=e[r];return"path"==t&&""!=n&&null!=n?n:o},t.useForceUpdate=()=>(0,o.useReducer)((()=>({})),{})[1]},63:e=>{e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var o,n,a;if(Array.isArray(t)){if((o=t.length)!=r.length)return!1;for(n=o;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((o=(a=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(n=o;0!=n--;)if(!Object.prototype.hasOwnProperty.call(r,a[n]))return!1;for(n=o;0!=n--;){var u=a[n];if(!e(t[u],r[u]))return!1}return!0}return t!=t&&r!=r}},180:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});const o={"button-default":"N34oaDgHtJlptqxVv9Pn","button-selected":"Ja0ovO_h3eaEsaboqDC7","button-primary":"KTfuLE7LnSGRHDFPD0EA","button-validate":"jY9MIHyO7T8W_QNpfx0k","button-inverse":"m40wbnuJh67XxmYctJLR","button-ignore":"ZeIjhLVvw0JqjuR8kYjT","button-invalid":"ZedjeDkFzo6JcAGxyZPn","button-valid":"Jk7f76XpP7SLD92LvmM3",main:"SIApxQzQlZp0L1gN0_QW"}},251:(e,t,r)=>{var o=r(156),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,s=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,r){var o,a={},i=null,l=null;for(o in void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,o)&&!d.hasOwnProperty(o)&&(a[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===a[o]&&(a[o]=t[o]);return{$$typeof:n,type:e,key:i,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=i,t.jsxs=i},893:(e,t,r)=>{e.exports=r(251)},156:t=>{t.exports=e}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={exports:{}};return t[e].call(a.exports,a,a.exports,o),a.exports}return o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o(276)})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwibWFwcGluZ3MiOiI7Q0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsRUFBUUcsUUFBUSxVQUNSLG1CQUFYQyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sQ0FBQyxTQUFVSixHQUNRLGlCQUFaQyxRQUNkQSxRQUFRLGVBQWlCRCxFQUFRRyxRQUFRLFVBRXpDSixFQUFLLGVBQWlCQyxFQUFRRCxFQUFZLE9BUjVDLENBU0dPLE1BQU9DLGlEQ1JWLElBQUlDLEVBQW1CQyxNQUFRQSxLQUFLRCxpQkFBb0IsU0FBVUUsR0FDOUQsT0FBUUEsR0FBT0EsRUFBSUMsV0FBY0QsRUFBTSxDQUFFLFFBQVdBLElBRXhERSxPQUFPQyxlQUFlWixFQUFTLGFBQWMsQ0FBRWEsT0FBTyxJQUN0RCxNQUFNQyxFQUFnQlosRUFBUSxLQUN4QmEsRUFBUWIsRUFBUSxLQUNoQmMsRUFBUWQsRUFBUSxLQUNoQmUsRUFBU2YsRUFBUSxLQUNqQmdCLEVBQWtCWCxFQUFnQkwsRUFBUSxNQUMxQ2lCLEVBQVVaLEVBQWdCTCxFQUFRLE1BQ2xDa0IsRUFBeUJsQixFQUFRLEtBQ2pDbUIsRUFBb0JkLEVBQWdCTCxFQUFRLEtBQzVDb0IsRUFBVXBCLEVBQVEsS0F3SHhCRixFQUFBQSxRQTdHYSxFQUFHdUIsU0FBQUEsRUFBVUMsVUFBQUEsRUFBV0MsVUFBQUEsRUFBV0MsT0FBQUEsRUFBUUMsVUFBQUEsRUFBV0MsVUFBQUEsRUFBV0MsTUFBQUEsRUFBT0MsS0FBQUEsRUFBTyxZQUN4RixNQUFPQyxFQUFnQkMsRUFBY0MsRUFBZ0JDLEdBQXNDLGlCQUFiVixFQUN4RSxJQUFJVyxNQUFNLEdBQUdDLEtBQUtaLEdBQ2xCLENBQUNBLEVBQVVhLE9BQVFiLEVBQVVjLEtBQU1kLEVBQVVlLE9BQVFmLEVBQVVnQixTQUMvRCxjQUFFQyxFQUFGLE9BQWlCQyxFQUFqQixrQkFBeUJDLEVBQXpCLEtBQTRDQyxFQUE1QyxVQUFrREMsRUFBbEQsT0FBNkRDLElBQVcsRUFBSTFCLEVBQXVCMkIsbUJBSXpHLE9BSEEsRUFBSXpCLEVBQVEwQixZQUFXLE1BQ25CLEVBQUloQyxFQUFNaUMsWUFBWUwsRUFBTUMsRUFBVyxFQUFJLGNBQWUsTUFBS2QsSUFBbUIsTUFBS0MsSUFBaUIsTUFBS0MsSUFBbUIsTUFBS0MsT0FDdEksQ0FBQ0gsRUFBZ0JDLEVBQWNDLEVBQWdCQyxLQUMxQyxFQUFJcEIsRUFBY29DLEtBQUtoQyxFQUFnQmlDLFFBQVMsQ0FBRTVCLFVBQVUsRUFBSVQsRUFBY29DLEtBQUsvQixFQUFRZ0MsUUFBUyxDQUFFQyxNQUFRLEdBQUVwQixJQUFnQkgsTUFBT0EsRUFBT0gsT0FBUUEsRUFBUUgsU0FBVSxDQUFDOEIsRUFBTUMsRUFBU0MsRUFBT0MsRUFBY0MsS0FDak0sRUFBSTNDLEVBQWNvQyxLQUFLNUIsRUFBUW9DLFNBQVUsQ0FBRW5DLFNBQVVBLEVBQVMsQ0FDOURvQyxhQUFjLENBQUNDLEVBQUdDLEVBQVMsQ0FBRUMsT0FBUSxXQUNqQ0YsRUFBRUcsaUJBQ0YsTUFBTSxPQUFFRCxFQUFTLE9BQVgsU0FBbUJFLEdBQWFILEVBQ2hDSSxHQUFXLEVBQUloRCxFQUFPaUQsYUFBYU4sRUFBRU8sUUFDckNDLEVBQVksR0FBRXJDLEtBQWtCaUMsRUFBWSxHQUFFQSxLQUFjLEtBRWxFLE9BREEsRUFBSWhELEVBQU1pQyxZQUFZTCxFQUFNQyxFQUFXLEVBQUksWUFBV2lCLEtBQVksR0FBRXBCLEtBQVUwQixJQUFZSCxJQUNuRixFQUFJbEQsRUFBTXNELFNBQVMzQixFQUFRMEIsRUFBVSxDQUN4Q0UsS0FBTUMsS0FBS0MsVUFBVVAsR0FDckJILE9BQUFBLEVBQ0FXLFFBQVM5QixNQUNUQyxLQUFBQSxJQUVDOEIsTUFBTUMsSUFDUG5CLElBQWUsSUFBSUgsRUFBTXNCLElBQ3pCbEQsT0FBaUJnQyxTQUVoQm1CLE9BQU0sS0FDUEMsUUFBUXRCLE1BQU8scUJBQXNCLDBFQUc3Q2pCLEtBQU0sQ0FBRWUsS0FBQUEsRUFBTUMsUUFBQUEsRUFBU0MsTUFBQUEsR0FDdkJ1QixhQUFjLENBQUNsQixFQUFHQyxFQUFTLENBQUVDLE9BQVEsTUFBT2lCLEtBQU1qQyxNQUM5Q2MsRUFBRUcsaUJBQ0YsTUFBTSxPQUFFRCxFQUFTLE1BQVgsU0FBa0JFLEVBQWxCLEtBQTRCZSxFQUFPakMsR0FBV2UsRUFDOUNtQixHQUFZLEVBQUkvRCxFQUFPZ0UsZUFBZXJCLEVBQUVPLE9BQVFZLEdBQ3RELElBQUlHLEVBRUFBLEVBRFEsU0FBUnBELEVBQ1UsSUFBSXVCLEdBRUpBLEVBQ2QsTUFBTThCLEVBQVcsR0FnQ2pCLE9BL0JBSCxFQUFVSSxTQUFTbkIsSUFDZixNQUFNb0IsR0FBTyxFQUFJcEUsRUFBT3FFLGFBQWFyQixFQUFVeEIsRUFBZXNDLEVBQU1mLEdBQzlESSxFQUFZLEdBQUVuQyxLQUFrQm9ELEVBQVEsR0FBRUEsS0FBVSxLQUMxRCxJQUFJRSxHQUFhLEVBQ2pCLEdBQVksU0FBUnpELEVBQWlCLENBQ2pCLE1BQU0wRCxFQUFRTixFQUFRTyxXQUFXQyxHQUFRQSxFQUFJWCxJQUFTTSxJQUN0RCxHQUFhTSxNQUFUSCxFQUFvQixDQUNwQixNQUFNSSxFQUFhLElBQ1pWLEVBQVFNLE1BQ1J2QixHQUVQc0IsSUFBYyxFQUFJbEUsRUFBa0I4QixTQUFTK0IsRUFBUU0sR0FBUUksR0FDN0RWLEVBQVFNLEdBQVNJLE9BR2pCVixFQUFRVyxLQUFLNUIsUUFHakJzQixJQUFjLEVBQUlsRSxFQUFrQjhCLFNBQVMrQixFQUFTN0IsR0FDdEQ2QixFQUFVLElBQUtBLEtBQVlqQixHQUUzQnNCLEtBQ0EsRUFBSXZFLEVBQU1pQyxZQUFZTCxFQUFNQyxFQUFXLEVBQUksWUFBV2lCLEtBQVksR0FBRXBCLEtBQVUwQixJQUFZSCxHQUMxRmtCLEVBQVNVLE1BQUssRUFBSTlFLEVBQU1zRCxTQUFTM0IsRUFBUTBCLEVBQVUsQ0FDL0NFLEtBQU1DLEtBQUtDLFVBQVVQLEdBQ3JCSCxPQUFBQSxFQUNBVyxRQUFTOUIsTUFDVEMsS0FBQUEsU0FJTGtELFFBQVFDLElBQUlaLEdBQVVULE1BQUssS0FDOUJsQixJQUFlMEIsR0FDZnZELE9BQWlCOEIsVUFHekJ1QyxhQUFjLENBQUNwQyxFQUFHQyxFQUFTLENBQUVDLE9BQVEsU0FBVWlCLEtBQU1qQyxNQUNqRGMsR0FBR0csaUJBQ0hILEdBQUdxQyxrQkFDSCxNQUFNLE9BQUVuQyxFQUFTLFNBQVgsU0FBcUJFLEVBQXJCLEtBQStCZSxFQUFPakMsRUFBdEMsR0FBOENvRCxHQUFRckMsRUFDdER3QixHQUFPLEVBQUlwRSxFQUFPcUUsYUFBYSxDQUFFLENBQUNQLEdBQU9tQixFQUFHQyxZQUFjMUQsRUFBZXNDLEVBQU1mLEdBQy9FSSxFQUFZLEdBQUVsQyxLQUFrQm1ELEtBRXRDLE9BREEsRUFBSXJFLEVBQU1pQyxZQUFZTCxFQUFNQyxFQUFXLEVBQUksWUFBV2lCLEtBQVksR0FBRXBCLEtBQVUwQixNQUN2RSxFQUFJckQsRUFBTXNELFNBQVMzQixFQUFRMEIsRUFBVSxDQUN4Q04sT0FBQUEsRUFDQVcsUUFBUzlCLE1BQ1RDLEtBQUFBLElBQ0Q4QixNQUFLLEtBQ0osR0FBWSxTQUFSNUMsRUFBaUIsQ0FDakIsTUFBTTBELEVBQVFuQyxFQUFLb0MsV0FBV0MsR0FBUUEsRUFBSVgsSUFBU21CLElBQzdDRSxFQUFZL0MsR0FDbEIsRUFBSXJDLEVBQU1pQyxZQUFZTCxFQUFNQyxFQUFXLEVBQUksa0JBQWlCMkMsS0FDNUQsTUFBTWEsRUFBUyxJQUNSRCxFQUFVRSxNQUFNLEVBQUdkLE1BQ25CWSxFQUFVRSxNQUFNZCxFQUFRLEVBQUdZLEVBQVVHLFVBRTVDLEVBQUl2RixFQUFNaUMsWUFBWUwsRUFBTUMsRUFBVyxFQUFJLGdCQUFnQndELEdBQzNEN0MsSUFBZTZDLFFBR2Y3QyxJQUFlSCxHQUVuQnpCLE9BQWlCNkIsV0FHMUJBLCtCQ2pJdkIsSUFBSWxELEVBQW1CQyxNQUFRQSxLQUFLRCxpQkFBb0IsU0FBVUUsR0FDOUQsT0FBUUEsR0FBT0EsRUFBSUMsV0FBY0QsRUFBTSxDQUFFLFFBQVdBLElBRXhERSxPQUFPQyxlQUFlWixFQUFTLGFBQWMsQ0FBRWEsT0FBTyxJQUN0RCxNQUFNQyxFQUFnQlosRUFBUSxLQUV4QnNHLEVBQXNCakcsRUFBZ0JMLEVBQVEsTUFDOUNvQixFQUFVZixFQUFnQkwsRUFBUSxNQUN4QyxNQUFNdUcsVUFBc0JuRixFQUFRNkIsUUFBUXVELFVBQ3hDQyxjQUNJQyxTQUFTQyxXQUNUckcsS0FBS3NHLE1BQVEsQ0FDVEMsVUFBVSxFQUNWeEQsTUFBTyxDQUFFSyxPQUFHK0IsRUFBV3FCLFVBQU1yQixJQUVqQ25GLEtBQUt5RyxrQkFBb0IsQ0FBQ3JELEVBQUdvRCxLQUN6Qm5DLFFBQVF0QixNQUFNSyxHQUNkcEQsS0FBSzBHLFNBQVMsQ0FBRUgsVUFBVSxFQUFNeEQsTUFBTyxDQUFFSyxFQUFHb0QsS0FBQUEsTUFHcERHLFNBQ0ksTUFBTSxTQUFFNUYsR0FBYWYsS0FBSzRHLE9BQ3BCLFNBQUVMLEVBQUYsTUFBWXhELEdBQVUvQyxLQUFLc0csTUFDakMsT0FBS0MsR0FFRyxFQUFJakcsRUFBY3VHLE1BQU0sTUFBTyxDQUFFQyxVQUFXZCxFQUFvQnJELFFBQVFvRSxLQUFNaEcsU0FBVSxFQUFDLEVBQUlULEVBQWNvQyxLQUFLLE1BQU8sQ0FBRTNCLFNBQVVnQyxHQUFPSyxHQUFHNEQsV0FBWSxFQUFJMUcsRUFBY29DLEtBQUssS0FBTSxLQUFLLEVBQUlwQyxFQUFjb0MsS0FBSyxNQUFPLENBQUUzQixTQUFVZ0MsR0FBT3lELE1BQU1TLHFCQUQvTyxFQUFJM0csRUFBY29DLEtBQUs1QixFQUFRNkIsUUFBUU8sU0FBVSxDQUFFbkMsU0FBVUEsS0FJaEZ2QixFQUFBQSxRQUFrQnlHLHVCQzVCbEIsSUFBSWxHLEVBQW1CQyxNQUFRQSxLQUFLRCxpQkFBb0IsU0FBVUUsR0FDOUQsT0FBUUEsR0FBT0EsRUFBSUMsV0FBY0QsRUFBTSxDQUFFLFFBQVdBLElBRXhERSxPQUFPQyxlQUFlWixFQUFTLGFBQWMsQ0FBRWEsT0FBTyxJQUN0RCxNQUFNQyxFQUFnQlosRUFBUSxLQUN4QmdCLEVBQWtCWCxFQUFnQkwsRUFBUSxNQUMxQ2tCLEVBQXlCbEIsRUFBUSxLQUNqQ29CLEVBQVVwQixFQUFRLEtBa0R4QkYsRUFBQUEsUUE5Q2MsRUFBR3VCLFNBQUFBLEVBQVU2QixNQUFBQSxFQUFPVSxPQUFBQSxFQUFRakMsTUFBQUEsRUFBT3lDLEtBQUFBLEVBQU01QyxPQUFBQSxNQUVuRCxNQUFPZ0csRUFBYUMsSUFBa0IsRUFBSXJHLEVBQVFzRyxVQUFVLENBQ3hEdkUsS0FBTSxLQUNOQyxTQUFTLEVBQ1RDLE1BQU8sT0FFTGMsR0FBVSxFQUFJakQsRUFBdUJ5RyxlQUNwQ0MsRUFBWUMsSUFBaUIsRUFBSXpHLEVBQVFzRyxhQUN6Q0ksRUFBU0MsSUFBYyxFQUFJM0csRUFBUXNHLFdBQVUsR0FDOUNwRSxHQUFlLEVBQUlsQyxFQUFRNEcsY0FBYzdFLEdBQVNzRSxFQUFlLENBQ25FdEUsS0FBQUEsRUFDQUMsU0FBUyxFQUNUQyxNQUFPLFFBQ1AsQ0FBQ21FLElBOEJMLE9BNUJBLEVBQUlwRyxFQUFRMEIsWUFBVyxLQUNuQjhFLEdBQVlLLFFBQ1osTUFBTUMsRUFBTyxJQUFJQyxnQkFDWEMsRUFBVUMsT0FBT0MsWUFBVyxLQUM5Qm5FLEVBQVFqQixFQUFPLENBQ1hxRixPQUFRTCxFQUFLSyxTQUVaL0QsTUFBTWdFLElBQ1BmLEVBQWUsQ0FBRXRFLEtBQU1xRixFQUFLcEYsU0FBUyxFQUFPQyxNQUFPLE9BQ25EN0IsSUFBU2dILE1BRVI5RCxPQUFPK0QsSUFDUSxjQUFaQSxFQUFJNUQsTUFFUjRDLEVBQWUsQ0FDWHRFLEtBQU0sS0FDTkMsU0FBUyxFQUNUQyxNQUFPb0YsRUFBSXhDLGtCQUdwQnRFLEdBQVMsR0FHWixPQUZBa0csRUFBY0ssR0FDZFQsRUFBZSxDQUFFdEUsS0FBTSxLQUFNQyxTQUFTLEVBQU1DLE1BQU8sT0FDNUMsS0FDSDZFLEdBQU1ELFFBQ05JLE9BQU9LLGFBQWFOLE1BRXpCLENBQUNsRixFQUFPNEUsS0FDSCxFQUFJbEgsRUFBY29DLEtBQUtoQyxFQUFnQmlDLFFBQVMsQ0FBRTVCLFNBQVVBLEVBQVNtRyxFQUFZckUsS0FBTXFFLEVBQVlwRSxRQUFTb0UsRUFBWW5FLE1BQU9DLEdBQWMsSUFBTXlFLEdBQVlELHVCQ3ZEM0tySCxPQUFPQyxlQUFlWixFQUFTLGFBQWMsQ0FBRWEsT0FBTyxJQUN0RGIsRUFBUTZJLHFCQUF1QjdJLEVBQVE2SCxXQUFhN0gsRUFBUStDLHFCQUFrQixFQUM5RSxNQUFNaEMsRUFBUWIsRUFBUSxLQUNoQm9CLEVBQVVwQixFQUFRLEtBQ2xCNEksR0FBc0IsRUFBSXhILEVBQVF5SCxlQUFlLENBQ25EckcsT0FBUSxHQUNSRCxjQUFlLE9BQ2ZHLEtBQU0sYUFDTkMsVUFBVyxFQUNYQyxPQUFRLE9BVVo5QyxFQUFRK0MsZ0JBUmdCLEtBQ3BCLE1BQU1pRyxHQUFNLEVBQUkxSCxFQUFRMkgsWUFBWUgsR0FDcEMsSUFBS0UsRUFDRCxNQUFNLElBQUlFLE1BQU0sb0NBR3BCLE9BRktGLEVBQUlsRyxTQUNMa0csRUFBSWxHLE9BQVMsTUFDVmtHLEdBVVhoSixFQUFRNkgsV0FQVyxLQUNmLE1BQU0sT0FBRW5GLEVBQVFFLEtBQU11RyxFQUFPeEcsa0JBQW1CeUcsSUFBd0IsRUFBSXBKLEVBQVErQyxtQkFDcEYsT0FBTyxTQUFVc0csRUFBTUMsRUFBVSxDQUFFeEYsT0FBUSxRQUN2QyxNQUFNLFFBQUVXLEVBQVUyRSxJQUFaLEtBQWtDOUUsRUFBbEMsT0FBd0NSLEVBQVMsTUFBakQsS0FBd0RsQixFQUFPdUcsRUFBL0QsT0FBc0VWLEdBQVlhLEVBQ3hGLE9BQU8sRUFBSXZJLEVBQU1zRCxTQUFTM0IsRUFBUTJHLEVBQU0sQ0FBRS9FLEtBQUFBLEVBQU1HLFFBQUFBLEVBQVNYLE9BQUFBLEVBQVFsQixLQUFBQSxFQUFNNkYsT0FBQUEsTUFJL0V6SSxFQUFRNkkscUJBQXVCQyxFQUFvQlMsOEJDNUJuRCxJQUFJaEosRUFBbUJDLE1BQVFBLEtBQUtELGlCQUFvQixTQUFVRSxHQUM5RCxPQUFRQSxHQUFPQSxFQUFJQyxXQUFjRCxFQUFNLENBQUUsUUFBV0EsSUFFeERFLE9BQU9DLGVBQWVaLEVBQVMsYUFBYyxDQUFFYSxPQUFPLElBQ3REYixFQUFRK0MsZ0JBQWtCL0MsRUFBUTZILFdBQWE3SCxFQUFRcUUsUUFBVXJFLEVBQVE2SSxxQkFBdUI3SSxFQUFRd0osTUFBUXhKLEVBQVF5SixVQUFPLEVBQy9ILE1BQU1DLEVBQVNuSixFQUFnQkwsRUFBUSxNQUN2Q0YsRUFBUXlKLEtBQU9DLEVBQU92RyxRQUN0QixNQUFNaEMsRUFBVVosRUFBZ0JMLEVBQVEsTUFDeENGLEVBQVF3SixNQUFRckksRUFBUWdDLFFBQ3hCLE1BQU0vQixFQUF5QmxCLEVBQVEsS0FDdkNTLE9BQU9DLGVBQWVaLEVBQVMsdUJBQXdCLENBQUUySixZQUFZLEVBQU1DLElBQUssV0FBYyxPQUFPeEksRUFBdUJ5SCx3QkFDNUhsSSxPQUFPQyxlQUFlWixFQUFTLGtCQUFtQixDQUFFMkosWUFBWSxFQUFNQyxJQUFLLFdBQWMsT0FBT3hJLEVBQXVCMkIsbUJBQ3ZIcEMsT0FBT0MsZUFBZVosRUFBUyxhQUFjLENBQUUySixZQUFZLEVBQU1DLElBQUssV0FBYyxPQUFPeEksRUFBdUJ5RyxjQUNsSCxNQUFNOUcsRUFBUWIsRUFBUSxLQUN0QlMsT0FBT0MsZUFBZVosRUFBUyxVQUFXLENBQUUySixZQUFZLEVBQU1DLElBQUssV0FBYyxPQUFPN0ksRUFBTXNELDBCQ2Q5RjFELE9BQU9DLGVBQWVaLEVBQVMsYUFBYyxDQUFFYSxPQUFPLElBQ3REYixFQUFRcUUsYUFBVSxFQUNsQixNQUFNckQsRUFBUWQsRUFBUSxLQW1DdEJGLEVBQVFxRSxRQWxDUSxTQUFVM0IsRUFBUTJHLEVBQU1DLEVBQVUsQ0FBRXhGLE9BQVEsUUFDeEQsTUFBTSxLQUFFUSxFQUFGLE9BQVFSLEVBQVMsTUFBakIsUUFBd0JXLEVBQXhCLEtBQWlDN0IsRUFBTyxhQUF4QyxPQUFzRDZGLEdBQVlhLEVBQ2xFTyxFQUFPcEYsR0FDRnFGLE1BQU8sR0FBRXBILEtBQVUyRyxJQUFRLENBQzlCNUUsUUFBQUEsRUFDQVgsT0FBQUEsRUFDQVEsS0FBQUEsRUFDQW1FLE9BQUFBLElBQ0QvRCxNQUFNZ0UsR0FDREEsRUFBSXFCLEdBQ0dyQixFQUFJc0IsT0FBT3RGLE1BQU11RixJQUNwQixJQUNJLEdBQWlDLG9CQUE3QnhGLElBQVUsZ0JBQ1YsT0FBT0YsS0FBSzJGLE1BQU1ELEdBRTFCLE1BQU9yRyxJQUNILEVBQUk1QyxFQUFNbUosV0FBV3ZILEVBQU0sRUFBRyxFQUFJLG1DQUFtQzhGLEdBRXpFLE9BQU91QixLQUdSdkIsRUFBSXNCLE9BQU90RixNQUFNdUYsSUFFcEIsTUFEQSxFQUFJakosRUFBTW9KLFlBQVlILEdBQ2hCLElBQUlmLE1BQU1lLFFBRXBCSSxJQUNtQixjQUFmQSxFQUFPdEYsTUFDUCxFQUFJL0QsRUFBTW1KLFdBQVd2SCxFQUFNLEVBQUcsRUFBR3lILEVBQU83QyxVQUV4QyxFQUFJeEcsRUFBTW9KLFlBQVlDLE1BR2xDLE9BQU81RixFQUFVQSxFQUFRQyxLQUFLbUYsR0FBT0EsRUFBSSxrQkNuQzdDbEosT0FBT0MsZUFBZVosRUFBUyxhQUFjLENBQUVhLE9BQU8sSUFDdERiLEVBQVFvSyxXQUFhcEssRUFBUW1LLFVBQVluSyxFQUFRaUQsZ0JBQWEsRUFLOURqRCxFQUFRaUQsV0FKVyxDQUFDTCxFQUFNMEgsRUFBZ0JDLEtBQW1CQyxLQUM3QyxlQUFSNUgsR0FBeUIySCxHQUFrQkQsR0FDM0N6RixRQUFRNEYsSUFBSyxtQkFBbUJELElBT3hDeEssRUFBUW1LLFVBSlUsQ0FBQ3ZILEVBQU0wSCxFQUFnQkMsS0FBbUJDLEtBQzVDLGVBQVI1SCxHQUF5QjJILEdBQWtCRCxHQUMzQ3pGLFFBQVE2RixLQUFNLG1CQUFtQkYsSUFNekN4SyxFQUFRb0ssV0FIVyxJQUFJSSxLQUNuQjNGLFFBQVF0QixNQUFPLG1CQUFtQmlILG1CQ2J0QzdKLE9BQU9DLGVBQWVaLEVBQVMsYUFBYyxDQUFFYSxPQUFPLElBQ3REYixFQUFRMkssZUFBaUIzSyxFQUFRc0YsWUFBY3RGLEVBQVE0SyxTQUFXNUssRUFBUTZLLG1CQUFxQjdLLEVBQVFpRixjQUFnQmpGLEVBQVFrRSxpQkFBYyxFQUM3SSxNQUFNNUMsRUFBVXBCLEVBQVEsS0ErQnhCRixFQUFRa0UsWUF4QmFDLElBQ2pCLE1BQU0yRyxFQUFjM0csRUFDcEIsT0FBT3hELE9BQU9vSyxLQUFLNUcsR0FDZDZHLEtBQUtDLEdBQ0NILEVBQVlHLEtBR2xCQyxRQUFRQyxJQUNULE1BQU1DLEVBQU1ELEVBQUVFLFNBQVNDLHNCQUN2QixPQUFPSCxFQUFFcEcsT0FBZ0IsU0FBUHFHLEdBQXlCLFVBQVBBLE1BRW5DRyxRQUFPLENBQUNDLEVBQUtDLEtBQ2QsTUFBTSxLQUFFMUcsRUFBRixNQUFRbEUsRUFBUixRQUFlNkssRUFBZixLQUF3QjVKLEVBQXhCLFNBQThCNkosR0FBYUYsRUFDM0NHLEVBQXFCLFlBQVI5SixFQUVuQixHQUFJNkosSUFEd0IsSUFBVDlLLEdBQXdCLE1BQVRBLEdBRTlCLE1BQU0sSUFBSXFJLE1BQU8sZ0NBQStCbkUsS0FDcEQsSUFBSThHLEVBQXFCLFVBQVIvSixFQUFtQixJQUFJZ0ssT0FBT2pMLEdBQU9rTCxVQUFZbEwsRUFDbEUsTUFBTyxJQUNBMkssRUFDSCxDQUFDekcsR0FBTzZHLEVBQWFGLEVBQVVHLEtBRXBDLEtBMERQN0wsRUFBUWlGLGNBeEJjLENBQUNkLEVBQVFZLEtBRTNCLE1BQU1kLEdBQVcsRUFBSWpFLEVBQVFrRSxhQUFhQyxHQUUxQyxPQUFzQixNQUFsQkYsRUFBU2MsR0FDRixDQUFDZCxHQUVHdEQsT0FBT3FMLFFBQVEvSCxHQUNoQnNILFFBQU8sQ0FBQ1UsRUFBTUMsS0FDeEIsTUFBTUMsRUFBTUQsRUFBSyxJQUNWRSxFQUFNbEcsSUFBTSxFQUFJbEcsRUFBUTZLLG9CQUFvQixDQUFDc0IsSUFBTSxHQUNwREUsRUFBT0osRUFBS0ssTUFBTUQsR0FBU0EsRUFBS3RILElBQVNtQixJQUMvQyxJQUFJcUcsRUFBVXJHLEVBQ2QsSUFDSXFHLEVBQVVDLFNBQVN0RyxHQUV2QixNQUFPdEMsSUFLUCxPQUpJeUksRUFDQUEsRUFBS0QsR0FBUUYsRUFBSyxHQUVsQkQsRUFBS3BHLEtBQUssQ0FBRSxDQUFDZCxHQUFPd0gsRUFBUyxDQUFDSCxHQUFPRixFQUFLLEtBQ3ZDRCxJQUNSLEtBdUJQak0sRUFBUTZLLG1CQVBvQjRCLElBQ2pCLEVBQUl6TSxFQUFRNEssVUFBVTZCLEdBQU16QixLQUFLRyxJQUNwQyxNQUFNdUIsRUFBWXZCLEVBQUUsR0FDZGpGLEVBQUt3RyxFQUFVQSxFQUFVbkcsT0FBUyxHQUN4QyxNQUFPLENBQUM0RSxFQUFFLEdBQUd3QixRQUFRLElBQUlDLE9BQVEsU0FBUTFHLE1BQVEsSUFBS0EsTUFvQzlEbEcsRUFBUTRLLFNBZlU2QixHQUNQQSxFQUFLekIsS0FBSzZCLEdBQ04sQ0FDSEEsRUFDQUEsRUFDS0YsUUFBUSxXQUFZLE9BQ3BCQSxRQUFRLFNBQVUsS0FDbEJBLFFBQVEsV0FBWSxPQUNwQkcsT0FDQXhCLG9CQUNBeUIsTUFBTSxLQUNON0IsUUFBUVYsR0FBVyxJQUFMQSxPQVkvQnhLLEVBQVFzRixZQVBZLENBQUNqQyxFQUFNdkIsRUFBTWlELEVBQU1mLEtBQ25DLE1BQU1rQyxFQUFLN0MsRUFBSzBCLEdBQ2hCLE1BQVksUUFBUmpELEdBQXdCLElBQU5vRSxHQUFrQixNQUFOQSxFQUN2QkEsRUFFSmxDLEdBTVhoRSxFQUFRMkssZUFIZSxLQUNaLEVBQUlySixFQUFRMEwsYUFBWSxLQUFNLEtBQU0sSUFBSSxXQ3BKbkQvTSxFQUFPRCxRQUFVLFNBQVNpTixFQUFNQyxFQUFHQyxHQUNqQyxHQUFJRCxJQUFNQyxFQUFHLE9BQU8sRUFFcEIsR0FBSUQsR0FBS0MsR0FBaUIsaUJBQUxELEdBQTZCLGlCQUFMQyxFQUFlLENBQzFELEdBQUlELEVBQUV2RyxjQUFnQndHLEVBQUV4RyxZQUFhLE9BQU8sRUFFNUMsSUFBSUosRUFBUTZHLEVBQUdyQyxFQUNmLEdBQUk1SSxNQUFNa0wsUUFBUUgsR0FBSSxDQUVwQixJQURBM0csRUFBUzJHLEVBQUUzRyxTQUNHNEcsRUFBRTVHLE9BQVEsT0FBTyxFQUMvQixJQUFLNkcsRUFBSTdHLEVBQWdCLEdBQVI2RyxLQUNmLElBQUtILEVBQU1DLEVBQUVFLEdBQUlELEVBQUVDLElBQUssT0FBTyxFQUNqQyxPQUFPLEVBS1QsR0FBSUYsRUFBRXZHLGNBQWdCaUcsT0FBUSxPQUFPTSxFQUFFSSxTQUFXSCxFQUFFRyxRQUFVSixFQUFFSyxRQUFVSixFQUFFSSxNQUM1RSxHQUFJTCxFQUFFbkIsVUFBWXBMLE9BQU82TSxVQUFVekIsUUFBUyxPQUFPbUIsRUFBRW5CLFlBQWNvQixFQUFFcEIsVUFDckUsR0FBSW1CLEVBQUUvRyxXQUFheEYsT0FBTzZNLFVBQVVySCxTQUFVLE9BQU8rRyxFQUFFL0csYUFBZWdILEVBQUVoSCxXQUl4RSxJQURBSSxHQURBd0UsRUFBT3BLLE9BQU9vSyxLQUFLbUMsSUFDTDNHLFVBQ0M1RixPQUFPb0ssS0FBS29DLEdBQUc1RyxPQUFRLE9BQU8sRUFFN0MsSUFBSzZHLEVBQUk3RyxFQUFnQixHQUFSNkcsS0FDZixJQUFLek0sT0FBTzZNLFVBQVVDLGVBQWVDLEtBQUtQLEVBQUdwQyxFQUFLcUMsSUFBSyxPQUFPLEVBRWhFLElBQUtBLEVBQUk3RyxFQUFnQixHQUFSNkcsS0FBWSxDQUMzQixJQUFJakIsRUFBTXBCLEVBQUtxQyxHQUVmLElBQUtILEVBQU1DLEVBQUVmLEdBQU1nQixFQUFFaEIsSUFBTyxPQUFPLEVBR3JDLE9BQU8sRUFJVCxPQUFPZSxHQUFJQSxHQUFLQyxHQUFJQSxnREMzQ3RCLFNBQWdCLGlCQUFpQix1QkFBdUIsa0JBQWtCLHVCQUF1QixpQkFBaUIsdUJBQXVCLGtCQUFrQix1QkFBdUIsaUJBQWlCLHVCQUF1QixnQkFBZ0IsdUJBQXVCLGlCQUFpQix1QkFBdUIsZUFBZSx1QkFBdUIsS0FBTyx1Q0NRelUsSUFBSVEsRUFBRSxFQUFRLEtBQVMxQyxFQUFFMkMsT0FBT0MsSUFBSSxpQkFBaUJDLEVBQUVGLE9BQU9DLElBQUksa0JBQWtCRSxFQUFFcE4sT0FBTzZNLFVBQVVDLGVBQWVPLEVBQUVMLEVBQUVNLG1EQUFtREMsa0JBQWtCQyxFQUFFLENBQUNoQyxLQUFJLEVBQUdpQyxLQUFJLEVBQUdDLFFBQU8sRUFBR0MsVUFBUyxHQUNoUCxTQUFTQyxFQUFFQyxFQUFFdEIsRUFBRXVCLEdBQUcsSUFBSXRCLEVBQUV1QixFQUFFLEdBQUc5SyxFQUFFLEtBQUsrSyxFQUFFLEtBQWlGLElBQUl4QixVQUFoRixJQUFTc0IsSUFBSTdLLEVBQUUsR0FBRzZLLFFBQUcsSUFBU3ZCLEVBQUVmLE1BQU12SSxFQUFFLEdBQUdzSixFQUFFZixVQUFLLElBQVNlLEVBQUVrQixNQUFNTyxFQUFFekIsRUFBRWtCLEtBQWNsQixFQUFFYSxFQUFFTCxLQUFLUixFQUFFQyxLQUFLZ0IsRUFBRVYsZUFBZU4sS0FBS3VCLEVBQUV2QixHQUFHRCxFQUFFQyxJQUFJLEdBQUdxQixHQUFHQSxFQUFFSSxhQUFhLElBQUl6QixLQUFLRCxFQUFFc0IsRUFBRUksa0JBQWUsSUFBU0YsRUFBRXZCLEtBQUt1QixFQUFFdkIsR0FBR0QsRUFBRUMsSUFBSSxNQUFNLENBQUMwQixTQUFTNUQsRUFBRW5KLEtBQUswTSxFQUFFckMsSUFBSXZJLEVBQUV3SyxJQUFJTyxFQUFFdkgsTUFBTXNILEVBQUVJLE9BQU9kLEVBQUVlLFNBQVMvTyxFQUFRMEQsU0FBU29LLEVBQUU5TixFQUFRa0QsSUFBSXFMLEVBQUV2TyxFQUFRcUgsS0FBS2tILGlCQ1B4V3RPLEVBQU9ELFFBQVUsRUFBakIsY0NIRkMsRUFBT0QsUUFBVU0sSUNDYjBPLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJ2SixJQUFqQndKLEVBQ0gsT0FBT0EsRUFBYW5QLFFBR3JCLElBQUlDLEVBQVMrTyxFQUF5QkUsR0FBWSxDQUdqRGxQLFFBQVMsSUFPVixPQUhBb1AsRUFBb0JGLEdBQVV4QixLQUFLek4sRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU2lQLEdBR3BFaFAsRUFBT0QsZUNwQmZpUCxFQUFvQlAsRUFBSSxDQUFDMU8sRUFBU3FQLEtBQ2pDLElBQUksSUFBSWxELEtBQU9rRCxFQUNYSixFQUFvQkssRUFBRUQsRUFBWWxELEtBQVM4QyxFQUFvQkssRUFBRXRQLEVBQVNtTSxJQUM1RXhMLE9BQU9DLGVBQWVaLEVBQVNtTSxFQUFLLENBQUV4QyxZQUFZLEVBQU1DLElBQUt5RixFQUFXbEQsTUNKM0U4QyxFQUFvQkssRUFBSSxDQUFDQyxFQUFLQyxJQUFVN08sT0FBTzZNLFVBQVVDLGVBQWVDLEtBQUs2QixFQUFLQyxHQ0NsRlAsRUFBb0JRLEVBQUt6UCxJQUNILG9CQUFYNE4sUUFBMEJBLE9BQU84QixhQUMxQy9PLE9BQU9DLGVBQWVaLEVBQVM0TixPQUFPOEIsWUFBYSxDQUFFN08sTUFBTyxXQUU3REYsT0FBT0MsZUFBZVosRUFBUyxhQUFjLENBQUVhLE9BQU8sS0NGN0JvTyxFQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LXF1ZXJ5L3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL3NyYy9jb21wb25lbnRzL3V0aWxzL0NSVUQvaW5kZXgudHN4Iiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL2NvbXBvbmVudHMvdXRpbHMvRXJyb3JCb3VuZGFyeS9pbmRleC50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvY29tcG9uZW50cy91dGlscy9RdWVyeS9pbmRleC50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvY29tcG9uZW50cy91dGlscy9RdWVyeU9wdGlvbnNQcm92aWRlci9pbmRleC50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvbW9kdWxlLnRzIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL3V0aWxzL2FwaS50cyIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL3NyYy91dGlscy9sb2cudHMiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvdXRpbHMvdXRpbC50cyIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL25vZGVfbW9kdWxlcy9mYXN0LWRlZXAtZXF1YWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvY29tcG9uZW50cy91dGlscy9FcnJvckJvdW5kYXJ5L2luZGV4Lm1vZHVsZS5zY3NzPzY5OTkiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9ub2RlX21vZHVsZXMvcmVhY3QvY2pzL3JlYWN0LWpzeC1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vbm9kZV9tb2R1bGVzL3JlYWN0L2pzeC1ydW50aW1lLmpzIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5L2V4dGVybmFsIHVtZCBcInJlYWN0XCIiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wicmVhY3RcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wicmVhY3QtcXVlcnlcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wicmVhY3QtcXVlcnlcIl0gPSBmYWN0b3J5KHJvb3RbXCJyZWFjdFwiXSk7XG59KShzZWxmLCAoX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMTU2X18pID0+IHtcbnJldHVybiAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGpzeF9ydW50aW1lXzEgPSByZXF1aXJlKFwicmVhY3QvanN4LXJ1bnRpbWVcIik7XG5jb25zdCBhcGlfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9hcGlcIik7XG5jb25zdCBsb2dfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9sb2dcIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvdXRpbFwiKTtcbmNvbnN0IEVycm9yQm91bmRhcnlfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vRXJyb3JCb3VuZGFyeVwiKSk7XG5jb25zdCBRdWVyeV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9RdWVyeVwiKSk7XG5jb25zdCBRdWVyeU9wdGlvbnNQcm92aWRlcl8xID0gcmVxdWlyZShcIi4uL1F1ZXJ5T3B0aW9uc1Byb3ZpZGVyXCIpO1xuY29uc3QgZmFzdF9kZWVwX2VxdWFsXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcImZhc3QtZGVlcC1lcXVhbFwiKSk7XG5jb25zdCByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xuLyoqXG4gKiBUaGlzIGNvbXBvbmVudCBpcyB1c2VkIHRvIHNpbXBsaWZ5IGBDUlVEYCBvcGVyYXRpb25zLlxuICogWW91IGdpdmUgaXQgdGhlIGBlbmRwb2ludChzKWAgdG8gd2hpY2ggeW91IHdhbnQgdG8gZG8gcmVxdWVzdHMgYW5kIGl0IHdpbGwgaGFuZGxlXG4gKiBhbGwgb2YgdGhlIHRhc2tzIGluIHRoZSBiYWNrZ3JvdW5kIGFuZCB1cGRhdGUgdGhlIHN0YXRlIG9mIHRoZSB2YXJpYWJsZXNcbiAqIGl0IGdpdmVzIHlvdSBmcm9tIHRoZSBjaGlsZCBmdW5jdGlvbi5cbiAqXG4gKiBNYWtlIHN1cmUgdG8gZGVmaW5lIHRoZSBRdWVyeU9wdGlvbnMgcGFyYW0gd2l0aCB0aGUgYFF1ZXJ5T3B0aW9uc1Byb3ZpZGVyYCBjb21wb25lbnRcbiAqXG4gKiBHbyB0byB0aGUgW2V4YW1wbGVzIGRpcmVjdG9yeV0oaHR0cHM6Ly9iaXRidWNrZXQub3JnL25lb3Zpc2lvbi9yZWFjdC1xdWVyeS9zcmMvbWFzdGVyL3NyYy9leGFtcGxlcykgdG8gc2VlIGV4YW1wbGVzXG4gKi9cbmNvbnN0IENSVUQgPSAoeyBjaGlsZHJlbiwgZW5kUG9pbnRzLCBvbkNyZWF0ZWQsIG9uUmVhZCwgb25VcGRhdGVkLCBvbkRlbGV0ZWQsIGRlbGF5LCB0eXBlID0gJ2FycmF5JywgfSkgPT4ge1xuICAgIGNvbnN0IFtjcmVhdGVFbmRwb2ludCwgcmVhZEVuZHBvaW50LCB1cGRhdGVFbmRwb2ludCwgZGVsZXRlRW5kcG9pbnRdID0gdHlwZW9mIGVuZFBvaW50cyA9PSAnc3RyaW5nJ1xuICAgICAgICA/IG5ldyBBcnJheSg0KS5maWxsKGVuZFBvaW50cylcbiAgICAgICAgOiBbZW5kUG9pbnRzLmNyZWF0ZSwgZW5kUG9pbnRzLnJlYWQsIGVuZFBvaW50cy51cGRhdGUsIGVuZFBvaW50cy5kZWxldGVdO1xuICAgIGNvbnN0IHsgcGFyYW1ldGVyVHlwZSwgZG9tYWluLCByZXF1ZXN0TWlkZGxld2FyZSwgbW9kZSwgdmVyYm9zaXR5LCBpZE5hbWUgfSA9ICgwLCBRdWVyeU9wdGlvbnNQcm92aWRlcl8xLnVzZVF1ZXJ5T3B0aW9ucykoKTtcbiAgICAoMCwgcmVhY3RfMS51c2VFZmZlY3QpKCgpID0+IHtcbiAgICAgICAgKDAsIGxvZ18xLnJlcXVlc3RMb2cpKG1vZGUsIHZlcmJvc2l0eSwgNSwgYFtlbmRwb2ludHNdYCwgYFtDXSR7Y3JlYXRlRW5kcG9pbnR9YCwgYFtSXSR7cmVhZEVuZHBvaW50fWAsIGBbVV0ke3VwZGF0ZUVuZHBvaW50fWAsIGBbRF0ke2RlbGV0ZUVuZHBvaW50fWApO1xuICAgIH0sIFtjcmVhdGVFbmRwb2ludCwgcmVhZEVuZHBvaW50LCB1cGRhdGVFbmRwb2ludCwgZGVsZXRlRW5kcG9pbnRdKTtcbiAgICByZXR1cm4gKCgwLCBqc3hfcnVudGltZV8xLmpzeCkoRXJyb3JCb3VuZGFyeV8xLmRlZmF1bHQsIHsgY2hpbGRyZW46ICgwLCBqc3hfcnVudGltZV8xLmpzeCkoUXVlcnlfMS5kZWZhdWx0LCB7IHF1ZXJ5OiBgJHtyZWFkRW5kcG9pbnR9YCwgZGVsYXk6IGRlbGF5LCBvblJlYWQ6IG9uUmVhZCwgY2hpbGRyZW46IChkYXRhLCBsb2FkaW5nLCBlcnJvciwgbWFudWFsVXBkYXRlLCBxdWVyeVJlZnJlc2gpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKCgwLCBqc3hfcnVudGltZV8xLmpzeCkocmVhY3RfMS5GcmFnbWVudCwgeyBjaGlsZHJlbjogY2hpbGRyZW4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ3JlYXRlOiAoZSwgcGFyYW1zID0geyBtZXRob2Q6ICdQT1NUJyB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbWV0aG9kID0gJ1BPU1QnLCBwYXRoVGFpbCB9ID0gcGFyYW1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gKDAsIHV0aWxfMS5nZXRGb3JtRGF0YSkoZS50YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZHBvaW50ID0gYCR7Y3JlYXRlRW5kcG9pbnR9LyR7cGF0aFRhaWwgPyBgJHtwYXRoVGFpbH0vYCA6ICcnfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ18xLnJlcXVlc3RMb2cpKG1vZGUsIHZlcmJvc2l0eSwgMSwgYFtjcmVhdGVdWyR7bWV0aG9kfV1gLCBgJHtkb21haW59LyR7ZW5kcG9pbnR9YCwgZm9ybURhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoMCwgYXBpXzEucmVxdWVzdCkoZG9tYWluLCBlbmRwb2ludCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShmb3JtRGF0YSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogcmVxdWVzdE1pZGRsZXdhcmU/LigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChjcmVhdGVkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbnVhbFVwZGF0ZT8uKFsuLi5kYXRhLCBjcmVhdGVkXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ3JlYXRlZD8uKCkgJiYgcXVlcnlSZWZyZXNoPy4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJldXIgZGUgY3LDqWF0aW9uYCwgYFVuZSBlcnJldXIgZXN0IHN1cnZlbnUgbG9ycyBkZSBsYSBjcsOpYXRpb24gZGFucyBsYSBiYXNlIGRlIGRvbm7DqWVzYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZDogeyBkYXRhLCBsb2FkaW5nLCBlcnJvciB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVXBkYXRlOiAoZSwgcGFyYW1zID0geyBtZXRob2Q6ICdQVVQnLCBuYW1lOiBpZE5hbWUgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG1ldGhvZCA9ICdQVVQnLCBwYXRoVGFpbCwgbmFtZSA9IGlkTmFtZSB9ID0gcGFyYW1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhcyA9ICgwLCB1dGlsXzEuZm9ybUV4dHJhY3RvcikoZS50YXJnZXQsIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdEYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09ICdhcnJheScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGEgPSBbLi4uZGF0YV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdEYXRhID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhcy5mb3JFYWNoKChmb3JtRGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWlsID0gKDAsIHV0aWxfMS5nZXRQYXRoVGFpbCkoZm9ybURhdGEsIHBhcmFtZXRlclR5cGUsIG5hbWUsIHBhdGhUYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBgJHt1cGRhdGVFbmRwb2ludH0vJHt0YWlsID8gYCR7dGFpbH0vYCA6ICcnfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoYXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gbmV3RGF0YS5maW5kSW5kZXgoKHZhbCkgPT4gdmFsW25hbWVdID09IHRhaWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lcmdlZERhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLm5ld0RhdGFbaW5kZXhdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5mb3JtRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZWQgPSAhKDAsIGZhc3RfZGVlcF9lcXVhbF8xLmRlZmF1bHQpKG5ld0RhdGFbaW5kZXhdLCBtZXJnZWREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdEYXRhW2luZGV4XSA9IG1lcmdlZERhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YS5wdXNoKGZvcm1EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZWQgPSAhKDAsIGZhc3RfZGVlcF9lcXVhbF8xLmRlZmF1bHQpKG5ld0RhdGEsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YSA9IHsgLi4ubmV3RGF0YSwgLi4uZm9ybURhdGEgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ18xLnJlcXVlc3RMb2cpKG1vZGUsIHZlcmJvc2l0eSwgMSwgYFt1cGRhdGVdWyR7bWV0aG9kfV1gLCBgJHtkb21haW59LyR7ZW5kcG9pbnR9YCwgZm9ybURhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaCgoMCwgYXBpXzEucmVxdWVzdCkoZG9tYWluLCBlbmRwb2ludCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGZvcm1EYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogcmVxdWVzdE1pZGRsZXdhcmU/LigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW51YWxVcGRhdGU/LihuZXdEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25VcGRhdGVkPy4oKSAmJiBxdWVyeVJlZnJlc2g/LigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZURlbGV0ZTogKGUsIHBhcmFtcyA9IHsgbWV0aG9kOiAnREVMRVRFJywgbmFtZTogaWROYW1lIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlPy5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGU/LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbWV0aG9kID0gJ0RFTEVURScsIHBhdGhUYWlsLCBuYW1lID0gaWROYW1lLCBpZCwgfSA9IHBhcmFtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWlsID0gKDAsIHV0aWxfMS5nZXRQYXRoVGFpbCkoeyBbbmFtZV06IGlkLnRvU3RyaW5nKCkgfSwgcGFyYW1ldGVyVHlwZSwgbmFtZSwgcGF0aFRhaWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZHBvaW50ID0gYCR7ZGVsZXRlRW5kcG9pbnR9LyR7dGFpbH0vYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nXzEucmVxdWVzdExvZykobW9kZSwgdmVyYm9zaXR5LCAxLCBgW2RlbGV0ZV1bJHttZXRob2R9XWAsIGAke2RvbWFpbn0vJHtlbmRwb2ludH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDAsIGFwaV8xLnJlcXVlc3QpKGRvbWFpbiwgZW5kcG9pbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXF1ZXN0TWlkZGxld2FyZT8uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZGF0YS5maW5kSW5kZXgoKHZhbCkgPT4gdmFsW25hbWVdID09IGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGVkRGF0YSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nXzEucmVxdWVzdExvZykobW9kZSwgdmVyYm9zaXR5LCAzLCBgUmVtb3ZpbmcgaW5kZXggJHtpbmRleH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0FyciA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50eXBlZERhdGEuc2xpY2UoMCwgaW5kZXgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnR5cGVkRGF0YS5zbGljZShpbmRleCArIDEsIHR5cGVkRGF0YS5sZW5ndGgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dfMS5yZXF1ZXN0TG9nKShtb2RlLCB2ZXJib3NpdHksIDQsIGBBcnJheSB1cGRhdGVkYCwgbmV3QXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbnVhbFVwZGF0ZT8uKG5ld0Fycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW51YWxVcGRhdGU/LihkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRlbGV0ZWQ/LigpICYmIHF1ZXJ5UmVmcmVzaD8uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LCBxdWVyeVJlZnJlc2gpIH0pKTtcbiAgICAgICAgICAgIH0gfSkgfSkpO1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9IENSVUQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGpzeF9ydW50aW1lXzEgPSByZXF1aXJlKFwicmVhY3QvanN4LXJ1bnRpbWVcIik7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnNhZmUtZmluYWxseSAqL1xuY29uc3QgaW5kZXhfbW9kdWxlX3Njc3NfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9pbmRleC5tb2R1bGUuc2Nzc1wiKSk7XG5jb25zdCByZWFjdF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5jbGFzcyBFcnJvckJvdW5kYXJ5IGV4dGVuZHMgcmVhY3RfMS5kZWZhdWx0LkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBoYXNFcnJvcjogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjogeyBlOiB1bmRlZmluZWQsIGluZm86IHVuZGVmaW5lZCB9LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNvbXBvbmVudERpZENhdGNoID0gKGUsIGluZm8pID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaGFzRXJyb3I6IHRydWUsIGVycm9yOiB7IGUsIGluZm8gfSB9KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBjb25zdCB7IGhhc0Vycm9yLCBlcnJvciB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgaWYgKCFoYXNFcnJvcilcbiAgICAgICAgICAgIHJldHVybiAoMCwganN4X3J1bnRpbWVfMS5qc3gpKHJlYWN0XzEuZGVmYXVsdC5GcmFnbWVudCwgeyBjaGlsZHJlbjogY2hpbGRyZW4gfSk7XG4gICAgICAgIHJldHVybiAoKDAsIGpzeF9ydW50aW1lXzEuanN4cykoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGluZGV4X21vZHVsZV9zY3NzXzEuZGVmYXVsdC5tYWluLCBjaGlsZHJlbjogWygwLCBqc3hfcnVudGltZV8xLmpzeCkoXCJkaXZcIiwgeyBjaGlsZHJlbjogZXJyb3I/LmU/Lm1lc3NhZ2UgfSksICgwLCBqc3hfcnVudGltZV8xLmpzeCkoXCJoclwiLCB7fSksICgwLCBqc3hfcnVudGltZV8xLmpzeCkoXCJkaXZcIiwgeyBjaGlsZHJlbjogZXJyb3I/LmluZm8/LmNvbXBvbmVudFN0YWNrIH0pXSB9KSk7XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gRXJyb3JCb3VuZGFyeTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QganN4X3J1bnRpbWVfMSA9IHJlcXVpcmUoXCJyZWFjdC9qc3gtcnVudGltZVwiKTtcbmNvbnN0IEVycm9yQm91bmRhcnlfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vRXJyb3JCb3VuZGFyeVwiKSk7XG5jb25zdCBRdWVyeU9wdGlvbnNQcm92aWRlcl8xID0gcmVxdWlyZShcIi4uL1F1ZXJ5T3B0aW9uc1Byb3ZpZGVyXCIpO1xuY29uc3QgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbi8qKlxuICogVGhlIHF1ZXJ5IGNvbXBvbmVudCBpcyBhIGZldGNoIHdyYXBwZXIgdGhhdCBhbGxvd3MgdG8gZGlyZWN0bHkgYWRkIGxvZ2ljIGluIHRoZSBkZXNpZ24gb2YgdGhlIHJlYWN0IERPTSBhcmNoaXRlY3R1cmVcbiAqL1xuY29uc3QgUXVlcnkgPSAoeyBjaGlsZHJlbiwgcXVlcnksIG1ldGhvZCwgZGVsYXksIGJvZHksIG9uUmVhZCwgfSkgPT4ge1xuICAgIC8vIFRoZSBkZWZhdWx0IGRhdGEvbG9hZC9lcnJvciB0cmlwbGVcbiAgICBjb25zdCBbZGF0YUxvYWRFcnIsIHNldERhdGFMb2FkRXJyXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKSh7XG4gICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgIH0pO1xuICAgIGNvbnN0IHJlcXVlc3QgPSAoMCwgUXVlcnlPcHRpb25zUHJvdmlkZXJfMS51c2VSZXF1ZXN0KSgpO1xuICAgIGNvbnN0IFtjb250cm9sbGVyLCBzZXRDb250cm9sbGVyXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKSgpO1xuICAgIGNvbnN0IFtyZWZyZXNoLCBzZXRSZWZyZXNoXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKShmYWxzZSk7XG4gICAgY29uc3QgbWFudWFsVXBkYXRlID0gKDAsIHJlYWN0XzEudXNlQ2FsbGJhY2spKChkYXRhKSA9PiBzZXREYXRhTG9hZEVycih7XG4gICAgICAgIGRhdGEsXG4gICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICB9KSwgW2RhdGFMb2FkRXJyXSk7XG4gICAgLy8gQ2hlY2sgaWYgdGhlIHF1ZXJ5IHByb3AgaGFzIGNoYW5nZWRcbiAgICAoMCwgcmVhY3RfMS51c2VFZmZlY3QpKCgpID0+IHtcbiAgICAgICAgY29udHJvbGxlcj8uYWJvcnQoKTtcbiAgICAgICAgY29uc3QgY3RybCA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgY29uc3QgdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHJlcXVlc3QocXVlcnksIHtcbiAgICAgICAgICAgICAgICBzaWduYWw6IGN0cmwuc2lnbmFsLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0RGF0YUxvYWRFcnIoeyBkYXRhOiByZXMsIGxvYWRpbmc6IGZhbHNlLCBlcnJvcjogbnVsbCB9KTtcbiAgICAgICAgICAgICAgICBvblJlYWQ/LihyZXMpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIubmFtZSA9PSAnQWJvcnRFcnJvcicpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBzZXREYXRhTG9hZEVycih7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZGVsYXkgPz8gMCk7XG4gICAgICAgIHNldENvbnRyb2xsZXIoY3RybCk7XG4gICAgICAgIHNldERhdGFMb2FkRXJyKHsgZGF0YTogbnVsbCwgbG9hZGluZzogdHJ1ZSwgZXJyb3I6IG51bGwgfSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjdHJsPy5hYm9ydCgpO1xuICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgfTtcbiAgICB9LCBbcXVlcnksIHJlZnJlc2hdKTtcbiAgICByZXR1cm4gKCgwLCBqc3hfcnVudGltZV8xLmpzeCkoRXJyb3JCb3VuZGFyeV8xLmRlZmF1bHQsIHsgY2hpbGRyZW46IGNoaWxkcmVuKGRhdGFMb2FkRXJyLmRhdGEsIGRhdGFMb2FkRXJyLmxvYWRpbmcsIGRhdGFMb2FkRXJyLmVycm9yLCBtYW51YWxVcGRhdGUsICgpID0+IHNldFJlZnJlc2goIXJlZnJlc2gpKSB9KSk7XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gUXVlcnk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUXVlcnlPcHRpb25zUHJvdmlkZXIgPSBleHBvcnRzLnVzZVJlcXVlc3QgPSBleHBvcnRzLnVzZVF1ZXJ5T3B0aW9ucyA9IHZvaWQgMDtcbmNvbnN0IGFwaV8xID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL2FwaVwiKTtcbmNvbnN0IHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG5jb25zdCBxdWVyeU9wdGlvbnNDb250ZXh0ID0gKDAsIHJlYWN0XzEuY3JlYXRlQ29udGV4dCkoe1xuICAgIGRvbWFpbjogJycsXG4gICAgcGFyYW1ldGVyVHlwZTogJ3BhdGgnLFxuICAgIG1vZGU6ICdwcm9kdWN0aW9uJyxcbiAgICB2ZXJib3NpdHk6IDEsXG4gICAgaWROYW1lOiAnaWQnLFxufSk7XG5jb25zdCB1c2VRdWVyeU9wdGlvbnMgPSAoKSA9PiB7XG4gICAgY29uc3QgY3R4ID0gKDAsIHJlYWN0XzEudXNlQ29udGV4dCkocXVlcnlPcHRpb25zQ29udGV4dCk7XG4gICAgaWYgKCFjdHgpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGNvbnRleHQgZm9yICd1c2VRdWVyeU9wdGlvbnMnXCIpO1xuICAgIGlmICghY3R4LmlkTmFtZSlcbiAgICAgICAgY3R4LmlkTmFtZSA9ICdpZCc7XG4gICAgcmV0dXJuIGN0eDtcbn07XG5leHBvcnRzLnVzZVF1ZXJ5T3B0aW9ucyA9IHVzZVF1ZXJ5T3B0aW9ucztcbmNvbnN0IHVzZVJlcXVlc3QgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBkb21haW4sIG1vZGU6IHFNb2RlLCByZXF1ZXN0TWlkZGxld2FyZTogcVJlcXVlc3RNaWRkbGV3YXJlLCB9ID0gKDAsIGV4cG9ydHMudXNlUXVlcnlPcHRpb25zKSgpO1xuICAgIHJldHVybiBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucyA9IHsgbWV0aG9kOiAnR0VUJyB9KSB7XG4gICAgICAgIGNvbnN0IHsgaGVhZGVycyA9IHFSZXF1ZXN0TWlkZGxld2FyZSgpLCBib2R5LCBtZXRob2QgPSAnR0VUJywgbW9kZSA9IHFNb2RlLCBzaWduYWwsIH0gPSBvcHRpb25zO1xuICAgICAgICByZXR1cm4gKDAsIGFwaV8xLnJlcXVlc3QpKGRvbWFpbiwgcGF0aCwgeyBib2R5LCBoZWFkZXJzLCBtZXRob2QsIG1vZGUsIHNpZ25hbCB9KTtcbiAgICB9O1xufTtcbmV4cG9ydHMudXNlUmVxdWVzdCA9IHVzZVJlcXVlc3Q7XG5leHBvcnRzLlF1ZXJ5T3B0aW9uc1Byb3ZpZGVyID0gcXVlcnlPcHRpb25zQ29udGV4dC5Qcm92aWRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51c2VRdWVyeU9wdGlvbnMgPSBleHBvcnRzLnVzZVJlcXVlc3QgPSBleHBvcnRzLnJlcXVlc3QgPSBleHBvcnRzLlF1ZXJ5T3B0aW9uc1Byb3ZpZGVyID0gZXhwb3J0cy5RdWVyeSA9IGV4cG9ydHMuQ1JVRCA9IHZvaWQgMDtcbmNvbnN0IENSVURfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9jb21wb25lbnRzL3V0aWxzL0NSVURcIikpO1xuZXhwb3J0cy5DUlVEID0gQ1JVRF8xLmRlZmF1bHQ7XG5jb25zdCBRdWVyeV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvdXRpbHMvUXVlcnlcIikpO1xuZXhwb3J0cy5RdWVyeSA9IFF1ZXJ5XzEuZGVmYXVsdDtcbmNvbnN0IFF1ZXJ5T3B0aW9uc1Byb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3V0aWxzL1F1ZXJ5T3B0aW9uc1Byb3ZpZGVyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUXVlcnlPcHRpb25zUHJvdmlkZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFF1ZXJ5T3B0aW9uc1Byb3ZpZGVyXzEuUXVlcnlPcHRpb25zUHJvdmlkZXI7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ1c2VRdWVyeU9wdGlvbnNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFF1ZXJ5T3B0aW9uc1Byb3ZpZGVyXzEudXNlUXVlcnlPcHRpb25zOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidXNlUmVxdWVzdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gUXVlcnlPcHRpb25zUHJvdmlkZXJfMS51c2VSZXF1ZXN0OyB9IH0pO1xuY29uc3QgYXBpXzEgPSByZXF1aXJlKFwiLi91dGlscy9hcGlcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZXF1ZXN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBhcGlfMS5yZXF1ZXN0OyB9IH0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJlcXVlc3QgPSB2b2lkIDA7XG5jb25zdCBsb2dfMSA9IHJlcXVpcmUoXCIuL2xvZ1wiKTtcbmNvbnN0IHJlcXVlc3QgPSBmdW5jdGlvbiAoZG9tYWluLCBwYXRoLCBvcHRpb25zID0geyBtZXRob2Q6ICdHRVQnIH0pIHtcbiAgICBjb25zdCB7IGJvZHksIG1ldGhvZCA9ICdHRVQnLCBoZWFkZXJzLCBtb2RlID0gJ3Byb2R1Y3Rpb24nLCBzaWduYWwsIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHJlcSA9IChoZWFkZXJzKSA9PiB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHtkb21haW59LyR7cGF0aH1gLCB7XG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIHNpZ25hbCxcbiAgICAgICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy50ZXh0KCkudGhlbigodCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRlcnM/LlsnQ29udGVudC1UeXBlJ10gPT0gJ2FwcGxpY2F0aW9uL2pzb24nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nXzEucXVlcnlXYXJuKShtb2RlLCAwLCAwLCBgQ291bGQgbm90IHBhcnNlIHJlc3BvbnNlIHRvIGpzb25gLCByZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlcy50ZXh0KCkudGhlbigodCkgPT4ge1xuICAgICAgICAgICAgICAgICgwLCBsb2dfMS5xdWVyeUVycm9yKSh0KTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgKHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlamVjdC5uYW1lID09ICdBYm9ydEVycm9yJylcbiAgICAgICAgICAgICAgICAoMCwgbG9nXzEucXVlcnlXYXJuKShtb2RlLCAwLCAwLCByZWplY3QubWVzc2FnZSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgKDAsIGxvZ18xLnF1ZXJ5RXJyb3IpKHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIGhlYWRlcnMgPyBoZWFkZXJzLnRoZW4ocmVxKSA6IHJlcSh7fSk7XG59O1xuZXhwb3J0cy5yZXF1ZXN0ID0gcmVxdWVzdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5xdWVyeUVycm9yID0gZXhwb3J0cy5xdWVyeVdhcm4gPSBleHBvcnRzLnJlcXVlc3RMb2cgPSB2b2lkIDA7XG5jb25zdCByZXF1ZXN0TG9nID0gKG1vZGUsIHBhcmFtVmVyYm9zaXR5LCBsaW1pdFZlcmJvc2l0eSwgLi4ucykgPT4ge1xuICAgIGlmIChtb2RlID09ICdkZXZlbG9wbWVudCcgJiYgbGltaXRWZXJib3NpdHkgPD0gcGFyYW1WZXJib3NpdHkpXG4gICAgICAgIGNvbnNvbGUubG9nKGBbcmVhY3QtcXVlcnldYCwgLi4ucyk7XG59O1xuZXhwb3J0cy5yZXF1ZXN0TG9nID0gcmVxdWVzdExvZztcbmNvbnN0IHF1ZXJ5V2FybiA9IChtb2RlLCBwYXJhbVZlcmJvc2l0eSwgbGltaXRWZXJib3NpdHksIC4uLnMpID0+IHtcbiAgICBpZiAobW9kZSA9PSAnZGV2ZWxvcG1lbnQnICYmIGxpbWl0VmVyYm9zaXR5IDw9IHBhcmFtVmVyYm9zaXR5KVxuICAgICAgICBjb25zb2xlLndhcm4oYFtyZWFjdC1xdWVyeV1gLCAuLi5zKTtcbn07XG5leHBvcnRzLnF1ZXJ5V2FybiA9IHF1ZXJ5V2FybjtcbmNvbnN0IHF1ZXJ5RXJyb3IgPSAoLi4ucykgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoYFtyZWFjdC1xdWVyeV1gLCAuLi5zKTtcbn07XG5leHBvcnRzLnF1ZXJ5RXJyb3IgPSBxdWVyeUVycm9yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnVzZUZvcmNlVXBkYXRlID0gZXhwb3J0cy5nZXRQYXRoVGFpbCA9IGV4cG9ydHMuc2VwZXJhdGUgPSBleHBvcnRzLnNlcGVyYXRlQW5kS2VlcElkcyA9IGV4cG9ydHMuZm9ybUV4dHJhY3RvciA9IGV4cG9ydHMuZ2V0Rm9ybURhdGEgPSB2b2lkIDA7XG5jb25zdCByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xuLyoqXG4gKiBnZXRGb3JtRGF0YSBleHRyYWN0cyB0aGUgdmFsdWVzIG9mIHRoZSBpbnB1dCBlbGVtZW50c1xuICogcmVjZWl2ZWQgZnJvbSB0aGUgdGFyZ2V0IG9iamVjdFxuICogQHBhcmFtIHRhcmdldCBUYXJnZXQgcmVjZWl2ZWQgZnJvbSB0aGUgb2JqZWN0IGV2ZW50XG4gKiBAcmV0dXJucyBBbiBvYmplY3Qgb2YgdHlwZSBUIGJ5IGRlZmF1bHQgd2l0aCBrZXkgdmFsdWUgcGFpcnNcbiAqL1xuY29uc3QgZ2V0Rm9ybURhdGEgPSAodGFyZ2V0KSA9PiB7XG4gICAgY29uc3QgdHlwZWRUYXJnZXQgPSB0YXJnZXQ7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRhcmdldClcbiAgICAgICAgLm1hcCgoaykgPT4ge1xuICAgICAgICByZXR1cm4gdHlwZWRUYXJnZXRba107XG4gICAgfSlcbiAgICAgICAgLy8gS2VlcCBuYW1lZCBpbnB1dCBhbmQgc2VsZWN0XG4gICAgICAgIC5maWx0ZXIoKHYpID0+IHtcbiAgICAgICAgY29uc3QgdGFnID0gdi50YWdOYW1lPy50b0xvY2FsZUxvd2VyQ2FzZT8uKCk7XG4gICAgICAgIHJldHVybiB2Lm5hbWUgJiYgKHRhZyA9PSAnaW5wdXQnIHx8IHRhZyA9PSAnc2VsZWN0Jyk7XG4gICAgfSlcbiAgICAgICAgLnJlZHVjZSgoYWNjLCBjdXIpID0+IHtcbiAgICAgICAgY29uc3QgeyBuYW1lLCB2YWx1ZSwgY2hlY2tlZCwgdHlwZSwgcmVxdWlyZWQgfSA9IGN1cjtcbiAgICAgICAgY29uc3QgaXNDaGVja2JveCA9IHR5cGUgPT0gJ2NoZWNrYm94JztcbiAgICAgICAgY29uc3QgaXNWYWxFbXB0eSA9IHZhbHVlID09ICcnIHx8IHZhbHVlID09IG51bGw7XG4gICAgICAgIGlmIChyZXF1aXJlZCAmJiBpc1ZhbEVtcHR5KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCB1c2UgYW4gZW1wdHkgdmFsdWUgZm9yICR7bmFtZX1gKTtcbiAgICAgICAgbGV0IGZpbmFsVmFsdWUgPSB0eXBlID09ICdudW1iZXInID8gbmV3IE51bWJlcih2YWx1ZSkudmFsdWVPZigpIDogdmFsdWU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgICBbbmFtZV06IGlzQ2hlY2tib3ggPyBjaGVja2VkIDogZmluYWxWYWx1ZSxcbiAgICAgICAgfTtcbiAgICB9LCB7fSk7XG59O1xuZXhwb3J0cy5nZXRGb3JtRGF0YSA9IGdldEZvcm1EYXRhO1xuLyoqXG4gKiBFeHRyYWN0cyBhbGwgdGhlIG5lY2Vzc2FyeSBkYXRhIGZyb20gdGhlIGZvcm0gdGFyZ2V0XG4gKlxuICogQHBhcmFtIHRhcmdldCBUYXJnZXQgcmVjZWl2ZWQgZnJvbSB0aGUgb2JqZWN0IGV2ZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSB0aGF0IGlkZW50aWZpZXMgdGhlIGRhdGFcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZvcm1FeHRyYWN0b3Igd2l0aCBmb3JtIGlucHV0c1xuICogYGBgaHRtbFxuICogPGRpdj5cbiAqICA8aW5wdXQgbmFtZT1cImlkLTFcIiAvPlxuICogIDxpbnB1dCBuYW1lPVwiYWRkcmVzcy0xXCIgdmFsdWU9XCIyIEhhcmxleSBzdHJlZXRcIiAvPlxuICogPC9kaXY+XG4gKiAuLi5cbiAqIDxkaXY+XG4gKiAgPGlucHV0IG5hbWU9XCJpZC1uXCIgLz5cbiAqICA8aW5wdXQgbmFtZT1cImFkZHJlc3MtblwiIHZhbHVlPVwiMzUgcnVlIGNoYW1wcyDDqWx5c8OpZXNcIiAvPlxuICogPC9kaXY+XG4gKiBgYGBcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGZvcm1FeHRyYWN0b3IodGFyZ2V0LCBbXCJpZFwiXSk7XG4gKiAvLyBbXG4gKiAvLyAge2lkOiBcIjFcIiwgYWRkcmVzczogXCIyIEhhcmxleSBzdHJlZXRcIn0sXG4gKiAvLyAgLi4uLFxuICogLy8gIHtpZDogXCJuXCIsIGFkZHJlc3M6IFwiMzUgcnVlIGNoYW1wcyDDqWx5c8OpZXNcIn1cbiAqIC8vIF1cbiAqIGBgYFxuICpcbiAqIEByZXR1cm5zIHtGb3JtRXh0cmFjdG9yRGF0YX0gRm9ybUV4dHJhY29yRGF0YVxuICovXG5jb25zdCBmb3JtRXh0cmFjdG9yID0gKHRhcmdldCwgbmFtZSkgPT4ge1xuICAgIC8vIEdldCBhbGwgdGhlIGRhdGEgZnJvbSB0aGUgZm9ybVxuICAgIGNvbnN0IGZvcm1EYXRhID0gKDAsIGV4cG9ydHMuZ2V0Rm9ybURhdGEpKHRhcmdldCk7XG4gICAgLy8gU2ltcGx5IGNoZWNrIGlmIHRoZXJlIGlzIG5vIGlkIGZvciBlYWNoIGZvcm1EYXRhXG4gICAgaWYgKGZvcm1EYXRhW25hbWVdICE9IG51bGwpXG4gICAgICAgIHJldHVybiBbZm9ybURhdGFdO1xuICAgIC8vIEVhY2ggZm9ybURhdGEgaXMgc3BlY2lmaWMgdG8gYW4gaWRcbiAgICBjb25zdCB2YWx1ZXMgPSBPYmplY3QuZW50cmllcyhmb3JtRGF0YSk7XG4gICAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHtcbiAgICAgICAgY29uc3Qga2V5ID0gY3VyclswXTtcbiAgICAgICAgY29uc3QgW2F0dHIsIGlkXSA9ICgwLCBleHBvcnRzLnNlcGVyYXRlQW5kS2VlcElkcykoW2tleV0pWzBdO1xuICAgICAgICBjb25zdCBlbGVtID0gcHJldi5maW5kKChlbGVtKSA9PiBlbGVtW25hbWVdID09IGlkKTtcbiAgICAgICAgbGV0IHBhcnNlSWQgPSBpZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBhcnNlSWQgPSBwYXJzZUludChpZCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICBpZiAoZWxlbSlcbiAgICAgICAgICAgIGVsZW1bYXR0cl0gPSBjdXJyWzFdO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBwcmV2LnB1c2goeyBbbmFtZV06IHBhcnNlSWQsIFthdHRyXTogY3VyclsxXSB9KTtcbiAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgfSwgW10pO1xufTtcbmV4cG9ydHMuZm9ybUV4dHJhY3RvciA9IGZvcm1FeHRyYWN0b3I7XG4vKipcbiAqIFJlZ3JvdXAgc3RyaW5ncyBiYXNlZCBvbiB0aGVpciBpZHMgcmVwcmVzZW50ZWQgYnkgdGhlIGxhc3Qgc2VwZXJhdGlvbiBvZiB0aGUgc3RyaW5nXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBzZXBlcmF0ZUFuZEtlZXBJZHMoXCJoZWxsb1dvcmxkNVwiLFwiaGVsbG8td29ybGQ2XCIsIFwiaGVsbG9Xb3JsZDdcIiwgXCJoZWxsb1dvcmxkXCIpO1xuICogLy8gW1tcImhlbGxvV29ybGRcIiwgXCI1XCJdLCBbXCJoZWxsby13b3JsZFwiLCBcIjZcIl0sIFtcImhlbGxvV29ybGRcIiwgXCI3XCJdLCBbXCJoZWxsb1wiLCBcIldvcmxkXCJdXVxuICogYGBgXG4gKlxuICogQHBhcmFtIHN0cnMgVGhlIHN0cmluZyBhcnJheSB0byBzZWFyY2ggZm9yIGlkcyBhbmQgcmVncm91cCBhbGwgYXR0cmlidXRlcyB3aXRoIHRoZSBzYW1lIGlkc1xuICogQHJldHVybnMgQW5kIGFycmF5IG9mIGFycmF5cyBlYWNoIGNvbnRhaW5pbmcgdGhlIHBhcnNlZCBuYW1lIGFuZCBpZCBvZiB0aGUgc3RyaW5nXG4gKi9cbmNvbnN0IHNlcGVyYXRlQW5kS2VlcElkcyA9IChzdHJzKSA9PiB7XG4gICAgcmV0dXJuICgwLCBleHBvcnRzLnNlcGVyYXRlKShzdHJzKS5tYXAoKHYpID0+IHtcbiAgICAgICAgY29uc3Qgc2VwZXJhdGVkID0gdlsxXTtcbiAgICAgICAgY29uc3QgaWQgPSBzZXBlcmF0ZWRbc2VwZXJhdGVkLmxlbmd0aCAtIDFdO1xuICAgICAgICByZXR1cm4gW3ZbMF0ucmVwbGFjZShuZXcgUmVnRXhwKGAoLXxfKT8ke2lkfSRgKSwgJycpLCBpZF07XG4gICAgfSk7XG59O1xuZXhwb3J0cy5zZXBlcmF0ZUFuZEtlZXBJZHMgPSBzZXBlcmF0ZUFuZEtlZXBJZHM7XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gc2VwZXJhdGVzIHN0cmluZ3MgYmFzZWQgb24gc3BlY2lhbCBjaGFyYWN0ZXJzIC8gY2FzZVxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogc2VwZXJhdGUoW1wiaGVsbG8td29ybGRcIiwgXCJoZWxsb1dvcmxkMlwiLCBcImhlbGxvX3dvcmxkXzJcIl0pXG4gKiAvLyBbXG4gKiAvLyAgIFtcImhlbGxvLXdvcmxkXCIsIFtcImhlbGxvXCIsXCJ3b3JsZFwiXV0sXG4gKiAvLyAgIFtcImhlbGxvV29ybGQyXCIsIFtcImhlbGxvXCIsXCJ3b3JsZFwiLCBcIjJcIl1dLFxuICogLy8gICBbXCJoZWxsb193b3JsZF8yXCIsIFtcImhlbGxvXCIsIFwid29ybGRcIiwgXCIyXCJdXVxuICogLy8gXVxuICogYGBgXG4gKlxuICogQHBhcmFtIHN0cnMgVGhlIHN0cmluZyBhcnJheSB0byB0cnkgc2VwZXJhdGVcbiAqIEByZXR1cm5zIEFuIGFycmF5IG9mIGFycmF5cyB3aXRoIHRoZSBpbnB1dCAvIG91dHB1dCBzdHJpbmdzXG4gKi9cbmNvbnN0IHNlcGVyYXRlID0gKHN0cnMpID0+IHtcbiAgICByZXR1cm4gc3Rycy5tYXAoKHN0cikgPT4ge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgc3RyLFxuICAgICAgICAgICAgc3RyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhbMC05XSspLywgJyAkMScpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLygtfF8pL2csICcgJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvKFtBLVpdKS9nLCAnICQxJylcbiAgICAgICAgICAgICAgICAudHJpbSgpXG4gICAgICAgICAgICAgICAgLnRvTG9jYWxlTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAuc3BsaXQoJyAnKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKHMpID0+IHMgIT0gJycpLFxuICAgICAgICBdO1xuICAgIH0pO1xufTtcbmV4cG9ydHMuc2VwZXJhdGUgPSBzZXBlcmF0ZTtcbmNvbnN0IGdldFBhdGhUYWlsID0gKGRhdGEsIHR5cGUsIG5hbWUsIHBhdGhUYWlsKSA9PiB7XG4gICAgY29uc3QgaWQgPSBkYXRhW25hbWVdO1xuICAgIGlmICh0eXBlID09ICdwYXRoJyAmJiBpZCAhPSAnJyAmJiBpZCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG4gICAgcmV0dXJuIHBhdGhUYWlsO1xufTtcbmV4cG9ydHMuZ2V0UGF0aFRhaWwgPSBnZXRQYXRoVGFpbDtcbmNvbnN0IHVzZUZvcmNlVXBkYXRlID0gKCkgPT4ge1xuICAgIHJldHVybiAoMCwgcmVhY3RfMS51c2VSZWR1Y2VyKSgoKSA9PiAoe30pLCB7fSlbMV07XG59O1xuZXhwb3J0cy51c2VGb3JjZVVwZGF0ZSA9IHVzZUZvcmNlVXBkYXRlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBkbyBub3QgZWRpdCAuanMgZmlsZXMgZGlyZWN0bHkgLSBlZGl0IHNyYy9pbmRleC5qc3RcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZXF1YWwoYSwgYikge1xuICBpZiAoYSA9PT0gYikgcmV0dXJuIHRydWU7XG5cbiAgaWYgKGEgJiYgYiAmJiB0eXBlb2YgYSA9PSAnb2JqZWN0JyAmJiB0eXBlb2YgYiA9PSAnb2JqZWN0Jykge1xuICAgIGlmIChhLmNvbnN0cnVjdG9yICE9PSBiLmNvbnN0cnVjdG9yKSByZXR1cm4gZmFsc2U7XG5cbiAgICB2YXIgbGVuZ3RoLCBpLCBrZXlzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggIT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOylcbiAgICAgICAgaWYgKCFlcXVhbChhW2ldLCBiW2ldKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG5cblxuICAgIGlmIChhLmNvbnN0cnVjdG9yID09PSBSZWdFeHApIHJldHVybiBhLnNvdXJjZSA9PT0gYi5zb3VyY2UgJiYgYS5mbGFncyA9PT0gYi5mbGFncztcbiAgICBpZiAoYS52YWx1ZU9mICE9PSBPYmplY3QucHJvdG90eXBlLnZhbHVlT2YpIHJldHVybiBhLnZhbHVlT2YoKSA9PT0gYi52YWx1ZU9mKCk7XG4gICAgaWYgKGEudG9TdHJpbmcgIT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpIHJldHVybiBhLnRvU3RyaW5nKCkgPT09IGIudG9TdHJpbmcoKTtcblxuICAgIGtleXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgICBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICBpZiAobGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOylcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIGtleXNbaV0pKSByZXR1cm4gZmFsc2U7XG5cbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXG4gICAgICBpZiAoIWVxdWFsKGFba2V5XSwgYltrZXldKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gdHJ1ZSBpZiBib3RoIE5hTiwgZmFsc2Ugb3RoZXJ3aXNlXG4gIHJldHVybiBhIT09YSAmJiBiIT09Yjtcbn07XG4iLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCBkZWZhdWx0IHtcImJ1dHRvbi1kZWZhdWx0XCI6XCJOMzRvYURnSHRKbHB0cXhWdjlQblwiLFwiYnV0dG9uLXNlbGVjdGVkXCI6XCJKYTBvdk9faDNlYUVzYWJvcURDN1wiLFwiYnV0dG9uLXByaW1hcnlcIjpcIktUZnVMRTdMblNHUkhERlBEMEVBXCIsXCJidXR0b24tdmFsaWRhdGVcIjpcImpZOU1JSHlPN1Q4V19RTnBmeDBrXCIsXCJidXR0b24taW52ZXJzZVwiOlwibTQwd2JudUpoNjdYeG1ZY3RKTFJcIixcImJ1dHRvbi1pZ25vcmVcIjpcIlplSWpoTFZ2dzBKcWp1UjhrWWpUXCIsXCJidXR0b24taW52YWxpZFwiOlwiWmVkamVEa0Z6bzZKY0FHeHlaUG5cIixcImJ1dHRvbi12YWxpZFwiOlwiSms3Zjc2WHBQN1NMRDkyTHZtTTNcIixcIm1haW5cIjpcIlNJQXB4UXpRbFpwMEwxZ04wX1FXXCJ9OyIsIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbid1c2Ugc3RyaWN0Jzt2YXIgZj1yZXF1aXJlKFwicmVhY3RcIiksaz1TeW1ib2wuZm9yKFwicmVhY3QuZWxlbWVudFwiKSxsPVN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSxtPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksbj1mLl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVELlJlYWN0Q3VycmVudE93bmVyLHA9e2tleTohMCxyZWY6ITAsX19zZWxmOiEwLF9fc291cmNlOiEwfTtcbmZ1bmN0aW9uIHEoYyxhLGcpe3ZhciBiLGQ9e30sZT1udWxsLGg9bnVsbDt2b2lkIDAhPT1nJiYoZT1cIlwiK2cpO3ZvaWQgMCE9PWEua2V5JiYoZT1cIlwiK2Eua2V5KTt2b2lkIDAhPT1hLnJlZiYmKGg9YS5yZWYpO2ZvcihiIGluIGEpbS5jYWxsKGEsYikmJiFwLmhhc093blByb3BlcnR5KGIpJiYoZFtiXT1hW2JdKTtpZihjJiZjLmRlZmF1bHRQcm9wcylmb3IoYiBpbiBhPWMuZGVmYXVsdFByb3BzLGEpdm9pZCAwPT09ZFtiXSYmKGRbYl09YVtiXSk7cmV0dXJueyQkdHlwZW9mOmssdHlwZTpjLGtleTplLHJlZjpoLHByb3BzOmQsX293bmVyOm4uY3VycmVudH19ZXhwb3J0cy5GcmFnbWVudD1sO2V4cG9ydHMuanN4PXE7ZXhwb3J0cy5qc3hzPXE7XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMTU2X187IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjc2KTtcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzE1Nl9fIiwiX19pbXBvcnREZWZhdWx0IiwidGhpcyIsIm1vZCIsIl9fZXNNb2R1bGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwianN4X3J1bnRpbWVfMSIsImFwaV8xIiwibG9nXzEiLCJ1dGlsXzEiLCJFcnJvckJvdW5kYXJ5XzEiLCJRdWVyeV8xIiwiUXVlcnlPcHRpb25zUHJvdmlkZXJfMSIsImZhc3RfZGVlcF9lcXVhbF8xIiwicmVhY3RfMSIsImNoaWxkcmVuIiwiZW5kUG9pbnRzIiwib25DcmVhdGVkIiwib25SZWFkIiwib25VcGRhdGVkIiwib25EZWxldGVkIiwiZGVsYXkiLCJ0eXBlIiwiY3JlYXRlRW5kcG9pbnQiLCJyZWFkRW5kcG9pbnQiLCJ1cGRhdGVFbmRwb2ludCIsImRlbGV0ZUVuZHBvaW50IiwiQXJyYXkiLCJmaWxsIiwiY3JlYXRlIiwicmVhZCIsInVwZGF0ZSIsImRlbGV0ZSIsInBhcmFtZXRlclR5cGUiLCJkb21haW4iLCJyZXF1ZXN0TWlkZGxld2FyZSIsIm1vZGUiLCJ2ZXJib3NpdHkiLCJpZE5hbWUiLCJ1c2VRdWVyeU9wdGlvbnMiLCJ1c2VFZmZlY3QiLCJyZXF1ZXN0TG9nIiwianN4IiwiZGVmYXVsdCIsInF1ZXJ5IiwiZGF0YSIsImxvYWRpbmciLCJlcnJvciIsIm1hbnVhbFVwZGF0ZSIsInF1ZXJ5UmVmcmVzaCIsIkZyYWdtZW50IiwiaGFuZGxlQ3JlYXRlIiwiZSIsInBhcmFtcyIsIm1ldGhvZCIsInByZXZlbnREZWZhdWx0IiwicGF0aFRhaWwiLCJmb3JtRGF0YSIsImdldEZvcm1EYXRhIiwidGFyZ2V0IiwiZW5kcG9pbnQiLCJyZXF1ZXN0IiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJoZWFkZXJzIiwidGhlbiIsImNyZWF0ZWQiLCJjYXRjaCIsImNvbnNvbGUiLCJoYW5kbGVVcGRhdGUiLCJuYW1lIiwiZm9ybURhdGFzIiwiZm9ybUV4dHJhY3RvciIsIm5ld0RhdGEiLCJwcm9taXNlcyIsImZvckVhY2giLCJ0YWlsIiwiZ2V0UGF0aFRhaWwiLCJoYXNDaGFuZ2VkIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJ2YWwiLCJ1bmRlZmluZWQiLCJtZXJnZWREYXRhIiwicHVzaCIsIlByb21pc2UiLCJhbGwiLCJoYW5kbGVEZWxldGUiLCJzdG9wUHJvcGFnYXRpb24iLCJpZCIsInRvU3RyaW5nIiwidHlwZWREYXRhIiwibmV3QXJyIiwic2xpY2UiLCJsZW5ndGgiLCJpbmRleF9tb2R1bGVfc2Nzc18xIiwiRXJyb3JCb3VuZGFyeSIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwic3VwZXIiLCJhcmd1bWVudHMiLCJzdGF0ZSIsImhhc0Vycm9yIiwiaW5mbyIsImNvbXBvbmVudERpZENhdGNoIiwic2V0U3RhdGUiLCJyZW5kZXIiLCJwcm9wcyIsImpzeHMiLCJjbGFzc05hbWUiLCJtYWluIiwibWVzc2FnZSIsImNvbXBvbmVudFN0YWNrIiwiZGF0YUxvYWRFcnIiLCJzZXREYXRhTG9hZEVyciIsInVzZVN0YXRlIiwidXNlUmVxdWVzdCIsImNvbnRyb2xsZXIiLCJzZXRDb250cm9sbGVyIiwicmVmcmVzaCIsInNldFJlZnJlc2giLCJ1c2VDYWxsYmFjayIsImFib3J0IiwiY3RybCIsIkFib3J0Q29udHJvbGxlciIsInRpbWVvdXQiLCJ3aW5kb3ciLCJzZXRUaW1lb3V0Iiwic2lnbmFsIiwicmVzIiwiZXJyIiwiY2xlYXJUaW1lb3V0IiwiUXVlcnlPcHRpb25zUHJvdmlkZXIiLCJxdWVyeU9wdGlvbnNDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsImN0eCIsInVzZUNvbnRleHQiLCJFcnJvciIsInFNb2RlIiwicVJlcXVlc3RNaWRkbGV3YXJlIiwicGF0aCIsIm9wdGlvbnMiLCJQcm92aWRlciIsIlF1ZXJ5IiwiQ1JVRCIsIkNSVURfMSIsImVudW1lcmFibGUiLCJnZXQiLCJyZXEiLCJmZXRjaCIsIm9rIiwidGV4dCIsInQiLCJwYXJzZSIsInF1ZXJ5V2FybiIsInF1ZXJ5RXJyb3IiLCJyZWplY3QiLCJwYXJhbVZlcmJvc2l0eSIsImxpbWl0VmVyYm9zaXR5IiwicyIsImxvZyIsIndhcm4iLCJ1c2VGb3JjZVVwZGF0ZSIsInNlcGVyYXRlIiwic2VwZXJhdGVBbmRLZWVwSWRzIiwidHlwZWRUYXJnZXQiLCJrZXlzIiwibWFwIiwiayIsImZpbHRlciIsInYiLCJ0YWciLCJ0YWdOYW1lIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJyZWR1Y2UiLCJhY2MiLCJjdXIiLCJjaGVja2VkIiwicmVxdWlyZWQiLCJpc0NoZWNrYm94IiwiZmluYWxWYWx1ZSIsIk51bWJlciIsInZhbHVlT2YiLCJlbnRyaWVzIiwicHJldiIsImN1cnIiLCJrZXkiLCJhdHRyIiwiZWxlbSIsImZpbmQiLCJwYXJzZUlkIiwicGFyc2VJbnQiLCJzdHJzIiwic2VwZXJhdGVkIiwicmVwbGFjZSIsIlJlZ0V4cCIsInN0ciIsInRyaW0iLCJzcGxpdCIsInVzZVJlZHVjZXIiLCJlcXVhbCIsImEiLCJiIiwiaSIsImlzQXJyYXkiLCJzb3VyY2UiLCJmbGFncyIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImYiLCJTeW1ib2wiLCJmb3IiLCJsIiwibSIsIm4iLCJfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCIsIlJlYWN0Q3VycmVudE93bmVyIiwicCIsInJlZiIsIl9fc2VsZiIsIl9fc291cmNlIiwicSIsImMiLCJnIiwiZCIsImgiLCJkZWZhdWx0UHJvcHMiLCIkJHR5cGVvZiIsIl9vd25lciIsImN1cnJlbnQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZGVmaW5pdGlvbiIsIm8iLCJvYmoiLCJwcm9wIiwiciIsInRvU3RyaW5nVGFnIl0sInNvdXJjZVJvb3QiOiIifQ==