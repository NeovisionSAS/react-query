/*! For license information please see module.js.LICENSE.txt */
!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("react")):"function"==typeof define&&define.amd?define(["react"],r):"object"==typeof exports?exports["react-query"]=r(require("react")):e["react-query"]=r(e.react)}(self,(e=>(()=>{"use strict";var r={63:e=>{e.exports=function e(r,t){if(r===t)return!0;if(r&&t&&"object"==typeof r&&"object"==typeof t){if(r.constructor!==t.constructor)return!1;var o,n,a;if(Array.isArray(r)){if((o=r.length)!=t.length)return!1;for(n=o;0!=n--;)if(!e(r[n],t[n]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if((o=(a=Object.keys(r)).length)!==Object.keys(t).length)return!1;for(n=o;0!=n--;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;for(n=o;0!=n--;){var s=a[n];if(!e(r[s],t[s]))return!1}return!0}return r!=r&&t!=t}},251:(e,r,t)=>{var o=t(156),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,d=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,r,t){var o,a={},c=null,l=null;for(o in void 0!==t&&(c=""+t),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(l=r.ref),r)s.call(r,o)&&!i.hasOwnProperty(o)&&(a[o]=r[o]);if(e&&e.defaultProps)for(o in r=e.defaultProps)void 0===a[o]&&(a[o]=r[o]);return{$$typeof:n,type:e,key:c,ref:l,props:a,_owner:d.current}}r.Fragment=a,r.jsx=c,r.jsxs=c},893:(e,r,t)=>{e.exports=t(251)},156:r=>{r.exports=e}},t={};function o(e){var n=t[e];if(void 0!==n)return n.exports;var a=t[e]={exports:{}};return r[e](a,a.exports,o),a.exports}o.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return o.d(r,{a:r}),r},o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{o.r(n),o.d(n,{CRUD:()=>$,Query:()=>v,QueryOptionsProvider:()=>y,request:()=>a,useQuery:()=>g,useQueryOptions:()=>h,useRequest:()=>m});var e=o(893);const r=(e,r,t,...o)=>{"development"==e&&t<=r&&console.log("[react-query]",...o)},t=(e,r,t,...o)=>{"development"==e&&t<=r&&console.warn("[react-query]",...o)},a=function(e,r,o={method:"GET"}){const{method:n="GET",headers:a,mode:s="production",onRejected:d,...i}=o,c=o=>fetch(`${e}/${r}`,{headers:o,method:n,...i}).then((e=>e.ok?e.text().then((r=>{try{if(e.headers.get("Content-Type")?.includes("application/json"))return JSON.parse(r)}catch(r){t(s,0,0,"Could not parse response to json",e)}return r})):(((...e)=>{console.error("[react-query]",...e)})(`${e.url} ${e.status} ${e.statusText}`),d?.(e),Promise.reject(`${e.status} ${e.statusText}`)))).catch((e=>{if(console.log(e),"AbortError"!=e.name)throw new Error(e);t(s,0,0,e.message)}));return a?a().then(c):c({})};var s=o(156),d=o.n(s);const i=e=>{const r=e;return Object.keys(e).map((e=>r[e])).filter((e=>{const r=e.tagName?.toLocaleLowerCase?.();return e.name&&("input"==r||"select"==r)})).reduce(((e,r)=>{const{name:t,value:o,checked:n,type:a,required:s}=r,d="checkbox"==a;if(s&&(""==o||null==o))throw new Error(`Can't use an empty value for ${t}`);let i="number"==a?new Number(o).valueOf():o;return{...e,[t]:d?n:i}}),{})},c=e=>e.map((e=>[e,e.replace(/([0-9]+)/," $1").replace(/(-|_)/g," ").replace(/([A-Z])/g," $1").trim().toLocaleLowerCase().split(" ").filter((e=>""!=e))])),l=(e,r,t,o)=>{const n=e[t];return"path"==r&&""!=n&&null!=n?n:o??""};class u extends d().Component{state={hasError:!1,error:{e:void 0,info:void 0}};componentDidCatch=(e,r)=>{console.error(e),this.setState({hasError:!0,error:{e,info:r}})};render(){const{children:r}=this.props,{hasError:t,error:o}=this.state;return t?(0,e.jsxs)("div",{className:"SIApxQzQlZp0L1gN0_QW",children:[(0,e.jsx)("div",{children:o?.e?.message}),(0,e.jsx)("hr",{}),(0,e.jsx)("div",{children:o?.info?.componentStack})]}):(0,e.jsx)(d().Fragment,{children:r})}}const p=u,f=(0,s.createContext)({domain:"",parameterType:"path",mode:"production",verbosity:1,idName:"id"}),h=()=>{const e=(0,s.useContext)(f);if(!e)throw new Error("No context for 'useQueryOptions'");return e.idName||(e.idName="id"),e},m=({method:e="GET",...r}={method:"GET"})=>{const{domain:t,loader:o,...n}=h();return(e,o={method:"GET"})=>a(t,e,Object.merge(r,n,o))},y=f.Provider,g=({query:e,delay:r,onRead:t,requestOptions:o={},useConfig:n=!0})=>{const[d,i]=(0,s.useState)({data:void 0,loading:!0,error:void 0}),{domain:c="",...l}=o;let u;u=n?m(h()):(e,r)=>a(c,e,r);const[p,f]=(0,s.useState)(),[y,g]=(0,s.useState)(!1),v=(0,s.useCallback)((e=>i({data:e,loading:!1,error:void 0})),[]);return(0,s.useEffect)((()=>{p?.abort();const o=new AbortController,n=window.setTimeout((()=>{const{signal:r,...n}=l;u(e,{signal:r??o.signal,...n}).then((e=>{i({data:e,loading:!1,error:void 0}),t?.(e)})).catch((e=>{i({data:void 0,loading:!1,error:e.toString()})}))}),r??0);return f(o),i({data:void 0,loading:!0,error:void 0}),()=>{o?.abort(),window.clearTimeout(n)}}),[e,y]),{...d,manualUpdate:v,forceRefresh:()=>g(!y)}},v=({children:r,useConfig:t=!0,...o})=>{const{loader:n}=h(),{loading:a,...s}=g({...o,useConfig:t}),d=r({loading:a,...s});return(0,e.jsx)(p,{children:a&&n.autoload?(0,e.jsx)(e.Fragment,{children:n.loader??(0,e.jsx)("div",{children:"Loading data..."})}):d})};var b=o(63),x=o.n(b);const $=({children:t,endPoints:o,onCreated:n,onRead:d,onUpdated:u,onDeleted:f,delay:m,type:y="array"})=>{const[g,b,$,O]="string"==typeof o?new Array(4).fill(o):[o.create,o.read,o.update,o.delete],{parameterType:j,domain:E,requestMiddleware:S,mode:T,verbosity:w,idName:_}=h();return(0,s.useEffect)((()=>{r(T,w,5,"[endpoints]",`[C]${g}`,`[R]${b}`,`[U]${$}`,`[D]${O}`)}),[g,b,$,O]),(0,e.jsx)(p,{children:(0,e.jsx)(v,{query:`${b}`,delay:m,onRead:d,children:({data:o,loading:d,error:p,manualUpdate:h,forceRefresh:m})=>(0,e.jsx)(s.Fragment,{children:t({handleCreate:(e,t={method:"POST"})=>{e.preventDefault();const{method:s="POST",pathTail:d}=t,c=i(e.target),l=`${g}/${d?`${d}/`:""}`;return r(T,w,1,`[create][${s}]`,`${E}/${l}`,c),a(E,l,{body:JSON.stringify(c),method:s,headers:S,mode:T}).then((e=>{h?.([...o,e]),n?.()&&m?.()})).catch((()=>{console.error("Erreur de création","Une erreur est survenu lors de la création dans la base de données")}))},read:{data:o,loading:d,error:p},handleUpdate:(e,t={method:"PUT",name:_})=>{e.preventDefault();const{method:n="PUT",pathTail:s,name:d=_}=t,p=((e,r)=>{const t=i(e);return null!=t[r]?[t]:Object.entries(t).reduce(((e,t)=>{const o=t[0],[n,a]=(d=[o],c(d).map((e=>{const r=e[1],t=r[r.length-1];return[e[0].replace(new RegExp(`(-|_)?${t}$`),""),t]})))[0],s=e.find((e=>e[r]==a));var d;let i=a;try{i=parseInt(a)}catch(e){}return s?s[n]=t[1]:e.push({[r]:i,[n]:t[1]}),e}),[])})(e.target,d);let f;f="array"==y?[...o]:o;const g=[];return p.forEach((e=>{const t=l(e,j,d,s),i=`${$}/${t?`${t}/`:""}`;let c=!1;if("array"==y){const r=f.findIndex((e=>e[d]==t));if(null!=r){const t={...f[r],...e};c=!x()(f[r],t),f[r]=t}else f.push(e)}else c=!x()(f,o),f={...f,...e};c&&(r(T,w,1,`[update][${n}]`,`${E}/${i}`,e),g.push(a(E,i,{body:JSON.stringify(e),method:n,headers:S,mode:T})))})),Promise.all(g).then((()=>{h?.(f),u?.()&&m?.()}))},handleDelete:(e,t={method:"DELETE",name:_})=>{e?.preventDefault(),e?.stopPropagation();const{method:n="DELETE",pathTail:s,name:d=_,id:c}=t,u=l({[d]:c?.toString()??""},j,d,s),p=`${O}/${u?`${u}/`:""}`;return r(T,w,1,`[delete][${n}]`,`${E}/${p}`),a(E,p,{method:n,headers:S,mode:T,body:"path"==j?"":JSON.stringify(i(e.target))}).then((()=>{if("array"==y){const e=o.findIndex((e=>e[d]==c)),t=o;r(T,w,3,`Removing index ${e}`);const n=[...t.slice(0,e),...t.slice(e+1,t.length)];r(T,w,4,"Array updated",n),h?.(n)}else h?.(o);f?.()&&m?.()}))}},m)})})})}})(),n})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQXFCb0QsRUFBckIsS0FBK0I1QixFQUFPZ0QsRUFBdEMsR0FBOENuQixHQUFRNkUsRUFDdER1QixFQUFPdkcsRUFBWSxDQUFFLENBQUMxQixHQUFPNkIsR0FBSXBILFlBQWMsSUFBTXFJLEVBQWU5QyxFQUFNNEIsR0FDMUVpRixFQUFZLEdBQUVYLEtBQWtCK0IsRUFBUSxHQUFFQSxLQUFVLEtBRTFELE9BREF0SyxFQUFXQyxFQUFNbUYsRUFBVyxFQUFJLFlBQVd2RSxLQUFZLEdBQUVILEtBQVV3SSxLQUM1RHpJLEVBQVFDLEVBQVF3SSxFQUFVLENBQzdCckksU0FDQUMsUUFBUytILEVBQ1Q1SSxPQUNBa0osS0FBdUIsUUFBakJoRSxFQUNBLEdBQ0ExRCxLQUFLMkgsVUFBVTVHLEVBQVlyRSxFQUFFc0UsV0FDcEN0QixNQUFLLEtBQ0osR0FBWSxTQUFSNUMsRUFBaUIsQ0FDakIsTUFBTWlNLEVBQVF4RyxFQUFLeUcsV0FBV0MsR0FBUUEsRUFBSXJJLElBQVM2QixJQUM3QzZHLEVBQVkvRyxFQUNsQmhFLEVBQVdDLEVBQU1tRixFQUFXLEVBQUksa0JBQWlCb0YsS0FDakQsTUFBTVEsRUFBUyxJQUNSRCxFQUFVRSxNQUFNLEVBQUdULE1BQ25CTyxFQUFVRSxNQUFNVCxFQUFRLEVBQUdPLEVBQVU1TyxTQUU1QzZELEVBQVdDLEVBQU1tRixFQUFXLEVBQUksZ0JBQWdCNEYsR0FDaERqRSxJQUFlaUUsUUFHZmpFLElBQWUvQyxHQUVuQm1FLE9BQWlCUixXQUcxQkEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9ub2RlX21vZHVsZXMvZmFzdC1kZWVwLWVxdWFsL2luZGV4LmpzIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC1qc3gtcnVudGltZS5wcm9kdWN0aW9uLm1pbi5qcyIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL25vZGVfbW9kdWxlcy9yZWFjdC9qc3gtcnVudGltZS5qcyIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS9leHRlcm5hbCB1bWQgXCJyZWFjdFwiIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3JlYWN0LXF1ZXJ5L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvdXRpbHMvbG9nLnRzIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL3V0aWxzL2FwaS50cyIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL3NyYy91dGlscy91dGlsLnRzIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL2NvbXBvbmVudHMvdXRpbHMvRXJyb3JCb3VuZGFyeS9pbmRleC50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvY29tcG9uZW50cy91dGlscy9FcnJvckJvdW5kYXJ5L2luZGV4Lm1vZHVsZS5zY3NzPzY5OTkiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvY29tcG9uZW50cy91dGlscy9RdWVyeU9wdGlvbnNQcm92aWRlci9pbmRleC50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvY29tcG9uZW50cy91dGlscy9RdWVyeS9pbmRleC50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvY29tcG9uZW50cy91dGlscy9DUlVEL2luZGV4LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJyZWFjdFwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJyZWFjdC1xdWVyeVwiXSA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJyZWFjdC1xdWVyeVwiXSA9IGZhY3Rvcnkocm9vdFtcInJlYWN0XCJdKTtcbn0pKHNlbGYsIChfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xNTZfXykgPT4ge1xucmV0dXJuICIsIid1c2Ugc3RyaWN0JztcblxuLy8gZG8gbm90IGVkaXQgLmpzIGZpbGVzIGRpcmVjdGx5IC0gZWRpdCBzcmMvaW5kZXguanN0XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChhICYmIGIgJiYgdHlwZW9mIGEgPT0gJ29iamVjdCcgJiYgdHlwZW9mIGIgPT0gJ29iamVjdCcpIHtcbiAgICBpZiAoYS5jb25zdHJ1Y3RvciAhPT0gYi5jb25zdHJ1Y3RvcikgcmV0dXJuIGZhbHNlO1xuXG4gICAgdmFyIGxlbmd0aCwgaSwga2V5cztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICAgIGlmICghZXF1YWwoYVtpXSwgYltpXSkpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuXG5cbiAgICBpZiAoYS5jb25zdHJ1Y3RvciA9PT0gUmVnRXhwKSByZXR1cm4gYS5zb3VyY2UgPT09IGIuc291cmNlICYmIGEuZmxhZ3MgPT09IGIuZmxhZ3M7XG4gICAgaWYgKGEudmFsdWVPZiAhPT0gT2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mKSByZXR1cm4gYS52YWx1ZU9mKCkgPT09IGIudmFsdWVPZigpO1xuICAgIGlmIChhLnRvU3RyaW5nICE9PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKSByZXR1cm4gYS50b1N0cmluZygpID09PSBiLnRvU3RyaW5nKCk7XG5cbiAgICBrZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYikubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBrZXlzW2ldKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKCFlcXVhbChhW2tleV0sIGJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIHRydWUgaWYgYm90aCBOYU4sIGZhbHNlIG90aGVyd2lzZVxuICByZXR1cm4gYSE9PWEgJiYgYiE9PWI7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtanN4LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuJ3VzZSBzdHJpY3QnO3ZhciBmPXJlcXVpcmUoXCJyZWFjdFwiKSxrPVN5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpLGw9U3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLG09T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxuPWYuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQuUmVhY3RDdXJyZW50T3duZXIscD17a2V5OiEwLHJlZjohMCxfX3NlbGY6ITAsX19zb3VyY2U6ITB9O1xuZnVuY3Rpb24gcShjLGEsZyl7dmFyIGIsZD17fSxlPW51bGwsaD1udWxsO3ZvaWQgMCE9PWcmJihlPVwiXCIrZyk7dm9pZCAwIT09YS5rZXkmJihlPVwiXCIrYS5rZXkpO3ZvaWQgMCE9PWEucmVmJiYoaD1hLnJlZik7Zm9yKGIgaW4gYSltLmNhbGwoYSxiKSYmIXAuaGFzT3duUHJvcGVydHkoYikmJihkW2JdPWFbYl0pO2lmKGMmJmMuZGVmYXVsdFByb3BzKWZvcihiIGluIGE9Yy5kZWZhdWx0UHJvcHMsYSl2b2lkIDA9PT1kW2JdJiYoZFtiXT1hW2JdKTtyZXR1cm57JCR0eXBlb2Y6ayx0eXBlOmMsa2V5OmUscmVmOmgscHJvcHM6ZCxfb3duZXI6bi5jdXJyZW50fX1leHBvcnRzLkZyYWdtZW50PWw7ZXhwb3J0cy5qc3g9cTtleHBvcnRzLmpzeHM9cTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1qc3gtcnVudGltZS5wcm9kdWN0aW9uLm1pbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1qc3gtcnVudGltZS5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xNTZfXzsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiZXhwb3J0IGNvbnN0IHJlcXVlc3RMb2cgPSAobW9kZSwgcGFyYW1WZXJib3NpdHksIGxpbWl0VmVyYm9zaXR5LCAuLi5zKSA9PiB7XG4gICAgaWYgKG1vZGUgPT0gJ2RldmVsb3BtZW50JyAmJiBsaW1pdFZlcmJvc2l0eSA8PSBwYXJhbVZlcmJvc2l0eSlcbiAgICAgICAgY29uc29sZS5sb2coYFtyZWFjdC1xdWVyeV1gLCAuLi5zKTtcbn07XG5leHBvcnQgY29uc3QgcXVlcnlXYXJuID0gKG1vZGUsIHBhcmFtVmVyYm9zaXR5LCBsaW1pdFZlcmJvc2l0eSwgLi4ucykgPT4ge1xuICAgIGlmIChtb2RlID09ICdkZXZlbG9wbWVudCcgJiYgbGltaXRWZXJib3NpdHkgPD0gcGFyYW1WZXJib3NpdHkpXG4gICAgICAgIGNvbnNvbGUud2FybihgW3JlYWN0LXF1ZXJ5XWAsIC4uLnMpO1xufTtcbmV4cG9ydCBjb25zdCBxdWVyeUVycm9yID0gKC4uLnMpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGBbcmVhY3QtcXVlcnldYCwgLi4ucyk7XG59O1xuIiwiaW1wb3J0IHsgcXVlcnlFcnJvciwgcXVlcnlXYXJuLCBxdWVyeVdhcm4gYXMgcmVxdWVzdFdhcm4gfSBmcm9tICcuL2xvZyc7XG5leHBvcnQgY29uc3QgcmVxdWVzdCA9IGZ1bmN0aW9uIChkb21haW4sIHBhdGgsIG9wdGlvbnMgPSB7IG1ldGhvZDogJ0dFVCcgfSkge1xuICAgIGNvbnN0IHsgbWV0aG9kID0gJ0dFVCcsIGhlYWRlcnMsIG1vZGUgPSAncHJvZHVjdGlvbicsIG9uUmVqZWN0ZWQsIC4uLnJlc3QgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgcmVxID0gKGhlYWRlcnMpID0+IHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke2RvbWFpbn0vJHtwYXRofWAsIHtcbiAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgICAgICAgICBxdWVyeUVycm9yKGAke3Jlcy51cmx9ICR7cmVzLnN0YXR1c30gJHtyZXMuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgICAgICAgICBvblJlamVjdGVkPy4ocmVzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYCR7cmVzLnN0YXR1c30gJHtyZXMuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXMudGV4dCgpLnRoZW4oKHQpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmhlYWRlcnMuZ2V0KCdDb250ZW50LVR5cGUnKT8uaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0V2Fybihtb2RlLCAwLCAwLCBgQ291bGQgbm90IHBhcnNlIHJlc3BvbnNlIHRvIGpzb25gLCByZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICBpZiAoZXJyLm5hbWUgPT0gJ0Fib3J0RXJyb3InKVxuICAgICAgICAgICAgICAgIHF1ZXJ5V2Fybihtb2RlLCAwLCAwLCBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIGhlYWRlcnMgPyBoZWFkZXJzKCkudGhlbihyZXEpIDogcmVxKHt9KTtcbn07XG4iLCJpbXBvcnQgeyB1c2VSZWR1Y2VyIH0gZnJvbSBcInJlYWN0XCI7XG4vKipcbiAqIGdldEZvcm1EYXRhIGV4dHJhY3RzIHRoZSB2YWx1ZXMgb2YgdGhlIGlucHV0IGVsZW1lbnRzXG4gKiByZWNlaXZlZCBmcm9tIHRoZSB0YXJnZXQgb2JqZWN0XG4gKiBAcGFyYW0gdGFyZ2V0IFRhcmdldCByZWNlaXZlZCBmcm9tIHRoZSBvYmplY3QgZXZlbnRcbiAqIEByZXR1cm5zIEFuIG9iamVjdCBvZiB0eXBlIFQgYnkgZGVmYXVsdCB3aXRoIGtleSB2YWx1ZSBwYWlyc1xuICovXG5leHBvcnQgY29uc3QgZ2V0Rm9ybURhdGEgPSAodGFyZ2V0KSA9PiB7XG4gICAgY29uc3QgdHlwZWRUYXJnZXQgPSB0YXJnZXQ7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRhcmdldClcbiAgICAgICAgLm1hcCgoaykgPT4ge1xuICAgICAgICByZXR1cm4gdHlwZWRUYXJnZXRba107XG4gICAgfSlcbiAgICAgICAgLy8gS2VlcCBuYW1lZCBpbnB1dCBhbmQgc2VsZWN0XG4gICAgICAgIC5maWx0ZXIoKHYpID0+IHtcbiAgICAgICAgY29uc3QgdGFnID0gdi50YWdOYW1lPy50b0xvY2FsZUxvd2VyQ2FzZT8uKCk7XG4gICAgICAgIHJldHVybiB2Lm5hbWUgJiYgKHRhZyA9PSBcImlucHV0XCIgfHwgdGFnID09IFwic2VsZWN0XCIpO1xuICAgIH0pXG4gICAgICAgIC5yZWR1Y2UoKGFjYywgY3VyKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbmFtZSwgdmFsdWUsIGNoZWNrZWQsIHR5cGUsIHJlcXVpcmVkIH0gPSBjdXI7XG4gICAgICAgIGNvbnN0IGlzQ2hlY2tib3ggPSB0eXBlID09IFwiY2hlY2tib3hcIjtcbiAgICAgICAgY29uc3QgaXNWYWxFbXB0eSA9IHZhbHVlID09IFwiXCIgfHwgdmFsdWUgPT0gbnVsbDtcbiAgICAgICAgaWYgKHJlcXVpcmVkICYmIGlzVmFsRW1wdHkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IHVzZSBhbiBlbXB0eSB2YWx1ZSBmb3IgJHtuYW1lfWApO1xuICAgICAgICBsZXQgZmluYWxWYWx1ZSA9IHR5cGUgPT0gXCJudW1iZXJcIiA/IG5ldyBOdW1iZXIodmFsdWUpLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uYWNjLFxuICAgICAgICAgICAgW25hbWVdOiBpc0NoZWNrYm94ID8gY2hlY2tlZCA6IGZpbmFsVmFsdWVcbiAgICAgICAgfTtcbiAgICB9LCB7fSk7XG59O1xuLyoqXG4gKiBFeHRyYWN0cyBhbGwgdGhlIG5lY2Vzc2FyeSBkYXRhIGZyb20gdGhlIGZvcm0gdGFyZ2V0XG4gKlxuICogQHBhcmFtIHRhcmdldCBUYXJnZXQgcmVjZWl2ZWQgZnJvbSB0aGUgb2JqZWN0IGV2ZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSB0aGF0IGlkZW50aWZpZXMgdGhlIGRhdGFcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZvcm1FeHRyYWN0b3Igd2l0aCBmb3JtIGlucHV0c1xuICogYGBgaHRtbFxuICogPGRpdj5cbiAqICA8aW5wdXQgbmFtZT1cImlkLTFcIiAvPlxuICogIDxpbnB1dCBuYW1lPVwiYWRkcmVzcy0xXCIgdmFsdWU9XCIyIEhhcmxleSBzdHJlZXRcIiAvPlxuICogPC9kaXY+XG4gKiAuLi5cbiAqIDxkaXY+XG4gKiAgPGlucHV0IG5hbWU9XCJpZC1uXCIgLz5cbiAqICA8aW5wdXQgbmFtZT1cImFkZHJlc3MtblwiIHZhbHVlPVwiMzUgcnVlIGNoYW1wcyDDqWx5c8OpZXNcIiAvPlxuICogPC9kaXY+XG4gKiBgYGBcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGZvcm1FeHRyYWN0b3IodGFyZ2V0LCBbXCJpZFwiXSk7XG4gKiAvLyBbXG4gKiAvLyAge2lkOiBcIjFcIiwgYWRkcmVzczogXCIyIEhhcmxleSBzdHJlZXRcIn0sXG4gKiAvLyAgLi4uLFxuICogLy8gIHtpZDogXCJuXCIsIGFkZHJlc3M6IFwiMzUgcnVlIGNoYW1wcyDDqWx5c8OpZXNcIn1cbiAqIC8vIF1cbiAqIGBgYFxuICpcbiAqIEByZXR1cm5zIHtGb3JtRXh0cmFjdG9yRGF0YX0gRm9ybUV4dHJhY29yRGF0YVxuICovXG5leHBvcnQgY29uc3QgZm9ybUV4dHJhY3RvciA9ICh0YXJnZXQsIG5hbWUpID0+IHtcbiAgICAvLyBHZXQgYWxsIHRoZSBkYXRhIGZyb20gdGhlIGZvcm1cbiAgICBjb25zdCBmb3JtRGF0YSA9IGdldEZvcm1EYXRhKHRhcmdldCk7XG4gICAgLy8gU2ltcGx5IGNoZWNrIGlmIHRoZXJlIGlzIG5vIGlkIGZvciBlYWNoIGZvcm1EYXRhXG4gICAgaWYgKGZvcm1EYXRhW25hbWVdICE9IG51bGwpXG4gICAgICAgIHJldHVybiBbZm9ybURhdGFdO1xuICAgIC8vIEVhY2ggZm9ybURhdGEgaXMgc3BlY2lmaWMgdG8gYW4gaWRcbiAgICBjb25zdCB2YWx1ZXMgPSBPYmplY3QuZW50cmllcyhmb3JtRGF0YSk7XG4gICAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHtcbiAgICAgICAgY29uc3Qga2V5ID0gY3VyclswXTtcbiAgICAgICAgY29uc3QgW2F0dHIsIGlkXSA9IHNlcGVyYXRlQW5kS2VlcElkcyhba2V5XSlbMF07XG4gICAgICAgIGNvbnN0IGVsZW0gPSBwcmV2LmZpbmQoKGVsZW0pID0+IGVsZW1bbmFtZV0gPT0gaWQpO1xuICAgICAgICBsZXQgcGFyc2VJZCA9IGlkO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGFyc2VJZCA9IHBhcnNlSW50KGlkKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgIGlmIChlbGVtKVxuICAgICAgICAgICAgZWxlbVthdHRyXSA9IGN1cnJbMV07XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHByZXYucHVzaCh7IFtuYW1lXTogcGFyc2VJZCwgW2F0dHJdOiBjdXJyWzFdIH0pO1xuICAgICAgICByZXR1cm4gcHJldjtcbiAgICB9LCBbXSk7XG59O1xuLyoqXG4gKiBSZWdyb3VwIHN0cmluZ3MgYmFzZWQgb24gdGhlaXIgaWRzIHJlcHJlc2VudGVkIGJ5IHRoZSBsYXN0IHNlcGVyYXRpb24gb2YgdGhlIHN0cmluZ1xuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogc2VwZXJhdGVBbmRLZWVwSWRzKFwiaGVsbG9Xb3JsZDVcIixcImhlbGxvLXdvcmxkNlwiLCBcImhlbGxvV29ybGQ3XCIsIFwiaGVsbG9Xb3JsZFwiKTtcbiAqIC8vIFtbXCJoZWxsb1dvcmxkXCIsIFwiNVwiXSwgW1wiaGVsbG8td29ybGRcIiwgXCI2XCJdLCBbXCJoZWxsb1dvcmxkXCIsIFwiN1wiXSwgW1wiaGVsbG9cIiwgXCJXb3JsZFwiXV1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdHJzIFRoZSBzdHJpbmcgYXJyYXkgdG8gc2VhcmNoIGZvciBpZHMgYW5kIHJlZ3JvdXAgYWxsIGF0dHJpYnV0ZXMgd2l0aCB0aGUgc2FtZSBpZHNcbiAqIEByZXR1cm5zIEFuZCBhcnJheSBvZiBhcnJheXMgZWFjaCBjb250YWluaW5nIHRoZSBwYXJzZWQgbmFtZSBhbmQgaWQgb2YgdGhlIHN0cmluZ1xuICovXG5leHBvcnQgY29uc3Qgc2VwZXJhdGVBbmRLZWVwSWRzID0gKHN0cnMpID0+IHtcbiAgICByZXR1cm4gc2VwZXJhdGUoc3RycykubWFwKCh2KSA9PiB7XG4gICAgICAgIGNvbnN0IHNlcGVyYXRlZCA9IHZbMV07XG4gICAgICAgIGNvbnN0IGlkID0gc2VwZXJhdGVkW3NlcGVyYXRlZC5sZW5ndGggLSAxXTtcbiAgICAgICAgcmV0dXJuIFt2WzBdLnJlcGxhY2UobmV3IFJlZ0V4cChgKC18Xyk/JHtpZH0kYCksIFwiXCIpLCBpZF07XG4gICAgfSk7XG59O1xuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHNlcGVyYXRlcyBzdHJpbmdzIGJhc2VkIG9uIHNwZWNpYWwgY2hhcmFjdGVycyAvIGNhc2VcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIHNlcGVyYXRlKFtcImhlbGxvLXdvcmxkXCIsIFwiaGVsbG9Xb3JsZDJcIiwgXCJoZWxsb193b3JsZF8yXCJdKVxuICogLy8gW1xuICogLy8gICBbXCJoZWxsby13b3JsZFwiLCBbXCJoZWxsb1wiLFwid29ybGRcIl1dLFxuICogLy8gICBbXCJoZWxsb1dvcmxkMlwiLCBbXCJoZWxsb1wiLFwid29ybGRcIiwgXCIyXCJdXSxcbiAqIC8vICAgW1wiaGVsbG9fd29ybGRfMlwiLCBbXCJoZWxsb1wiLCBcIndvcmxkXCIsIFwiMlwiXV1cbiAqIC8vIF1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdHJzIFRoZSBzdHJpbmcgYXJyYXkgdG8gdHJ5IHNlcGVyYXRlXG4gKiBAcmV0dXJucyBBbiBhcnJheSBvZiBhcnJheXMgd2l0aCB0aGUgaW5wdXQgLyBvdXRwdXQgc3RyaW5nc1xuICovXG5leHBvcnQgY29uc3Qgc2VwZXJhdGUgPSAoc3RycykgPT4ge1xuICAgIHJldHVybiBzdHJzLm1hcCgoc3RyKSA9PiB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBzdHIsXG4gICAgICAgICAgICBzdHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvKFswLTldKykvLCBcIiAkMVwiKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oLXxfKS9nLCBcIiBcIilcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvKFtBLVpdKS9nLCBcIiAkMVwiKVxuICAgICAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgICAgICAudG9Mb2NhbGVMb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgIC5zcGxpdChcIiBcIilcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChzKSA9PiBzICE9IFwiXCIpXG4gICAgICAgIF07XG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGdldFBhdGhUYWlsID0gKGRhdGEsIHR5cGUsIG5hbWUsIHBhdGhUYWlsKSA9PiB7XG4gICAgY29uc3QgaWQgPSBkYXRhW25hbWVdO1xuICAgIGlmICh0eXBlID09IFwicGF0aFwiICYmIGlkICE9IFwiXCIgJiYgaWQgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuICAgIHJldHVybiBwYXRoVGFpbCA/PyAnJztcbn07XG5leHBvcnQgY29uc3QgdXNlRm9yY2VVcGRhdGUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHVzZVJlZHVjZXIoKCkgPT4gKHt9KSwge30pWzFdO1xufTtcbiIsImltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnNhZmUtZmluYWxseSAqL1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL2luZGV4Lm1vZHVsZS5zY3NzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5jbGFzcyBFcnJvckJvdW5kYXJ5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBzdGF0ZSA9IHtcbiAgICAgICAgaGFzRXJyb3I6IGZhbHNlLFxuICAgICAgICBlcnJvcjogeyBlOiB1bmRlZmluZWQsIGluZm86IHVuZGVmaW5lZCB9LFxuICAgIH07XG4gICAgY29tcG9uZW50RGlkQ2F0Y2ggPSAoZSwgaW5mbykgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaGFzRXJyb3I6IHRydWUsIGVycm9yOiB7IGUsIGluZm8gfSB9KTtcbiAgICB9O1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBjaGlsZHJlbiB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgeyBoYXNFcnJvciwgZXJyb3IgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGlmICghaGFzRXJyb3IpXG4gICAgICAgICAgICByZXR1cm4gX2pzeChSZWFjdC5GcmFnbWVudCwgeyBjaGlsZHJlbjogY2hpbGRyZW4gfSk7XG4gICAgICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IHN0eWxlcy5tYWluLCBjaGlsZHJlbjogW19qc3goXCJkaXZcIiwgeyBjaGlsZHJlbjogZXJyb3I/LmU/Lm1lc3NhZ2UgfSksIF9qc3goXCJoclwiLCB7fSksIF9qc3goXCJkaXZcIiwgeyBjaGlsZHJlbjogZXJyb3I/LmluZm8/LmNvbXBvbmVudFN0YWNrIH0pXSB9KSk7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgRXJyb3JCb3VuZGFyeTtcbiIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IGRlZmF1bHQge1wibWFpblwiOlwiU0lBcHhRelFsWnAwTDFnTjBfUVdcIn07IiwiaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2FwaSc7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuY29uc3QgcXVlcnlPcHRpb25zQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe1xuICAgIGRvbWFpbjogJycsXG4gICAgcGFyYW1ldGVyVHlwZTogJ3BhdGgnLFxuICAgIG1vZGU6ICdwcm9kdWN0aW9uJyxcbiAgICB2ZXJib3NpdHk6IDEsXG4gICAgaWROYW1lOiAnaWQnLFxufSk7XG5leHBvcnQgY29uc3QgdXNlUXVlcnlPcHRpb25zID0gKCkgPT4ge1xuICAgIGNvbnN0IGN0eCA9IHVzZUNvbnRleHQocXVlcnlPcHRpb25zQ29udGV4dCk7XG4gICAgaWYgKCFjdHgpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGNvbnRleHQgZm9yICd1c2VRdWVyeU9wdGlvbnMnXCIpO1xuICAgIGlmICghY3R4LmlkTmFtZSlcbiAgICAgICAgY3R4LmlkTmFtZSA9ICdpZCc7XG4gICAgcmV0dXJuIGN0eDtcbn07XG5leHBvcnQgY29uc3QgdXNlUmVxdWVzdCA9ICh7IG1ldGhvZDogck1ldGhvZCA9ICdHRVQnLCAuLi5yUmVzdCB9ID0ge1xuICAgIG1ldGhvZDogJ0dFVCcsXG59KSA9PiB7XG4gICAgY29uc3QgeyBkb21haW4sIGxvYWRlciwgLi4ucVJlc3QgfSA9IHVzZVF1ZXJ5T3B0aW9ucygpO1xuICAgIHJldHVybiAocGF0aCwgb3B0aW9ucyA9IHsgbWV0aG9kOiAnR0VUJyB9KSA9PiByZXF1ZXN0KGRvbWFpbiwgcGF0aCwgT2JqZWN0Lm1lcmdlKHJSZXN0LCBxUmVzdCwgb3B0aW9ucykpO1xufTtcbmV4cG9ydCBjb25zdCBRdWVyeU9wdGlvbnNQcm92aWRlciA9IHF1ZXJ5T3B0aW9uc0NvbnRleHQuUHJvdmlkZXI7XG4iLCJpbXBvcnQgeyBqc3ggYXMgX2pzeCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgeyByZXF1ZXN0LCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2FwaSc7XG5pbXBvcnQgRXJyb3JCb3VuZGFyeSBmcm9tICcuLi9FcnJvckJvdW5kYXJ5JztcbmltcG9ydCB7IHVzZVF1ZXJ5T3B0aW9ucywgdXNlUmVxdWVzdCB9IGZyb20gJy4uL1F1ZXJ5T3B0aW9uc1Byb3ZpZGVyJztcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuZXhwb3J0IGNvbnN0IHVzZVF1ZXJ5ID0gKHsgcXVlcnksIGRlbGF5LCBvblJlYWQsIHJlcXVlc3RPcHRpb25zID0ge30sIHVzZUNvbmZpZyA9IHRydWUsIH0pID0+IHtcbiAgICAvLyBUaGUgZGVmYXVsdCBkYXRhL2xvYWQvZXJyb3IgdHJpcGxlXG4gICAgY29uc3QgW2RhdGFMb2FkRXJyLCBzZXREYXRhTG9hZEVycl0gPSB1c2VTdGF0ZSh7XG4gICAgICAgIGRhdGE6IHVuZGVmaW5lZCxcbiAgICAgICAgbG9hZGluZzogdHJ1ZSxcbiAgICAgICAgZXJyb3I6IHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgICBjb25zdCB7IGRvbWFpbiA9ICcnLCAuLi5vcHRpb25zIH0gPSByZXF1ZXN0T3B0aW9ucztcbiAgICBsZXQgcmVxO1xuICAgIGlmICh1c2VDb25maWcpXG4gICAgICAgIHJlcSA9IHVzZVJlcXVlc3QodXNlUXVlcnlPcHRpb25zKCkpO1xuICAgIGVsc2VcbiAgICAgICAgcmVxID0gKHBhdGgsIG9wdGlvbnMpID0+IHJlcXVlc3QoZG9tYWluLCBwYXRoLCBvcHRpb25zKTtcbiAgICBjb25zdCBbY29udHJvbGxlciwgc2V0Q29udHJvbGxlcl0gPSB1c2VTdGF0ZSgpO1xuICAgIGNvbnN0IFtyZWZyZXNoLCBzZXRSZWZyZXNoXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBtYW51YWxVcGRhdGUgPSB1c2VDYWxsYmFjaygoZGF0YSkgPT4gc2V0RGF0YUxvYWRFcnIoe1xuICAgICAgICBkYXRhLFxuICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHVuZGVmaW5lZCxcbiAgICB9KSwgW10pO1xuICAgIC8vIENoZWNrIGlmIHRoZSBxdWVyeSBwcm9wIGhhcyBjaGFuZ2VkXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29udHJvbGxlcj8uYWJvcnQoKTtcbiAgICAgICAgY29uc3QgY3RybCA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgY29uc3QgdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgc2lnbmFsLCAuLi5vdGhlcnMgfSA9IG9wdGlvbnM7XG4gICAgICAgICAgICByZXEocXVlcnksIHtcbiAgICAgICAgICAgICAgICBzaWduYWw6IHNpZ25hbCA/PyBjdHJsLnNpZ25hbCxcbiAgICAgICAgICAgICAgICAuLi5vdGhlcnMsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBzZXREYXRhTG9hZEVycih7IGRhdGE6IHJlcywgbG9hZGluZzogZmFsc2UsIGVycm9yOiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgICAgICAgb25SZWFkPy4ocmVzKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBzZXREYXRhTG9hZEVycih7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnIudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBkZWxheSA/PyAwKTtcbiAgICAgICAgc2V0Q29udHJvbGxlcihjdHJsKTtcbiAgICAgICAgc2V0RGF0YUxvYWRFcnIoeyBkYXRhOiB1bmRlZmluZWQsIGxvYWRpbmc6IHRydWUsIGVycm9yOiB1bmRlZmluZWQgfSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjdHJsPy5hYm9ydCgpO1xuICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgfTtcbiAgICB9LCBbcXVlcnksIHJlZnJlc2hdKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5kYXRhTG9hZEVycixcbiAgICAgICAgbWFudWFsVXBkYXRlLFxuICAgICAgICBmb3JjZVJlZnJlc2g6ICgpID0+IHNldFJlZnJlc2goIXJlZnJlc2gpLFxuICAgIH07XG59O1xuLyoqXG4gKiBUaGUgcXVlcnkgY29tcG9uZW50IGlzIGEgZmV0Y2ggd3JhcHBlciB0aGF0IGFsbG93cyB0byBkaXJlY3RseSBhZGQgbG9naWMgaW4gdGhlIGRlc2lnbiBvZiB0aGUgcmVhY3QgRE9NIGFyY2hpdGVjdHVyZVxuICovXG5leHBvcnQgY29uc3QgUXVlcnkgPSAoeyBjaGlsZHJlbiwgdXNlQ29uZmlnID0gdHJ1ZSwgLi4ucVJlc3QgfSkgPT4ge1xuICAgIGNvbnN0IHsgbG9hZGVyIH0gPSB1c2VRdWVyeU9wdGlvbnMoKTtcbiAgICBjb25zdCB7IGxvYWRpbmcsIC4uLnFEYXRhIH0gPSB1c2VRdWVyeSh7XG4gICAgICAgIC4uLnFSZXN0LFxuICAgICAgICB1c2VDb25maWcsXG4gICAgfSk7XG4gICAgLy8gQWx3YXlzIGNhbGwgdG8gbWFpbnRhaW4gdGhlIGhvb2tzXG4gICAgY29uc3QgcmVuZGVyID0gY2hpbGRyZW4oeyBsb2FkaW5nLCAuLi5xRGF0YSB9KTtcbiAgICByZXR1cm4gKF9qc3goRXJyb3JCb3VuZGFyeSwgeyBjaGlsZHJlbjogbG9hZGluZyAmJiBsb2FkZXIuYXV0b2xvYWQgPyAoX2pzeChfRnJhZ21lbnQsIHsgY2hpbGRyZW46IGxvYWRlci5sb2FkZXIgPz8gX2pzeChcImRpdlwiLCB7IGNoaWxkcmVuOiBcIkxvYWRpbmcgZGF0YS4uLlwiIH0pIH0pKSA6IChyZW5kZXIpIH0pKTtcbn07XG4iLCJpbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2FwaSc7XG5pbXBvcnQgeyByZXF1ZXN0TG9nIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvbG9nJztcbmltcG9ydCB7IGZvcm1FeHRyYWN0b3IsIGdldEZvcm1EYXRhLCBnZXRQYXRoVGFpbCwgfSBmcm9tICcuLi8uLi8uLi91dGlscy91dGlsJztcbmltcG9ydCBFcnJvckJvdW5kYXJ5IGZyb20gJy4uL0Vycm9yQm91bmRhcnknO1xuaW1wb3J0IHsgUXVlcnkgfSBmcm9tICcuLi9RdWVyeSc7XG5pbXBvcnQgeyB1c2VRdWVyeU9wdGlvbnMgfSBmcm9tICcuLi9RdWVyeU9wdGlvbnNQcm92aWRlcic7XG5pbXBvcnQgZXF1YWwgZnJvbSAnZmFzdC1kZWVwLWVxdWFsJztcbmltcG9ydCB7IEZyYWdtZW50LCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG4vKipcbiAqIFRoaXMgY29tcG9uZW50IGlzIHVzZWQgdG8gc2ltcGxpZnkgYENSVURgIG9wZXJhdGlvbnMuXG4gKiBZb3UgZ2l2ZSBpdCB0aGUgYGVuZHBvaW50KHMpYCB0byB3aGljaCB5b3Ugd2FudCB0byBkbyByZXF1ZXN0cyBhbmQgaXQgd2lsbCBoYW5kbGVcbiAqIGFsbCBvZiB0aGUgdGFza3MgaW4gdGhlIGJhY2tncm91bmQgYW5kIHVwZGF0ZSB0aGUgc3RhdGUgb2YgdGhlIHZhcmlhYmxlc1xuICogaXQgZ2l2ZXMgeW91IGZyb20gdGhlIGNoaWxkIGZ1bmN0aW9uLlxuICpcbiAqIE1ha2Ugc3VyZSB0byBkZWZpbmUgdGhlIFF1ZXJ5T3B0aW9ucyBwYXJhbSB3aXRoIHRoZSBgUXVlcnlPcHRpb25zUHJvdmlkZXJgIGNvbXBvbmVudFxuICpcbiAqIEdvIHRvIHRoZSBbZXhhbXBsZXMgZGlyZWN0b3J5XShodHRwczovL2JpdGJ1Y2tldC5vcmcvbmVvdmlzaW9uL3JlYWN0LXF1ZXJ5L3NyYy9tYXN0ZXIvc3JjL2V4YW1wbGVzKSB0byBzZWUgZXhhbXBsZXNcbiAqL1xuY29uc3QgQ1JVRCA9ICh7IGNoaWxkcmVuLCBlbmRQb2ludHMsIG9uQ3JlYXRlZCwgb25SZWFkLCBvblVwZGF0ZWQsIG9uRGVsZXRlZCwgZGVsYXksIHR5cGUgPSAnYXJyYXknLCB9KSA9PiB7XG4gICAgY29uc3QgW2NyZWF0ZUVuZHBvaW50LCByZWFkRW5kcG9pbnQsIHVwZGF0ZUVuZHBvaW50LCBkZWxldGVFbmRwb2ludF0gPSB0eXBlb2YgZW5kUG9pbnRzID09ICdzdHJpbmcnXG4gICAgICAgID8gbmV3IEFycmF5KDQpLmZpbGwoZW5kUG9pbnRzKVxuICAgICAgICA6IFtlbmRQb2ludHMuY3JlYXRlLCBlbmRQb2ludHMucmVhZCwgZW5kUG9pbnRzLnVwZGF0ZSwgZW5kUG9pbnRzLmRlbGV0ZV07XG4gICAgY29uc3QgeyBwYXJhbWV0ZXJUeXBlLCBkb21haW4sIHJlcXVlc3RNaWRkbGV3YXJlLCBtb2RlLCB2ZXJib3NpdHksIGlkTmFtZSB9ID0gdXNlUXVlcnlPcHRpb25zKCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgcmVxdWVzdExvZyhtb2RlLCB2ZXJib3NpdHksIDUsIGBbZW5kcG9pbnRzXWAsIGBbQ10ke2NyZWF0ZUVuZHBvaW50fWAsIGBbUl0ke3JlYWRFbmRwb2ludH1gLCBgW1VdJHt1cGRhdGVFbmRwb2ludH1gLCBgW0RdJHtkZWxldGVFbmRwb2ludH1gKTtcbiAgICB9LCBbY3JlYXRlRW5kcG9pbnQsIHJlYWRFbmRwb2ludCwgdXBkYXRlRW5kcG9pbnQsIGRlbGV0ZUVuZHBvaW50XSk7XG4gICAgcmV0dXJuIChfanN4KEVycm9yQm91bmRhcnksIHsgY2hpbGRyZW46IF9qc3goUXVlcnksIHsgcXVlcnk6IGAke3JlYWRFbmRwb2ludH1gLCBkZWxheTogZGVsYXksIG9uUmVhZDogb25SZWFkLCBjaGlsZHJlbjogKHsgZGF0YSwgbG9hZGluZywgZXJyb3IsIG1hbnVhbFVwZGF0ZSwgZm9yY2VSZWZyZXNoIH0pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKF9qc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IGNoaWxkcmVuKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNyZWF0ZTogKGUsIHBhcmFtcyA9IHsgbWV0aG9kOiAnUE9TVCcgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG1ldGhvZCA9ICdQT1NUJywgcGF0aFRhaWwgfSA9IHBhcmFtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IGdldEZvcm1EYXRhKGUudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGAke2NyZWF0ZUVuZHBvaW50fS8ke3BhdGhUYWlsID8gYCR7cGF0aFRhaWx9L2AgOiAnJ31gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RMb2cobW9kZSwgdmVyYm9zaXR5LCAxLCBgW2NyZWF0ZV1bJHttZXRob2R9XWAsIGAke2RvbWFpbn0vJHtlbmRwb2ludH1gLCBmb3JtRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QoZG9tYWluLCBlbmRwb2ludCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShmb3JtRGF0YSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogcmVxdWVzdE1pZGRsZXdhcmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGNyZWF0ZWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFudWFsVXBkYXRlPy4oWy4uLmRhdGEsIGNyZWF0ZWRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DcmVhdGVkPy4oKSAmJiBmb3JjZVJlZnJlc2g/LigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycmV1ciBkZSBjcsOpYXRpb25gLCBgVW5lIGVycmV1ciBlc3Qgc3VydmVudSBsb3JzIGRlIGxhIGNyw6lhdGlvbiBkYW5zIGxhIGJhc2UgZGUgZG9ubsOpZXNgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkOiB7IGRhdGEsIGxvYWRpbmcsIGVycm9yIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVVcGRhdGU6IChlLCBwYXJhbXMgPSB7IG1ldGhvZDogJ1BVVCcsIG5hbWU6IGlkTmFtZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbWV0aG9kID0gJ1BVVCcsIHBhdGhUYWlsLCBuYW1lID0gaWROYW1lIH0gPSBwYXJhbXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybURhdGFzID0gZm9ybUV4dHJhY3RvcihlLnRhcmdldCwgbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0RhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gJ2FycmF5JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YSA9IFsuLi5kYXRhXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGEgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGFzLmZvckVhY2goKGZvcm1EYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhaWwgPSBnZXRQYXRoVGFpbChmb3JtRGF0YSwgcGFyYW1ldGVyVHlwZSwgbmFtZSwgcGF0aFRhaWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGAke3VwZGF0ZUVuZHBvaW50fS8ke3RhaWwgPyBgJHt0YWlsfS9gIDogJyd9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhhc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBuZXdEYXRhLmZpbmRJbmRleCgodmFsKSA9PiB2YWxbbmFtZV0gPT0gdGFpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVyZ2VkRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ubmV3RGF0YVtpbmRleF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmZvcm1EYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ2hhbmdlZCA9ICFlcXVhbChuZXdEYXRhW2luZGV4XSwgbWVyZ2VkRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YVtpbmRleF0gPSBtZXJnZWREYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGEucHVzaChmb3JtRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNDaGFuZ2VkID0gIWVxdWFsKG5ld0RhdGEsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YSA9IHsgLi4ubmV3RGF0YSwgLi4uZm9ybURhdGEgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdExvZyhtb2RlLCB2ZXJib3NpdHksIDEsIGBbdXBkYXRlXVske21ldGhvZH1dYCwgYCR7ZG9tYWlufS8ke2VuZHBvaW50fWAsIGZvcm1EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2gocmVxdWVzdChkb21haW4sIGVuZHBvaW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZm9ybURhdGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXF1ZXN0TWlkZGxld2FyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFudWFsVXBkYXRlPy4obmV3RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlZD8uKCkgJiYgZm9yY2VSZWZyZXNoPy4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVEZWxldGU6IChlLCBwYXJhbXMgPSB7IG1ldGhvZDogJ0RFTEVURScsIG5hbWU6IGlkTmFtZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZT8ucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlPy5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG1ldGhvZCA9ICdERUxFVEUnLCBwYXRoVGFpbCwgbmFtZSA9IGlkTmFtZSwgaWQsIH0gPSBwYXJhbXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFpbCA9IGdldFBhdGhUYWlsKHsgW25hbWVdOiBpZD8udG9TdHJpbmcoKSA/PyAnJyB9LCBwYXJhbWV0ZXJUeXBlLCBuYW1lLCBwYXRoVGFpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBgJHtkZWxldGVFbmRwb2ludH0vJHt0YWlsID8gYCR7dGFpbH0vYCA6ICcnfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdExvZyhtb2RlLCB2ZXJib3NpdHksIDEsIGBbZGVsZXRlXVske21ldGhvZH1dYCwgYCR7ZG9tYWlufS8ke2VuZHBvaW50fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0KGRvbWFpbiwgZW5kcG9pbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXF1ZXN0TWlkZGxld2FyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogcGFyYW1ldGVyVHlwZSA9PSAncGF0aCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogSlNPTi5zdHJpbmdpZnkoZ2V0Rm9ybURhdGEoZS50YXJnZXQpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBkYXRhLmZpbmRJbmRleCgodmFsKSA9PiB2YWxbbmFtZV0gPT0gaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZWREYXRhID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RMb2cobW9kZSwgdmVyYm9zaXR5LCAzLCBgUmVtb3ZpbmcgaW5kZXggJHtpbmRleH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0FyciA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50eXBlZERhdGEuc2xpY2UoMCwgaW5kZXgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnR5cGVkRGF0YS5zbGljZShpbmRleCArIDEsIHR5cGVkRGF0YS5sZW5ndGgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RMb2cobW9kZSwgdmVyYm9zaXR5LCA0LCBgQXJyYXkgdXBkYXRlZGAsIG5ld0Fycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW51YWxVcGRhdGU/LihuZXdBcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFudWFsVXBkYXRlPy4oZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EZWxldGVkPy4oKSAmJiBmb3JjZVJlZnJlc2g/LigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSwgZm9yY2VSZWZyZXNoKSB9KSk7XG4gICAgICAgICAgICB9IH0pIH0pKTtcbn07XG5leHBvcnQgZGVmYXVsdCBDUlVEO1xuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMTU2X18iLCJlcXVhbCIsImEiLCJiIiwiY29uc3RydWN0b3IiLCJsZW5ndGgiLCJpIiwia2V5cyIsIkFycmF5IiwiaXNBcnJheSIsIlJlZ0V4cCIsInNvdXJjZSIsImZsYWdzIiwidmFsdWVPZiIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwia2V5IiwiZiIsImsiLCJTeW1ib2wiLCJmb3IiLCJsIiwibSIsIm4iLCJfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCIsIlJlYWN0Q3VycmVudE93bmVyIiwicCIsInJlZiIsIl9fc2VsZiIsIl9fc291cmNlIiwicSIsImMiLCJnIiwiZCIsImUiLCJoIiwiZGVmYXVsdFByb3BzIiwiJCR0eXBlb2YiLCJ0eXBlIiwicHJvcHMiLCJfb3duZXIiLCJjdXJyZW50IiwiRnJhZ21lbnQiLCJqc3giLCJqc3hzIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJyIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInJlcXVlc3RMb2ciLCJtb2RlIiwicGFyYW1WZXJib3NpdHkiLCJsaW1pdFZlcmJvc2l0eSIsInMiLCJjb25zb2xlIiwibG9nIiwicXVlcnlXYXJuIiwid2FybiIsInJlcXVlc3QiLCJkb21haW4iLCJwYXRoIiwib3B0aW9ucyIsIm1ldGhvZCIsImhlYWRlcnMiLCJvblJlamVjdGVkIiwicmVzdCIsInJlcSIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwidGV4dCIsInQiLCJpbmNsdWRlcyIsIkpTT04iLCJwYXJzZSIsInJlcXVlc3RXYXJuIiwiZXJyb3IiLCJxdWVyeUVycm9yIiwidXJsIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsIlByb21pc2UiLCJyZWplY3QiLCJjYXRjaCIsImVyciIsIm5hbWUiLCJFcnJvciIsIm1lc3NhZ2UiLCJnZXRGb3JtRGF0YSIsInRhcmdldCIsInR5cGVkVGFyZ2V0IiwibWFwIiwiZmlsdGVyIiwidiIsInRhZyIsInRhZ05hbWUiLCJ0b0xvY2FsZUxvd2VyQ2FzZSIsInJlZHVjZSIsImFjYyIsImN1ciIsImNoZWNrZWQiLCJyZXF1aXJlZCIsImlzQ2hlY2tib3giLCJmaW5hbFZhbHVlIiwiTnVtYmVyIiwic2VwZXJhdGUiLCJzdHJzIiwic3RyIiwicmVwbGFjZSIsInRyaW0iLCJzcGxpdCIsImdldFBhdGhUYWlsIiwiZGF0YSIsInBhdGhUYWlsIiwiaWQiLCJFcnJvckJvdW5kYXJ5IiwiUmVhY3QiLCJzdGF0ZSIsImhhc0Vycm9yIiwiaW5mbyIsImNvbXBvbmVudERpZENhdGNoIiwidGhpcyIsInNldFN0YXRlIiwicmVuZGVyIiwiY2hpbGRyZW4iLCJfanN4cyIsImNsYXNzTmFtZSIsIl9qc3giLCJjb21wb25lbnRTdGFjayIsInF1ZXJ5T3B0aW9uc0NvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwicGFyYW1ldGVyVHlwZSIsInZlcmJvc2l0eSIsImlkTmFtZSIsInVzZVF1ZXJ5T3B0aW9ucyIsImN0eCIsInVzZUNvbnRleHQiLCJ1c2VSZXF1ZXN0Iiwick1ldGhvZCIsInJSZXN0IiwibG9hZGVyIiwicVJlc3QiLCJtZXJnZSIsIlF1ZXJ5T3B0aW9uc1Byb3ZpZGVyIiwiUHJvdmlkZXIiLCJ1c2VRdWVyeSIsInF1ZXJ5IiwiZGVsYXkiLCJvblJlYWQiLCJyZXF1ZXN0T3B0aW9ucyIsInVzZUNvbmZpZyIsImRhdGFMb2FkRXJyIiwic2V0RGF0YUxvYWRFcnIiLCJ1c2VTdGF0ZSIsImxvYWRpbmciLCJjb250cm9sbGVyIiwic2V0Q29udHJvbGxlciIsInJlZnJlc2giLCJzZXRSZWZyZXNoIiwibWFudWFsVXBkYXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJhYm9ydCIsImN0cmwiLCJBYm9ydENvbnRyb2xsZXIiLCJ0aW1lb3V0Iiwid2luZG93Iiwic2V0VGltZW91dCIsInNpZ25hbCIsIm90aGVycyIsImNsZWFyVGltZW91dCIsImZvcmNlUmVmcmVzaCIsIlF1ZXJ5IiwicURhdGEiLCJhdXRvbG9hZCIsIl9GcmFnbWVudCIsImVuZFBvaW50cyIsIm9uQ3JlYXRlZCIsIm9uVXBkYXRlZCIsIm9uRGVsZXRlZCIsImNyZWF0ZUVuZHBvaW50IiwicmVhZEVuZHBvaW50IiwidXBkYXRlRW5kcG9pbnQiLCJkZWxldGVFbmRwb2ludCIsImZpbGwiLCJjcmVhdGUiLCJyZWFkIiwidXBkYXRlIiwiZGVsZXRlIiwicmVxdWVzdE1pZGRsZXdhcmUiLCJoYW5kbGVDcmVhdGUiLCJwYXJhbXMiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm1EYXRhIiwiZW5kcG9pbnQiLCJib2R5Iiwic3RyaW5naWZ5IiwiY3JlYXRlZCIsImhhbmRsZVVwZGF0ZSIsImZvcm1EYXRhcyIsImVudHJpZXMiLCJwcmV2IiwiY3VyciIsImF0dHIiLCJzZXBlcmF0ZWQiLCJlbGVtIiwiZmluZCIsInBhcnNlSWQiLCJwYXJzZUludCIsInB1c2giLCJmb3JtRXh0cmFjdG9yIiwibmV3RGF0YSIsInByb21pc2VzIiwiZm9yRWFjaCIsInRhaWwiLCJoYXNDaGFuZ2VkIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJ2YWwiLCJtZXJnZWREYXRhIiwiYWxsIiwiaGFuZGxlRGVsZXRlIiwic3RvcFByb3BhZ2F0aW9uIiwidHlwZWREYXRhIiwibmV3QXJyIiwic2xpY2UiXSwic291cmNlUm9vdCI6IiJ9