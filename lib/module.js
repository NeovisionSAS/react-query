/*! For license information please see module.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports["react-query"]=t(require("react")):e["react-query"]=t(e.react)}(self,(e=>(()=>{"use strict";var t={215:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(893),a=r(616),u=r(581),s=r(187),d=o(r(434)),i=o(r(324)),l=r(759),c=o(r(63)),p=r(156);t.default=({children:e,endPoints:t,onCreated:r,onRead:o,onUpdated:f,onDeleted:y,delay:m,type:h="array"})=>{const[g,b,v,O]="string"==typeof t?new Array(4).fill(t):[t.create,t.read,t.update,t.delete],{parameterType:_,domain:j,requestMiddleware:q,mode:P,verbosity:x,idName:E}=(0,l.useQueryOptions)();return(0,p.useEffect)((()=>{(0,u.requestLog)(P,x,5,"[endpoints]",`[C]${g}`,`[R]${b}`,`[U]${v}`,`[D]${O}`)}),[g,b,v,O]),(0,n.jsx)(d.default,{children:(0,n.jsx)(i.default,{query:`${b}`,delay:m,onRead:o,children:(t,o,d,i,l)=>(0,n.jsx)(p.Fragment,{children:e({handleCreate:(e,o={method:"POST"})=>{e.preventDefault();const{method:n="POST",pathTail:d}=o,c=(0,s.getFormData)(e.target),p=`${g}/${d?`${d}/`:""}`;return(0,u.requestLog)(P,x,1,`[create][${n}]`,`${j}/${p}`,c),(0,a.request)(j,p,{body:JSON.stringify(c),method:n,headers:q?.(),mode:P}).then((e=>{i?.([...t,e]),r?.()&&l?.()})).catch((()=>{console.error("Erreur de création","Une erreur est survenu lors de la création dans la base de données")}))},read:{data:t,loading:o,error:d},handleUpdate:(e,r={method:"PUT",name:E})=>{e.preventDefault();const{method:o="PUT",pathTail:n,name:d=E}=r,p=(0,s.formExtractor)(e.target,d);let y;y="array"==h?[...t]:t;const m=[];return p.forEach((e=>{const r=(0,s.getPathTail)(e,_,d,n),i=`${v}/${r?`${r}/`:""}`;let l=!1;if("array"==h){const t=y.findIndex((e=>e[d]==r));if(null!=t){const r={...y[t],...e};l=!(0,c.default)(y[t],r),y[t]=r}else y.push(e)}else l=!(0,c.default)(y,t),y={...y,...e};l&&((0,u.requestLog)(P,x,1,`[update][${o}]`,`${j}/${i}`,e),m.push((0,a.request)(j,i,{body:JSON.stringify(e),method:o,headers:q?.(),mode:P})))})),Promise.all(m).then((()=>{i?.(y),f?.()&&l?.()}))},handleDelete:(e,r={method:"DELETE",name:E})=>{e?.preventDefault(),e?.stopPropagation();const{method:o="DELETE",pathTail:n,name:d=E,id:c}=r,p=(0,s.getPathTail)({[d]:c.toString()},_,d,n),f=`${O}/${p}/`;return(0,u.requestLog)(P,x,1,`[delete][${o}]`,`${j}/${f}`),(0,a.request)(j,f,{method:o,headers:q?.(),mode:P}).then((()=>{if("array"==h){const e=t.findIndex((e=>e[d]==c)),r=t;(0,u.requestLog)(P,x,3,`Removing index ${e}`);const o=[...r.slice(0,e),...r.slice(e+1,r.length)];(0,u.requestLog)(P,x,4,"Array updated",o),i?.(o)}else i?.(t);y?.()&&l?.()}))}},l)})})})}},434:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(893),a=o(r(180)),u=o(r(156));class s extends u.default.Component{constructor(){super(...arguments),this.state={hasError:!1,error:{e:void 0,info:void 0}},this.componentDidCatch=(e,t)=>{console.error(e),this.setState({hasError:!0,error:{e,info:t}})}}render(){const{children:e}=this.props,{hasError:t,error:r}=this.state;return t?(0,n.jsxs)("div",{className:a.default.main,children:[(0,n.jsx)("div",{children:r?.e?.message}),(0,n.jsx)("hr",{}),(0,n.jsx)("div",{children:r?.info?.componentStack})]}):(0,n.jsx)(u.default.Fragment,{children:e})}}t.default=s},324:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(893),a=o(r(434)),u=r(759),s=r(156);t.default=({children:e,query:t,method:r,delay:o,body:d,onRead:i})=>{const[l,c]=(0,s.useState)({data:null,loading:!0,error:null}),p=(0,u.useRequest)(),[f,y]=(0,s.useState)(),[m,h]=(0,s.useState)(!1),g=(0,s.useCallback)((e=>c({data:e,loading:!1,error:null})),[l]);return(0,s.useEffect)((()=>{f?.abort();const e=new AbortController,r=window.setTimeout((()=>{p(t,{signal:e.signal}).then((e=>{c({data:e,loading:!1,error:null}),i?.(e)})).catch((e=>{"AbortError"!=e.name&&c({data:null,loading:!1,error:e.toString()})}))}),o??0);return y(e),c({data:null,loading:!0,error:null}),()=>{e?.abort(),window.clearTimeout(r)}}),[t,m]),(0,n.jsx)(a.default,{children:e(l.data,l.loading,l.error,g,(()=>h(!m)))})}},759:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.QueryOptionsProvider=t.useRequest=t.useQueryOptions=void 0;const o=r(616),n=r(156),a=(0,n.createContext)({domain:"",parameterType:"path",mode:"production",verbosity:1,idName:"id"});t.useQueryOptions=()=>{const e=(0,n.useContext)(a);if(!e)throw new Error("No context for 'useQueryOptions'");return e.idName||(e.idName="id"),e},t.useRequest=()=>{const{domain:e,mode:r,requestMiddleware:n}=(0,t.useQueryOptions)();return function(t,a={method:"GET"}){const{headers:u=n?.(),body:s,method:d="GET",mode:i=r,signal:l}=a;return(0,o.request)(e,t,{body:s,headers:u,method:d,mode:i,signal:l})}},t.QueryOptionsProvider=a.Provider},276:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useQueryOptions=t.useRequest=t.request=t.QueryOptionsProvider=t.Query=t.CRUD=void 0;const n=o(r(215));t.CRUD=n.default;const a=o(r(324));t.Query=a.default;const u=r(759);Object.defineProperty(t,"QueryOptionsProvider",{enumerable:!0,get:function(){return u.QueryOptionsProvider}}),Object.defineProperty(t,"useQueryOptions",{enumerable:!0,get:function(){return u.useQueryOptions}}),Object.defineProperty(t,"useRequest",{enumerable:!0,get:function(){return u.useRequest}});const s=r(616);Object.defineProperty(t,"request",{enumerable:!0,get:function(){return s.request}})},616:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.request=void 0;const o=r(581);t.request=function(e,t,r={method:"GET"}){const{body:n,method:a="GET",headers:u,mode:s="production",signal:d}=r,i=r=>fetch(`${e}/${t}`,{headers:r,method:a,body:n,signal:d}).then((e=>e.ok?e.text().then((t=>{try{if("application/json"==r?.["Content-Type"])return JSON.parse(t)}catch(t){(0,o.queryWarn)(s,0,0,"Could not parse response to json",e)}return t})):Promise.reject(e))).catch((e=>new Promise(((t,r)=>{"AbortError"==e.name?(0,o.queryWarn)(s,0,0,e.message):((0,o.queryError)(`${e.url} ${e.status} ${e.statusText}`),r(e))}))));return u?u.then(i):i({})}},581:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.queryError=t.queryWarn=t.requestLog=void 0,t.requestLog=(e,t,r,...o)=>{"development"==e&&r<=t&&console.log("[react-query]",...o)},t.queryWarn=(e,t,r,...o)=>{"development"==e&&r<=t&&console.warn("[react-query]",...o)},t.queryError=(...e)=>{console.error("[react-query]",...e)}},187:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useForceUpdate=t.getPathTail=t.seperate=t.seperateAndKeepIds=t.formExtractor=t.getFormData=void 0;const o=r(156);t.getFormData=e=>{const t=e;return Object.keys(e).map((e=>t[e])).filter((e=>{const t=e.tagName?.toLocaleLowerCase?.();return e.name&&("input"==t||"select"==t)})).reduce(((e,t)=>{const{name:r,value:o,checked:n,type:a,required:u}=t,s="checkbox"==a;if(u&&(""==o||null==o))throw new Error(`Can't use an empty value for ${r}`);let d="number"==a?new Number(o).valueOf():o;return{...e,[r]:s?n:d}}),{})},t.formExtractor=(e,r)=>{const o=(0,t.getFormData)(e);return null!=o[r]?[o]:Object.entries(o).reduce(((e,o)=>{const n=o[0],[a,u]=(0,t.seperateAndKeepIds)([n])[0],s=e.find((e=>e[r]==u));let d=u;try{d=parseInt(u)}catch(e){}return s?s[a]=o[1]:e.push({[r]:d,[a]:o[1]}),e}),[])},t.seperateAndKeepIds=e=>(0,t.seperate)(e).map((e=>{const t=e[1],r=t[t.length-1];return[e[0].replace(new RegExp(`(-|_)?${r}$`),""),r]})),t.seperate=e=>e.map((e=>[e,e.replace(/([0-9]+)/," $1").replace(/(-|_)/g," ").replace(/([A-Z])/g," $1").trim().toLocaleLowerCase().split(" ").filter((e=>""!=e))])),t.getPathTail=(e,t,r,o)=>{const n=e[r];return"path"==t&&""!=n&&null!=n?n:o},t.useForceUpdate=()=>(0,o.useReducer)((()=>({})),{})[1]},63:e=>{e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var o,n,a;if(Array.isArray(t)){if((o=t.length)!=r.length)return!1;for(n=o;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((o=(a=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(n=o;0!=n--;)if(!Object.prototype.hasOwnProperty.call(r,a[n]))return!1;for(n=o;0!=n--;){var u=a[n];if(!e(t[u],r[u]))return!1}return!0}return t!=t&&r!=r}},180:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});const o={"button-default":"N34oaDgHtJlptqxVv9Pn","button-selected":"Ja0ovO_h3eaEsaboqDC7","button-primary":"KTfuLE7LnSGRHDFPD0EA","button-validate":"jY9MIHyO7T8W_QNpfx0k","button-inverse":"m40wbnuJh67XxmYctJLR","button-ignore":"ZeIjhLVvw0JqjuR8kYjT","button-invalid":"ZedjeDkFzo6JcAGxyZPn","button-valid":"Jk7f76XpP7SLD92LvmM3",main:"SIApxQzQlZp0L1gN0_QW"}},251:(e,t,r)=>{var o=r(156),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,s=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,r){var o,a={},i=null,l=null;for(o in void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,o)&&!d.hasOwnProperty(o)&&(a[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===a[o]&&(a[o]=t[o]);return{$$typeof:n,type:e,key:i,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=i,t.jsxs=i},893:(e,t,r)=>{e.exports=r(251)},156:t=>{t.exports=e}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={exports:{}};return t[e].call(a.exports,a,a.exports,o),a.exports}return o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o(276)})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVELEVBQVlsRCxLQUFTOEMsRUFBb0JLLEVBQUUzUCxFQUFTd00sSUFDNUU3TCxPQUFPQyxlQUFlWixFQUFTd00sRUFBSyxDQUFFN0MsWUFBWSxFQUFNQyxJQUFLOEYsRUFBV2xELE1DSjNFOEMsRUFBb0JLLEVBQUksQ0FBQ0MsRUFBS0MsSUFBVWxQLE9BQU9rTixVQUFVQyxlQUFlQyxLQUFLNkIsRUFBS0MsR0NDbEZQLEVBQW9CUSxFQUFLOVAsSUFDSCxvQkFBWGlPLFFBQTBCQSxPQUFPOEIsYUFDMUNwUCxPQUFPQyxlQUFlWixFQUFTaU8sT0FBTzhCLFlBQWEsQ0FBRWxQLE1BQU8sV0FFN0RGLE9BQU9DLGVBQWVaLEVBQVMsYUFBYyxDQUFFYSxPQUFPLEtDRjdCeU8sRUFBb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvY29tcG9uZW50cy91dGlscy9DUlVEL2luZGV4LnRzeCIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL3NyYy9jb21wb25lbnRzL3V0aWxzL0Vycm9yQm91bmRhcnkvaW5kZXgudHN4Iiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL2NvbXBvbmVudHMvdXRpbHMvUXVlcnkvaW5kZXgudHN4Iiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL2NvbXBvbmVudHMvdXRpbHMvUXVlcnlPcHRpb25zUHJvdmlkZXIvaW5kZXgudHN4Iiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL21vZHVsZS50cyIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL3NyYy91dGlscy9hcGkudHMiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvdXRpbHMvbG9nLnRzIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL3V0aWxzL3V0aWwudHMiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9ub2RlX21vZHVsZXMvZmFzdC1kZWVwLWVxdWFsL2luZGV4LmpzIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL2NvbXBvbmVudHMvdXRpbHMvRXJyb3JCb3VuZGFyeS9pbmRleC5tb2R1bGUuc2Nzcz82OTk5Iiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC1qc3gtcnVudGltZS5wcm9kdWN0aW9uLm1pbi5qcyIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL25vZGVfbW9kdWxlcy9yZWFjdC9qc3gtcnVudGltZS5qcyIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS9leHRlcm5hbCB1bWQgXCJyZWFjdFwiIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcInJlYWN0XCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcInJlYWN0LXF1ZXJ5XCJdID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcInJlYWN0LXF1ZXJ5XCJdID0gZmFjdG9yeShyb290W1wicmVhY3RcIl0pO1xufSkoc2VsZiwgKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzE1Nl9fKSA9PiB7XG5yZXR1cm4gIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBqc3hfcnVudGltZV8xID0gcmVxdWlyZShcInJlYWN0L2pzeC1ydW50aW1lXCIpO1xuY29uc3QgYXBpXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvYXBpXCIpO1xuY29uc3QgbG9nXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMvbG9nXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWxzL3V0aWxcIik7XG5jb25zdCBFcnJvckJvdW5kYXJ5XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uL0Vycm9yQm91bmRhcnlcIikpO1xuY29uc3QgUXVlcnlfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vUXVlcnlcIikpO1xuY29uc3QgUXVlcnlPcHRpb25zUHJvdmlkZXJfMSA9IHJlcXVpcmUoXCIuLi9RdWVyeU9wdGlvbnNQcm92aWRlclwiKTtcbmNvbnN0IGZhc3RfZGVlcF9lcXVhbF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJmYXN0LWRlZXAtZXF1YWxcIikpO1xuY29uc3QgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbi8qKlxuICogVGhpcyBjb21wb25lbnQgaXMgdXNlZCB0byBzaW1wbGlmeSBgQ1JVRGAgb3BlcmF0aW9ucy5cbiAqIFlvdSBnaXZlIGl0IHRoZSBgZW5kcG9pbnQocylgIHRvIHdoaWNoIHlvdSB3YW50IHRvIGRvIHJlcXVlc3RzIGFuZCBpdCB3aWxsIGhhbmRsZVxuICogYWxsIG9mIHRoZSB0YXNrcyBpbiB0aGUgYmFja2dyb3VuZCBhbmQgdXBkYXRlIHRoZSBzdGF0ZSBvZiB0aGUgdmFyaWFibGVzXG4gKiBpdCBnaXZlcyB5b3UgZnJvbSB0aGUgY2hpbGQgZnVuY3Rpb24uXG4gKlxuICogTWFrZSBzdXJlIHRvIGRlZmluZSB0aGUgUXVlcnlPcHRpb25zIHBhcmFtIHdpdGggdGhlIGBRdWVyeU9wdGlvbnNQcm92aWRlcmAgY29tcG9uZW50XG4gKlxuICogR28gdG8gdGhlIFtleGFtcGxlcyBkaXJlY3RvcnldKGh0dHBzOi8vYml0YnVja2V0Lm9yZy9uZW92aXNpb24vcmVhY3QtcXVlcnkvc3JjL21hc3Rlci9zcmMvZXhhbXBsZXMpIHRvIHNlZSBleGFtcGxlc1xuICovXG5jb25zdCBDUlVEID0gKHsgY2hpbGRyZW4sIGVuZFBvaW50cywgb25DcmVhdGVkLCBvblJlYWQsIG9uVXBkYXRlZCwgb25EZWxldGVkLCBkZWxheSwgdHlwZSA9ICdhcnJheScsIH0pID0+IHtcbiAgICBjb25zdCBbY3JlYXRlRW5kcG9pbnQsIHJlYWRFbmRwb2ludCwgdXBkYXRlRW5kcG9pbnQsIGRlbGV0ZUVuZHBvaW50XSA9IHR5cGVvZiBlbmRQb2ludHMgPT0gJ3N0cmluZydcbiAgICAgICAgPyBuZXcgQXJyYXkoNCkuZmlsbChlbmRQb2ludHMpXG4gICAgICAgIDogW2VuZFBvaW50cy5jcmVhdGUsIGVuZFBvaW50cy5yZWFkLCBlbmRQb2ludHMudXBkYXRlLCBlbmRQb2ludHMuZGVsZXRlXTtcbiAgICBjb25zdCB7IHBhcmFtZXRlclR5cGUsIGRvbWFpbiwgcmVxdWVzdE1pZGRsZXdhcmUsIG1vZGUsIHZlcmJvc2l0eSwgaWROYW1lIH0gPSAoMCwgUXVlcnlPcHRpb25zUHJvdmlkZXJfMS51c2VRdWVyeU9wdGlvbnMpKCk7XG4gICAgKDAsIHJlYWN0XzEudXNlRWZmZWN0KSgoKSA9PiB7XG4gICAgICAgICgwLCBsb2dfMS5yZXF1ZXN0TG9nKShtb2RlLCB2ZXJib3NpdHksIDUsIGBbZW5kcG9pbnRzXWAsIGBbQ10ke2NyZWF0ZUVuZHBvaW50fWAsIGBbUl0ke3JlYWRFbmRwb2ludH1gLCBgW1VdJHt1cGRhdGVFbmRwb2ludH1gLCBgW0RdJHtkZWxldGVFbmRwb2ludH1gKTtcbiAgICB9LCBbY3JlYXRlRW5kcG9pbnQsIHJlYWRFbmRwb2ludCwgdXBkYXRlRW5kcG9pbnQsIGRlbGV0ZUVuZHBvaW50XSk7XG4gICAgcmV0dXJuICgoMCwganN4X3J1bnRpbWVfMS5qc3gpKEVycm9yQm91bmRhcnlfMS5kZWZhdWx0LCB7IGNoaWxkcmVuOiAoMCwganN4X3J1bnRpbWVfMS5qc3gpKFF1ZXJ5XzEuZGVmYXVsdCwgeyBxdWVyeTogYCR7cmVhZEVuZHBvaW50fWAsIGRlbGF5OiBkZWxheSwgb25SZWFkOiBvblJlYWQsIGNoaWxkcmVuOiAoZGF0YSwgbG9hZGluZywgZXJyb3IsIG1hbnVhbFVwZGF0ZSwgcXVlcnlSZWZyZXNoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgoMCwganN4X3J1bnRpbWVfMS5qc3gpKHJlYWN0XzEuRnJhZ21lbnQsIHsgY2hpbGRyZW46IGNoaWxkcmVuKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNyZWF0ZTogKGUsIHBhcmFtcyA9IHsgbWV0aG9kOiAnUE9TVCcgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG1ldGhvZCA9ICdQT1NUJywgcGF0aFRhaWwgfSA9IHBhcmFtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9ICgwLCB1dGlsXzEuZ2V0Rm9ybURhdGEpKGUudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGAke2NyZWF0ZUVuZHBvaW50fS8ke3BhdGhUYWlsID8gYCR7cGF0aFRhaWx9L2AgOiAnJ31gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dfMS5yZXF1ZXN0TG9nKShtb2RlLCB2ZXJib3NpdHksIDEsIGBbY3JlYXRlXVske21ldGhvZH1dYCwgYCR7ZG9tYWlufS8ke2VuZHBvaW50fWAsIGZvcm1EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDAsIGFwaV8xLnJlcXVlc3QpKGRvbWFpbiwgZW5kcG9pbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZm9ybURhdGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlcXVlc3RNaWRkbGV3YXJlPy4oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoY3JlYXRlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW51YWxVcGRhdGU/LihbLi4uZGF0YSwgY3JlYXRlZF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNyZWF0ZWQ/LigpICYmIHF1ZXJ5UmVmcmVzaD8uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyZXVyIGRlIGNyw6lhdGlvbmAsIGBVbmUgZXJyZXVyIGVzdCBzdXJ2ZW51IGxvcnMgZGUgbGEgY3LDqWF0aW9uIGRhbnMgbGEgYmFzZSBkZSBkb25uw6llc2ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWQ6IHsgZGF0YSwgbG9hZGluZywgZXJyb3IgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVVwZGF0ZTogKGUsIHBhcmFtcyA9IHsgbWV0aG9kOiAnUFVUJywgbmFtZTogaWROYW1lIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtZXRob2QgPSAnUFVUJywgcGF0aFRhaWwsIG5hbWUgPSBpZE5hbWUgfSA9IHBhcmFtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtRGF0YXMgPSAoMCwgdXRpbF8xLmZvcm1FeHRyYWN0b3IpKGUudGFyZ2V0LCBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3RGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSAnYXJyYXknKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdEYXRhID0gWy4uLmRhdGFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YXMuZm9yRWFjaCgoZm9ybURhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFpbCA9ICgwLCB1dGlsXzEuZ2V0UGF0aFRhaWwpKGZvcm1EYXRhLCBwYXJhbWV0ZXJUeXBlLCBuYW1lLCBwYXRoVGFpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZHBvaW50ID0gYCR7dXBkYXRlRW5kcG9pbnR9LyR7dGFpbCA/IGAke3RhaWx9L2AgOiAnJ31gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IG5ld0RhdGEuZmluZEluZGV4KCh2YWwpID0+IHZhbFtuYW1lXSA9PSB0YWlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXJnZWREYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5uZXdEYXRhW2luZGV4XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZm9ybURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNDaGFuZ2VkID0gISgwLCBmYXN0X2RlZXBfZXF1YWxfMS5kZWZhdWx0KShuZXdEYXRhW2luZGV4XSwgbWVyZ2VkRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YVtpbmRleF0gPSBtZXJnZWREYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGEucHVzaChmb3JtRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNDaGFuZ2VkID0gISgwLCBmYXN0X2RlZXBfZXF1YWxfMS5kZWZhdWx0KShuZXdEYXRhLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGEgPSB7IC4uLm5ld0RhdGEsIC4uLmZvcm1EYXRhIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dfMS5yZXF1ZXN0TG9nKShtb2RlLCB2ZXJib3NpdHksIDEsIGBbdXBkYXRlXVske21ldGhvZH1dYCwgYCR7ZG9tYWlufS8ke2VuZHBvaW50fWAsIGZvcm1EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2goKDAsIGFwaV8xLnJlcXVlc3QpKGRvbWFpbiwgZW5kcG9pbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShmb3JtRGF0YSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlcXVlc3RNaWRkbGV3YXJlPy4oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFudWFsVXBkYXRlPy4obmV3RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlZD8uKCkgJiYgcXVlcnlSZWZyZXNoPy4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVEZWxldGU6IChlLCBwYXJhbXMgPSB7IG1ldGhvZDogJ0RFTEVURScsIG5hbWU6IGlkTmFtZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZT8ucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlPy5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG1ldGhvZCA9ICdERUxFVEUnLCBwYXRoVGFpbCwgbmFtZSA9IGlkTmFtZSwgaWQsIH0gPSBwYXJhbXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFpbCA9ICgwLCB1dGlsXzEuZ2V0UGF0aFRhaWwpKHsgW25hbWVdOiBpZC50b1N0cmluZygpIH0sIHBhcmFtZXRlclR5cGUsIG5hbWUsIHBhdGhUYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGAke2RlbGV0ZUVuZHBvaW50fS8ke3RhaWx9L2A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ18xLnJlcXVlc3RMb2cpKG1vZGUsIHZlcmJvc2l0eSwgMSwgYFtkZWxldGVdWyR7bWV0aG9kfV1gLCBgJHtkb21haW59LyR7ZW5kcG9pbnR9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgwLCBhcGlfMS5yZXF1ZXN0KShkb21haW4sIGVuZHBvaW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogcmVxdWVzdE1pZGRsZXdhcmU/LigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGRhdGEuZmluZEluZGV4KCh2YWwpID0+IHZhbFtuYW1lXSA9PSBpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlZERhdGEgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ18xLnJlcXVlc3RMb2cpKG1vZGUsIHZlcmJvc2l0eSwgMywgYFJlbW92aW5nIGluZGV4ICR7aW5kZXh9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdBcnIgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udHlwZWREYXRhLnNsaWNlKDAsIGluZGV4KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50eXBlZERhdGEuc2xpY2UoaW5kZXggKyAxLCB0eXBlZERhdGEubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nXzEucmVxdWVzdExvZykobW9kZSwgdmVyYm9zaXR5LCA0LCBgQXJyYXkgdXBkYXRlZGAsIG5ld0Fycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW51YWxVcGRhdGU/LihuZXdBcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFudWFsVXBkYXRlPy4oZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EZWxldGVkPy4oKSAmJiBxdWVyeVJlZnJlc2g/LigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSwgcXVlcnlSZWZyZXNoKSB9KSk7XG4gICAgICAgICAgICB9IH0pIH0pKTtcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBDUlVEO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBqc3hfcnVudGltZV8xID0gcmVxdWlyZShcInJlYWN0L2pzeC1ydW50aW1lXCIpO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW5zYWZlLWZpbmFsbHkgKi9cbmNvbnN0IGluZGV4X21vZHVsZV9zY3NzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vaW5kZXgubW9kdWxlLnNjc3NcIikpO1xuY29uc3QgcmVhY3RfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwicmVhY3RcIikpO1xuY2xhc3MgRXJyb3JCb3VuZGFyeSBleHRlbmRzIHJlYWN0XzEuZGVmYXVsdC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaGFzRXJyb3I6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IHsgZTogdW5kZWZpbmVkLCBpbmZvOiB1bmRlZmluZWQgfSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jb21wb25lbnREaWRDYXRjaCA9IChlLCBpbmZvKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGhhc0Vycm9yOiB0cnVlLCBlcnJvcjogeyBlLCBpbmZvIH0gfSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBjaGlsZHJlbiB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgeyBoYXNFcnJvciwgZXJyb3IgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGlmICghaGFzRXJyb3IpXG4gICAgICAgICAgICByZXR1cm4gKDAsIGpzeF9ydW50aW1lXzEuanN4KShyZWFjdF8xLmRlZmF1bHQuRnJhZ21lbnQsIHsgY2hpbGRyZW46IGNoaWxkcmVuIH0pO1xuICAgICAgICByZXR1cm4gKCgwLCBqc3hfcnVudGltZV8xLmpzeHMpKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBpbmRleF9tb2R1bGVfc2Nzc18xLmRlZmF1bHQubWFpbiwgY2hpbGRyZW46IFsoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwiZGl2XCIsIHsgY2hpbGRyZW46IGVycm9yPy5lPy5tZXNzYWdlIH0pLCAoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwiaHJcIiwge30pLCAoMCwganN4X3J1bnRpbWVfMS5qc3gpKFwiZGl2XCIsIHsgY2hpbGRyZW46IGVycm9yPy5pbmZvPy5jb21wb25lbnRTdGFjayB9KV0gfSkpO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IEVycm9yQm91bmRhcnk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGpzeF9ydW50aW1lXzEgPSByZXF1aXJlKFwicmVhY3QvanN4LXJ1bnRpbWVcIik7XG5jb25zdCBFcnJvckJvdW5kYXJ5XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uL0Vycm9yQm91bmRhcnlcIikpO1xuY29uc3QgUXVlcnlPcHRpb25zUHJvdmlkZXJfMSA9IHJlcXVpcmUoXCIuLi9RdWVyeU9wdGlvbnNQcm92aWRlclwiKTtcbmNvbnN0IHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG4vKipcbiAqIFRoZSBxdWVyeSBjb21wb25lbnQgaXMgYSBmZXRjaCB3cmFwcGVyIHRoYXQgYWxsb3dzIHRvIGRpcmVjdGx5IGFkZCBsb2dpYyBpbiB0aGUgZGVzaWduIG9mIHRoZSByZWFjdCBET00gYXJjaGl0ZWN0dXJlXG4gKi9cbmNvbnN0IFF1ZXJ5ID0gKHsgY2hpbGRyZW4sIHF1ZXJ5LCBtZXRob2QsIGRlbGF5LCBib2R5LCBvblJlYWQsIH0pID0+IHtcbiAgICAvLyBUaGUgZGVmYXVsdCBkYXRhL2xvYWQvZXJyb3IgdHJpcGxlXG4gICAgY29uc3QgW2RhdGFMb2FkRXJyLCBzZXREYXRhTG9hZEVycl0gPSAoMCwgcmVhY3RfMS51c2VTdGF0ZSkoe1xuICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICB9KTtcbiAgICBjb25zdCByZXF1ZXN0ID0gKDAsIFF1ZXJ5T3B0aW9uc1Byb3ZpZGVyXzEudXNlUmVxdWVzdCkoKTtcbiAgICBjb25zdCBbY29udHJvbGxlciwgc2V0Q29udHJvbGxlcl0gPSAoMCwgcmVhY3RfMS51c2VTdGF0ZSkoKTtcbiAgICBjb25zdCBbcmVmcmVzaCwgc2V0UmVmcmVzaF0gPSAoMCwgcmVhY3RfMS51c2VTdGF0ZSkoZmFsc2UpO1xuICAgIGNvbnN0IG1hbnVhbFVwZGF0ZSA9ICgwLCByZWFjdF8xLnVzZUNhbGxiYWNrKSgoZGF0YSkgPT4gc2V0RGF0YUxvYWRFcnIoe1xuICAgICAgICBkYXRhLFxuICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgfSksIFtkYXRhTG9hZEVycl0pO1xuICAgIC8vIENoZWNrIGlmIHRoZSBxdWVyeSBwcm9wIGhhcyBjaGFuZ2VkXG4gICAgKDAsIHJlYWN0XzEudXNlRWZmZWN0KSgoKSA9PiB7XG4gICAgICAgIGNvbnRyb2xsZXI/LmFib3J0KCk7XG4gICAgICAgIGNvbnN0IGN0cmwgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICByZXF1ZXN0KHF1ZXJ5LCB7XG4gICAgICAgICAgICAgICAgc2lnbmFsOiBjdHJsLnNpZ25hbCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIHNldERhdGFMb2FkRXJyKHsgZGF0YTogcmVzLCBsb2FkaW5nOiBmYWxzZSwgZXJyb3I6IG51bGwgfSk7XG4gICAgICAgICAgICAgICAgb25SZWFkPy4ocmVzKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyLm5hbWUgPT0gJ0Fib3J0RXJyb3InKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgc2V0RGF0YUxvYWRFcnIoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVyci50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGRlbGF5ID8/IDApO1xuICAgICAgICBzZXRDb250cm9sbGVyKGN0cmwpO1xuICAgICAgICBzZXREYXRhTG9hZEVycih7IGRhdGE6IG51bGwsIGxvYWRpbmc6IHRydWUsIGVycm9yOiBudWxsIH0pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY3RybD8uYWJvcnQoKTtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIH07XG4gICAgfSwgW3F1ZXJ5LCByZWZyZXNoXSk7XG4gICAgcmV0dXJuICgoMCwganN4X3J1bnRpbWVfMS5qc3gpKEVycm9yQm91bmRhcnlfMS5kZWZhdWx0LCB7IGNoaWxkcmVuOiBjaGlsZHJlbihkYXRhTG9hZEVyci5kYXRhLCBkYXRhTG9hZEVyci5sb2FkaW5nLCBkYXRhTG9hZEVyci5lcnJvciwgbWFudWFsVXBkYXRlLCAoKSA9PiBzZXRSZWZyZXNoKCFyZWZyZXNoKSkgfSkpO1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9IFF1ZXJ5O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlF1ZXJ5T3B0aW9uc1Byb3ZpZGVyID0gZXhwb3J0cy51c2VSZXF1ZXN0ID0gZXhwb3J0cy51c2VRdWVyeU9wdGlvbnMgPSB2b2lkIDA7XG5jb25zdCBhcGlfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy9hcGlcIik7XG5jb25zdCByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xuY29uc3QgcXVlcnlPcHRpb25zQ29udGV4dCA9ICgwLCByZWFjdF8xLmNyZWF0ZUNvbnRleHQpKHtcbiAgICBkb21haW46ICcnLFxuICAgIHBhcmFtZXRlclR5cGU6ICdwYXRoJyxcbiAgICBtb2RlOiAncHJvZHVjdGlvbicsXG4gICAgdmVyYm9zaXR5OiAxLFxuICAgIGlkTmFtZTogJ2lkJyxcbn0pO1xuY29uc3QgdXNlUXVlcnlPcHRpb25zID0gKCkgPT4ge1xuICAgIGNvbnN0IGN0eCA9ICgwLCByZWFjdF8xLnVzZUNvbnRleHQpKHF1ZXJ5T3B0aW9uc0NvbnRleHQpO1xuICAgIGlmICghY3R4KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjb250ZXh0IGZvciAndXNlUXVlcnlPcHRpb25zJ1wiKTtcbiAgICBpZiAoIWN0eC5pZE5hbWUpXG4gICAgICAgIGN0eC5pZE5hbWUgPSAnaWQnO1xuICAgIHJldHVybiBjdHg7XG59O1xuZXhwb3J0cy51c2VRdWVyeU9wdGlvbnMgPSB1c2VRdWVyeU9wdGlvbnM7XG5jb25zdCB1c2VSZXF1ZXN0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgZG9tYWluLCBtb2RlOiBxTW9kZSwgcmVxdWVzdE1pZGRsZXdhcmU6IHFSZXF1ZXN0TWlkZGxld2FyZSwgfSA9ICgwLCBleHBvcnRzLnVzZVF1ZXJ5T3B0aW9ucykoKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMgPSB7IG1ldGhvZDogJ0dFVCcgfSkge1xuICAgICAgICBjb25zdCB7IGhlYWRlcnMgPSBxUmVxdWVzdE1pZGRsZXdhcmU/LigpLCBib2R5LCBtZXRob2QgPSAnR0VUJywgbW9kZSA9IHFNb2RlLCBzaWduYWwsIH0gPSBvcHRpb25zO1xuICAgICAgICByZXR1cm4gKDAsIGFwaV8xLnJlcXVlc3QpKGRvbWFpbiwgcGF0aCwgeyBib2R5LCBoZWFkZXJzLCBtZXRob2QsIG1vZGUsIHNpZ25hbCB9KTtcbiAgICB9O1xufTtcbmV4cG9ydHMudXNlUmVxdWVzdCA9IHVzZVJlcXVlc3Q7XG5leHBvcnRzLlF1ZXJ5T3B0aW9uc1Byb3ZpZGVyID0gcXVlcnlPcHRpb25zQ29udGV4dC5Qcm92aWRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51c2VRdWVyeU9wdGlvbnMgPSBleHBvcnRzLnVzZVJlcXVlc3QgPSBleHBvcnRzLnJlcXVlc3QgPSBleHBvcnRzLlF1ZXJ5T3B0aW9uc1Byb3ZpZGVyID0gZXhwb3J0cy5RdWVyeSA9IGV4cG9ydHMuQ1JVRCA9IHZvaWQgMDtcbmNvbnN0IENSVURfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9jb21wb25lbnRzL3V0aWxzL0NSVURcIikpO1xuZXhwb3J0cy5DUlVEID0gQ1JVRF8xLmRlZmF1bHQ7XG5jb25zdCBRdWVyeV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvdXRpbHMvUXVlcnlcIikpO1xuZXhwb3J0cy5RdWVyeSA9IFF1ZXJ5XzEuZGVmYXVsdDtcbmNvbnN0IFF1ZXJ5T3B0aW9uc1Byb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3V0aWxzL1F1ZXJ5T3B0aW9uc1Byb3ZpZGVyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUXVlcnlPcHRpb25zUHJvdmlkZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFF1ZXJ5T3B0aW9uc1Byb3ZpZGVyXzEuUXVlcnlPcHRpb25zUHJvdmlkZXI7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ1c2VRdWVyeU9wdGlvbnNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFF1ZXJ5T3B0aW9uc1Byb3ZpZGVyXzEudXNlUXVlcnlPcHRpb25zOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidXNlUmVxdWVzdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gUXVlcnlPcHRpb25zUHJvdmlkZXJfMS51c2VSZXF1ZXN0OyB9IH0pO1xuY29uc3QgYXBpXzEgPSByZXF1aXJlKFwiLi91dGlscy9hcGlcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZXF1ZXN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBhcGlfMS5yZXF1ZXN0OyB9IH0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJlcXVlc3QgPSB2b2lkIDA7XG5jb25zdCBsb2dfMSA9IHJlcXVpcmUoXCIuL2xvZ1wiKTtcbmNvbnN0IHJlcXVlc3QgPSBmdW5jdGlvbiAoZG9tYWluLCBwYXRoLCBvcHRpb25zID0geyBtZXRob2Q6ICdHRVQnIH0pIHtcbiAgICBjb25zdCB7IGJvZHksIG1ldGhvZCA9ICdHRVQnLCBoZWFkZXJzLCBtb2RlID0gJ3Byb2R1Y3Rpb24nLCBzaWduYWwsIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHJlcSA9IChoZWFkZXJzKSA9PiB7XG4gICAgICAgIGNvbnN0IHAgPSBmZXRjaChgJHtkb21haW59LyR7cGF0aH1gLCB7XG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIHNpZ25hbCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy50ZXh0KCkudGhlbigodCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRlcnM/LlsnQ29udGVudC1UeXBlJ10gPT0gJ2FwcGxpY2F0aW9uL2pzb24nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nXzEucXVlcnlXYXJuKShtb2RlLCAwLCAwLCBgQ291bGQgbm90IHBhcnNlIHJlc3BvbnNlIHRvIGpzb25gLCByZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlcyk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChfLCByZWopID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyLm5hbWUgPT0gJ0Fib3J0RXJyb3InKVxuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nXzEucXVlcnlXYXJuKShtb2RlLCAwLCAwLCBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICgwLCBsb2dfMS5xdWVyeUVycm9yKShgJHtlcnIudXJsfSAke2Vyci5zdGF0dXN9ICR7ZXJyLnN0YXR1c1RleHR9YCk7XG4gICAgICAgICAgICAgICAgICAgIHJlaihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBoZWFkZXJzID8gaGVhZGVycy50aGVuKHJlcSkgOiByZXEoe30pO1xufTtcbmV4cG9ydHMucmVxdWVzdCA9IHJlcXVlc3Q7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucXVlcnlFcnJvciA9IGV4cG9ydHMucXVlcnlXYXJuID0gZXhwb3J0cy5yZXF1ZXN0TG9nID0gdm9pZCAwO1xuY29uc3QgcmVxdWVzdExvZyA9IChtb2RlLCBwYXJhbVZlcmJvc2l0eSwgbGltaXRWZXJib3NpdHksIC4uLnMpID0+IHtcbiAgICBpZiAobW9kZSA9PSAnZGV2ZWxvcG1lbnQnICYmIGxpbWl0VmVyYm9zaXR5IDw9IHBhcmFtVmVyYm9zaXR5KVxuICAgICAgICBjb25zb2xlLmxvZyhgW3JlYWN0LXF1ZXJ5XWAsIC4uLnMpO1xufTtcbmV4cG9ydHMucmVxdWVzdExvZyA9IHJlcXVlc3RMb2c7XG5jb25zdCBxdWVyeVdhcm4gPSAobW9kZSwgcGFyYW1WZXJib3NpdHksIGxpbWl0VmVyYm9zaXR5LCAuLi5zKSA9PiB7XG4gICAgaWYgKG1vZGUgPT0gJ2RldmVsb3BtZW50JyAmJiBsaW1pdFZlcmJvc2l0eSA8PSBwYXJhbVZlcmJvc2l0eSlcbiAgICAgICAgY29uc29sZS53YXJuKGBbcmVhY3QtcXVlcnldYCwgLi4ucyk7XG59O1xuZXhwb3J0cy5xdWVyeVdhcm4gPSBxdWVyeVdhcm47XG5jb25zdCBxdWVyeUVycm9yID0gKC4uLnMpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGBbcmVhY3QtcXVlcnldYCwgLi4ucyk7XG59O1xuZXhwb3J0cy5xdWVyeUVycm9yID0gcXVlcnlFcnJvcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51c2VGb3JjZVVwZGF0ZSA9IGV4cG9ydHMuZ2V0UGF0aFRhaWwgPSBleHBvcnRzLnNlcGVyYXRlID0gZXhwb3J0cy5zZXBlcmF0ZUFuZEtlZXBJZHMgPSBleHBvcnRzLmZvcm1FeHRyYWN0b3IgPSBleHBvcnRzLmdldEZvcm1EYXRhID0gdm9pZCAwO1xuY29uc3QgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbi8qKlxuICogZ2V0Rm9ybURhdGEgZXh0cmFjdHMgdGhlIHZhbHVlcyBvZiB0aGUgaW5wdXQgZWxlbWVudHNcbiAqIHJlY2VpdmVkIGZyb20gdGhlIHRhcmdldCBvYmplY3RcbiAqIEBwYXJhbSB0YXJnZXQgVGFyZ2V0IHJlY2VpdmVkIGZyb20gdGhlIG9iamVjdCBldmVudFxuICogQHJldHVybnMgQW4gb2JqZWN0IG9mIHR5cGUgVCBieSBkZWZhdWx0IHdpdGgga2V5IHZhbHVlIHBhaXJzXG4gKi9cbmNvbnN0IGdldEZvcm1EYXRhID0gKHRhcmdldCkgPT4ge1xuICAgIGNvbnN0IHR5cGVkVGFyZ2V0ID0gdGFyZ2V0O1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0YXJnZXQpXG4gICAgICAgIC5tYXAoKGspID0+IHtcbiAgICAgICAgcmV0dXJuIHR5cGVkVGFyZ2V0W2tdO1xuICAgIH0pXG4gICAgICAgIC8vIEtlZXAgbmFtZWQgaW5wdXQgYW5kIHNlbGVjdFxuICAgICAgICAuZmlsdGVyKCh2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhZyA9IHYudGFnTmFtZT8udG9Mb2NhbGVMb3dlckNhc2U/LigpO1xuICAgICAgICByZXR1cm4gdi5uYW1lICYmICh0YWcgPT0gJ2lucHV0JyB8fCB0YWcgPT0gJ3NlbGVjdCcpO1xuICAgIH0pXG4gICAgICAgIC5yZWR1Y2UoKGFjYywgY3VyKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbmFtZSwgdmFsdWUsIGNoZWNrZWQsIHR5cGUsIHJlcXVpcmVkIH0gPSBjdXI7XG4gICAgICAgIGNvbnN0IGlzQ2hlY2tib3ggPSB0eXBlID09ICdjaGVja2JveCc7XG4gICAgICAgIGNvbnN0IGlzVmFsRW1wdHkgPSB2YWx1ZSA9PSAnJyB8fCB2YWx1ZSA9PSBudWxsO1xuICAgICAgICBpZiAocmVxdWlyZWQgJiYgaXNWYWxFbXB0eSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgdXNlIGFuIGVtcHR5IHZhbHVlIGZvciAke25hbWV9YCk7XG4gICAgICAgIGxldCBmaW5hbFZhbHVlID0gdHlwZSA9PSAnbnVtYmVyJyA/IG5ldyBOdW1iZXIodmFsdWUpLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uYWNjLFxuICAgICAgICAgICAgW25hbWVdOiBpc0NoZWNrYm94ID8gY2hlY2tlZCA6IGZpbmFsVmFsdWUsXG4gICAgICAgIH07XG4gICAgfSwge30pO1xufTtcbmV4cG9ydHMuZ2V0Rm9ybURhdGEgPSBnZXRGb3JtRGF0YTtcbi8qKlxuICogRXh0cmFjdHMgYWxsIHRoZSBuZWNlc3NhcnkgZGF0YSBmcm9tIHRoZSBmb3JtIHRhcmdldFxuICpcbiAqIEBwYXJhbSB0YXJnZXQgVGFyZ2V0IHJlY2VpdmVkIGZyb20gdGhlIG9iamVjdCBldmVudFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgdGhhdCBpZGVudGlmaWVzIHRoZSBkYXRhXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBmb3JtRXh0cmFjdG9yIHdpdGggZm9ybSBpbnB1dHNcbiAqIGBgYGh0bWxcbiAqIDxkaXY+XG4gKiAgPGlucHV0IG5hbWU9XCJpZC0xXCIgLz5cbiAqICA8aW5wdXQgbmFtZT1cImFkZHJlc3MtMVwiIHZhbHVlPVwiMiBIYXJsZXkgc3RyZWV0XCIgLz5cbiAqIDwvZGl2PlxuICogLi4uXG4gKiA8ZGl2PlxuICogIDxpbnB1dCBuYW1lPVwiaWQtblwiIC8+XG4gKiAgPGlucHV0IG5hbWU9XCJhZGRyZXNzLW5cIiB2YWx1ZT1cIjM1IHJ1ZSBjaGFtcHMgw6lseXPDqWVzXCIgLz5cbiAqIDwvZGl2PlxuICogYGBgXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBmb3JtRXh0cmFjdG9yKHRhcmdldCwgW1wiaWRcIl0pO1xuICogLy8gW1xuICogLy8gIHtpZDogXCIxXCIsIGFkZHJlc3M6IFwiMiBIYXJsZXkgc3RyZWV0XCJ9LFxuICogLy8gIC4uLixcbiAqIC8vICB7aWQ6IFwiblwiLCBhZGRyZXNzOiBcIjM1IHJ1ZSBjaGFtcHMgw6lseXPDqWVzXCJ9XG4gKiAvLyBdXG4gKiBgYGBcbiAqXG4gKiBAcmV0dXJucyB7Rm9ybUV4dHJhY3RvckRhdGF9IEZvcm1FeHRyYWNvckRhdGFcbiAqL1xuY29uc3QgZm9ybUV4dHJhY3RvciA9ICh0YXJnZXQsIG5hbWUpID0+IHtcbiAgICAvLyBHZXQgYWxsIHRoZSBkYXRhIGZyb20gdGhlIGZvcm1cbiAgICBjb25zdCBmb3JtRGF0YSA9ICgwLCBleHBvcnRzLmdldEZvcm1EYXRhKSh0YXJnZXQpO1xuICAgIC8vIFNpbXBseSBjaGVjayBpZiB0aGVyZSBpcyBubyBpZCBmb3IgZWFjaCBmb3JtRGF0YVxuICAgIGlmIChmb3JtRGF0YVtuYW1lXSAhPSBudWxsKVxuICAgICAgICByZXR1cm4gW2Zvcm1EYXRhXTtcbiAgICAvLyBFYWNoIGZvcm1EYXRhIGlzIHNwZWNpZmljIHRvIGFuIGlkXG4gICAgY29uc3QgdmFsdWVzID0gT2JqZWN0LmVudHJpZXMoZm9ybURhdGEpO1xuICAgIHJldHVybiB2YWx1ZXMucmVkdWNlKChwcmV2LCBjdXJyKSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IGN1cnJbMF07XG4gICAgICAgIGNvbnN0IFthdHRyLCBpZF0gPSAoMCwgZXhwb3J0cy5zZXBlcmF0ZUFuZEtlZXBJZHMpKFtrZXldKVswXTtcbiAgICAgICAgY29uc3QgZWxlbSA9IHByZXYuZmluZCgoZWxlbSkgPT4gZWxlbVtuYW1lXSA9PSBpZCk7XG4gICAgICAgIGxldCBwYXJzZUlkID0gaWQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwYXJzZUlkID0gcGFyc2VJbnQoaWQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgaWYgKGVsZW0pXG4gICAgICAgICAgICBlbGVtW2F0dHJdID0gY3VyclsxXTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcHJldi5wdXNoKHsgW25hbWVdOiBwYXJzZUlkLCBbYXR0cl06IGN1cnJbMV0gfSk7XG4gICAgICAgIHJldHVybiBwcmV2O1xuICAgIH0sIFtdKTtcbn07XG5leHBvcnRzLmZvcm1FeHRyYWN0b3IgPSBmb3JtRXh0cmFjdG9yO1xuLyoqXG4gKiBSZWdyb3VwIHN0cmluZ3MgYmFzZWQgb24gdGhlaXIgaWRzIHJlcHJlc2VudGVkIGJ5IHRoZSBsYXN0IHNlcGVyYXRpb24gb2YgdGhlIHN0cmluZ1xuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogc2VwZXJhdGVBbmRLZWVwSWRzKFwiaGVsbG9Xb3JsZDVcIixcImhlbGxvLXdvcmxkNlwiLCBcImhlbGxvV29ybGQ3XCIsIFwiaGVsbG9Xb3JsZFwiKTtcbiAqIC8vIFtbXCJoZWxsb1dvcmxkXCIsIFwiNVwiXSwgW1wiaGVsbG8td29ybGRcIiwgXCI2XCJdLCBbXCJoZWxsb1dvcmxkXCIsIFwiN1wiXSwgW1wiaGVsbG9cIiwgXCJXb3JsZFwiXV1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdHJzIFRoZSBzdHJpbmcgYXJyYXkgdG8gc2VhcmNoIGZvciBpZHMgYW5kIHJlZ3JvdXAgYWxsIGF0dHJpYnV0ZXMgd2l0aCB0aGUgc2FtZSBpZHNcbiAqIEByZXR1cm5zIEFuZCBhcnJheSBvZiBhcnJheXMgZWFjaCBjb250YWluaW5nIHRoZSBwYXJzZWQgbmFtZSBhbmQgaWQgb2YgdGhlIHN0cmluZ1xuICovXG5jb25zdCBzZXBlcmF0ZUFuZEtlZXBJZHMgPSAoc3RycykgPT4ge1xuICAgIHJldHVybiAoMCwgZXhwb3J0cy5zZXBlcmF0ZSkoc3RycykubWFwKCh2KSA9PiB7XG4gICAgICAgIGNvbnN0IHNlcGVyYXRlZCA9IHZbMV07XG4gICAgICAgIGNvbnN0IGlkID0gc2VwZXJhdGVkW3NlcGVyYXRlZC5sZW5ndGggLSAxXTtcbiAgICAgICAgcmV0dXJuIFt2WzBdLnJlcGxhY2UobmV3IFJlZ0V4cChgKC18Xyk/JHtpZH0kYCksICcnKSwgaWRdO1xuICAgIH0pO1xufTtcbmV4cG9ydHMuc2VwZXJhdGVBbmRLZWVwSWRzID0gc2VwZXJhdGVBbmRLZWVwSWRzO1xuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHNlcGVyYXRlcyBzdHJpbmdzIGJhc2VkIG9uIHNwZWNpYWwgY2hhcmFjdGVycyAvIGNhc2VcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIHNlcGVyYXRlKFtcImhlbGxvLXdvcmxkXCIsIFwiaGVsbG9Xb3JsZDJcIiwgXCJoZWxsb193b3JsZF8yXCJdKVxuICogLy8gW1xuICogLy8gICBbXCJoZWxsby13b3JsZFwiLCBbXCJoZWxsb1wiLFwid29ybGRcIl1dLFxuICogLy8gICBbXCJoZWxsb1dvcmxkMlwiLCBbXCJoZWxsb1wiLFwid29ybGRcIiwgXCIyXCJdXSxcbiAqIC8vICAgW1wiaGVsbG9fd29ybGRfMlwiLCBbXCJoZWxsb1wiLCBcIndvcmxkXCIsIFwiMlwiXV1cbiAqIC8vIF1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdHJzIFRoZSBzdHJpbmcgYXJyYXkgdG8gdHJ5IHNlcGVyYXRlXG4gKiBAcmV0dXJucyBBbiBhcnJheSBvZiBhcnJheXMgd2l0aCB0aGUgaW5wdXQgLyBvdXRwdXQgc3RyaW5nc1xuICovXG5jb25zdCBzZXBlcmF0ZSA9IChzdHJzKSA9PiB7XG4gICAgcmV0dXJuIHN0cnMubWFwKChzdHIpID0+IHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHN0cixcbiAgICAgICAgICAgIHN0clxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oWzAtOV0rKS8sICcgJDEnKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oLXxfKS9nLCAnICcpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhbQS1aXSkvZywgJyAkMScpXG4gICAgICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgICAgICAgIC50b0xvY2FsZUxvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgLnNwbGl0KCcgJylcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChzKSA9PiBzICE9ICcnKSxcbiAgICAgICAgXTtcbiAgICB9KTtcbn07XG5leHBvcnRzLnNlcGVyYXRlID0gc2VwZXJhdGU7XG5jb25zdCBnZXRQYXRoVGFpbCA9IChkYXRhLCB0eXBlLCBuYW1lLCBwYXRoVGFpbCkgPT4ge1xuICAgIGNvbnN0IGlkID0gZGF0YVtuYW1lXTtcbiAgICBpZiAodHlwZSA9PSAncGF0aCcgJiYgaWQgIT0gJycgJiYgaWQgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuICAgIHJldHVybiBwYXRoVGFpbDtcbn07XG5leHBvcnRzLmdldFBhdGhUYWlsID0gZ2V0UGF0aFRhaWw7XG5jb25zdCB1c2VGb3JjZVVwZGF0ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gKDAsIHJlYWN0XzEudXNlUmVkdWNlcikoKCkgPT4gKHt9KSwge30pWzFdO1xufTtcbmV4cG9ydHMudXNlRm9yY2VVcGRhdGUgPSB1c2VGb3JjZVVwZGF0ZTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLy8gZG8gbm90IGVkaXQgLmpzIGZpbGVzIGRpcmVjdGx5IC0gZWRpdCBzcmMvaW5kZXguanN0XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChhICYmIGIgJiYgdHlwZW9mIGEgPT0gJ29iamVjdCcgJiYgdHlwZW9mIGIgPT0gJ29iamVjdCcpIHtcbiAgICBpZiAoYS5jb25zdHJ1Y3RvciAhPT0gYi5jb25zdHJ1Y3RvcikgcmV0dXJuIGZhbHNlO1xuXG4gICAgdmFyIGxlbmd0aCwgaSwga2V5cztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICAgIGlmICghZXF1YWwoYVtpXSwgYltpXSkpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuXG5cbiAgICBpZiAoYS5jb25zdHJ1Y3RvciA9PT0gUmVnRXhwKSByZXR1cm4gYS5zb3VyY2UgPT09IGIuc291cmNlICYmIGEuZmxhZ3MgPT09IGIuZmxhZ3M7XG4gICAgaWYgKGEudmFsdWVPZiAhPT0gT2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mKSByZXR1cm4gYS52YWx1ZU9mKCkgPT09IGIudmFsdWVPZigpO1xuICAgIGlmIChhLnRvU3RyaW5nICE9PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKSByZXR1cm4gYS50b1N0cmluZygpID09PSBiLnRvU3RyaW5nKCk7XG5cbiAgICBrZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYikubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBrZXlzW2ldKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKCFlcXVhbChhW2tleV0sIGJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIHRydWUgaWYgYm90aCBOYU4sIGZhbHNlIG90aGVyd2lzZVxuICByZXR1cm4gYSE9PWEgJiYgYiE9PWI7XG59O1xuIiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQgZGVmYXVsdCB7XCJidXR0b24tZGVmYXVsdFwiOlwiTjM0b2FEZ0h0SmxwdHF4VnY5UG5cIixcImJ1dHRvbi1zZWxlY3RlZFwiOlwiSmEwb3ZPX2gzZWFFc2Fib3FEQzdcIixcImJ1dHRvbi1wcmltYXJ5XCI6XCJLVGZ1TEU3TG5TR1JIREZQRDBFQVwiLFwiYnV0dG9uLXZhbGlkYXRlXCI6XCJqWTlNSUh5TzdUOFdfUU5wZngwa1wiLFwiYnV0dG9uLWludmVyc2VcIjpcIm00MHdibnVKaDY3WHhtWWN0SkxSXCIsXCJidXR0b24taWdub3JlXCI6XCJaZUlqaExWdncwSnFqdVI4a1lqVFwiLFwiYnV0dG9uLWludmFsaWRcIjpcIlplZGplRGtGem82SmNBR3h5WlBuXCIsXCJidXR0b24tdmFsaWRcIjpcIkprN2Y3NlhwUDdTTEQ5Mkx2bU0zXCIsXCJtYWluXCI6XCJTSUFweFF6UWxacDBMMWdOMF9RV1wifTsiLCIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC1qc3gtcnVudGltZS5wcm9kdWN0aW9uLm1pbi5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG4ndXNlIHN0cmljdCc7dmFyIGY9cmVxdWlyZShcInJlYWN0XCIpLGs9U3ltYm9sLmZvcihcInJlYWN0LmVsZW1lbnRcIiksbD1TeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIiksbT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LG49Zi5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRC5SZWFjdEN1cnJlbnRPd25lcixwPXtrZXk6ITAscmVmOiEwLF9fc2VsZjohMCxfX3NvdXJjZTohMH07XG5mdW5jdGlvbiBxKGMsYSxnKXt2YXIgYixkPXt9LGU9bnVsbCxoPW51bGw7dm9pZCAwIT09ZyYmKGU9XCJcIitnKTt2b2lkIDAhPT1hLmtleSYmKGU9XCJcIithLmtleSk7dm9pZCAwIT09YS5yZWYmJihoPWEucmVmKTtmb3IoYiBpbiBhKW0uY2FsbChhLGIpJiYhcC5oYXNPd25Qcm9wZXJ0eShiKSYmKGRbYl09YVtiXSk7aWYoYyYmYy5kZWZhdWx0UHJvcHMpZm9yKGIgaW4gYT1jLmRlZmF1bHRQcm9wcyxhKXZvaWQgMD09PWRbYl0mJihkW2JdPWFbYl0pO3JldHVybnskJHR5cGVvZjprLHR5cGU6YyxrZXk6ZSxyZWY6aCxwcm9wczpkLF9vd25lcjpuLmN1cnJlbnR9fWV4cG9ydHMuRnJhZ21lbnQ9bDtleHBvcnRzLmpzeD1xO2V4cG9ydHMuanN4cz1xO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWpzeC1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWpzeC1ydW50aW1lLmRldmVsb3BtZW50LmpzJyk7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzE1Nl9fOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3Nik7XG4iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xNTZfXyIsIl9faW1wb3J0RGVmYXVsdCIsInRoaXMiLCJtb2QiLCJfX2VzTW9kdWxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImpzeF9ydW50aW1lXzEiLCJhcGlfMSIsImxvZ18xIiwidXRpbF8xIiwiRXJyb3JCb3VuZGFyeV8xIiwiUXVlcnlfMSIsIlF1ZXJ5T3B0aW9uc1Byb3ZpZGVyXzEiLCJmYXN0X2RlZXBfZXF1YWxfMSIsInJlYWN0XzEiLCJjaGlsZHJlbiIsImVuZFBvaW50cyIsIm9uQ3JlYXRlZCIsIm9uUmVhZCIsIm9uVXBkYXRlZCIsIm9uRGVsZXRlZCIsImRlbGF5IiwidHlwZSIsImNyZWF0ZUVuZHBvaW50IiwicmVhZEVuZHBvaW50IiwidXBkYXRlRW5kcG9pbnQiLCJkZWxldGVFbmRwb2ludCIsIkFycmF5IiwiZmlsbCIsImNyZWF0ZSIsInJlYWQiLCJ1cGRhdGUiLCJkZWxldGUiLCJwYXJhbWV0ZXJUeXBlIiwiZG9tYWluIiwicmVxdWVzdE1pZGRsZXdhcmUiLCJtb2RlIiwidmVyYm9zaXR5IiwiaWROYW1lIiwidXNlUXVlcnlPcHRpb25zIiwidXNlRWZmZWN0IiwicmVxdWVzdExvZyIsImpzeCIsImRlZmF1bHQiLCJxdWVyeSIsImRhdGEiLCJsb2FkaW5nIiwiZXJyb3IiLCJtYW51YWxVcGRhdGUiLCJxdWVyeVJlZnJlc2giLCJGcmFnbWVudCIsImhhbmRsZUNyZWF0ZSIsImUiLCJwYXJhbXMiLCJtZXRob2QiLCJwcmV2ZW50RGVmYXVsdCIsInBhdGhUYWlsIiwiZm9ybURhdGEiLCJnZXRGb3JtRGF0YSIsInRhcmdldCIsImVuZHBvaW50IiwicmVxdWVzdCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaGVhZGVycyIsInRoZW4iLCJjcmVhdGVkIiwiY2F0Y2giLCJjb25zb2xlIiwiaGFuZGxlVXBkYXRlIiwibmFtZSIsImZvcm1EYXRhcyIsImZvcm1FeHRyYWN0b3IiLCJuZXdEYXRhIiwicHJvbWlzZXMiLCJmb3JFYWNoIiwidGFpbCIsImdldFBhdGhUYWlsIiwiaGFzQ2hhbmdlZCIsImluZGV4IiwiZmluZEluZGV4IiwidmFsIiwidW5kZWZpbmVkIiwibWVyZ2VkRGF0YSIsInB1c2giLCJQcm9taXNlIiwiYWxsIiwiaGFuZGxlRGVsZXRlIiwic3RvcFByb3BhZ2F0aW9uIiwiaWQiLCJ0b1N0cmluZyIsInR5cGVkRGF0YSIsIm5ld0FyciIsInNsaWNlIiwibGVuZ3RoIiwiaW5kZXhfbW9kdWxlX3Njc3NfMSIsIkVycm9yQm91bmRhcnkiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInN1cGVyIiwiYXJndW1lbnRzIiwic3RhdGUiLCJoYXNFcnJvciIsImluZm8iLCJjb21wb25lbnREaWRDYXRjaCIsInNldFN0YXRlIiwicmVuZGVyIiwicHJvcHMiLCJqc3hzIiwiY2xhc3NOYW1lIiwibWFpbiIsIm1lc3NhZ2UiLCJjb21wb25lbnRTdGFjayIsImRhdGFMb2FkRXJyIiwic2V0RGF0YUxvYWRFcnIiLCJ1c2VTdGF0ZSIsInVzZVJlcXVlc3QiLCJjb250cm9sbGVyIiwic2V0Q29udHJvbGxlciIsInJlZnJlc2giLCJzZXRSZWZyZXNoIiwidXNlQ2FsbGJhY2siLCJhYm9ydCIsImN0cmwiLCJBYm9ydENvbnRyb2xsZXIiLCJ0aW1lb3V0Iiwid2luZG93Iiwic2V0VGltZW91dCIsInNpZ25hbCIsInJlcyIsImVyciIsImNsZWFyVGltZW91dCIsIlF1ZXJ5T3B0aW9uc1Byb3ZpZGVyIiwicXVlcnlPcHRpb25zQ29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJjdHgiLCJ1c2VDb250ZXh0IiwiRXJyb3IiLCJxTW9kZSIsInFSZXF1ZXN0TWlkZGxld2FyZSIsInBhdGgiLCJvcHRpb25zIiwiUHJvdmlkZXIiLCJRdWVyeSIsIkNSVUQiLCJDUlVEXzEiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicmVxIiwiZmV0Y2giLCJvayIsInRleHQiLCJ0IiwicGFyc2UiLCJxdWVyeVdhcm4iLCJyZWplY3QiLCJfIiwicmVqIiwicXVlcnlFcnJvciIsInVybCIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJwYXJhbVZlcmJvc2l0eSIsImxpbWl0VmVyYm9zaXR5IiwicyIsImxvZyIsIndhcm4iLCJ1c2VGb3JjZVVwZGF0ZSIsInNlcGVyYXRlIiwic2VwZXJhdGVBbmRLZWVwSWRzIiwidHlwZWRUYXJnZXQiLCJrZXlzIiwibWFwIiwiayIsImZpbHRlciIsInYiLCJ0YWciLCJ0YWdOYW1lIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJyZWR1Y2UiLCJhY2MiLCJjdXIiLCJjaGVja2VkIiwicmVxdWlyZWQiLCJpc0NoZWNrYm94IiwiZmluYWxWYWx1ZSIsIk51bWJlciIsInZhbHVlT2YiLCJlbnRyaWVzIiwicHJldiIsImN1cnIiLCJrZXkiLCJhdHRyIiwiZWxlbSIsImZpbmQiLCJwYXJzZUlkIiwicGFyc2VJbnQiLCJzdHJzIiwic2VwZXJhdGVkIiwicmVwbGFjZSIsIlJlZ0V4cCIsInN0ciIsInRyaW0iLCJzcGxpdCIsInVzZVJlZHVjZXIiLCJlcXVhbCIsImEiLCJiIiwiaSIsImlzQXJyYXkiLCJzb3VyY2UiLCJmbGFncyIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImYiLCJTeW1ib2wiLCJmb3IiLCJsIiwibSIsIm4iLCJfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCIsIlJlYWN0Q3VycmVudE93bmVyIiwicCIsInJlZiIsIl9fc2VsZiIsIl9fc291cmNlIiwicSIsImMiLCJnIiwiZCIsImgiLCJkZWZhdWx0UHJvcHMiLCIkJHR5cGVvZiIsIl9vd25lciIsImN1cnJlbnQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZGVmaW5pdGlvbiIsIm8iLCJvYmoiLCJwcm9wIiwiciIsInRvU3RyaW5nVGFnIl0sInNvdXJjZVJvb3QiOiIifQ==