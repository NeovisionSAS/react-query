/*! For license information please see module.js.LICENSE.txt */
!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("react")):"function"==typeof define&&define.amd?define(["react"],r):"object"==typeof exports?exports["react-query"]=r(require("react")):e["react-query"]=r(e.react)}(self,(e=>(()=>{"use strict";var r={63:e=>{e.exports=function e(r,t){if(r===t)return!0;if(r&&t&&"object"==typeof r&&"object"==typeof t){if(r.constructor!==t.constructor)return!1;var o,n,a;if(Array.isArray(r)){if((o=r.length)!=t.length)return!1;for(n=o;0!=n--;)if(!e(r[n],t[n]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if((o=(a=Object.keys(r)).length)!==Object.keys(t).length)return!1;for(n=o;0!=n--;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;for(n=o;0!=n--;){var s=a[n];if(!e(r[s],t[s]))return!1}return!0}return r!=r&&t!=t}},251:(e,r,t)=>{var o=t(156),n=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function i(e,r,t){var o,i={},u=null,c=null;for(o in void 0!==t&&(u=""+t),void 0!==r.key&&(u=""+r.key),void 0!==r.ref&&(c=r.ref),r)a.call(r,o)&&!d.hasOwnProperty(o)&&(i[o]=r[o]);if(e&&e.defaultProps)for(o in r=e.defaultProps)void 0===i[o]&&(i[o]=r[o]);return{$$typeof:n,type:e,key:u,ref:c,props:i,_owner:s.current}}r.jsx=i,r.jsxs=i},893:(e,r,t)=>{e.exports=t(251)},156:r=>{r.exports=e}},t={};function o(e){var n=t[e];if(void 0!==n)return n.exports;var a=t[e]={exports:{}};return r[e](a,a.exports,o),a.exports}o.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return o.d(r,{a:r}),r},o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{o.r(n),o.d(n,{CRUD:()=>O,Query:()=>b,QueryOptionsProvider:()=>g,request:()=>s,useQuery:()=>v,useQueryOptions:()=>m,useRequest:()=>y});var e=o(893);const r=(e,r,t,...o)=>{"development"==e&&t<=r&&console.log("[react-query]",...o)},t=(e,r,t,...o)=>{"development"==e&&t<=r&&console.warn("[react-query]",...o)},a=(...e)=>{console.error("[react-query]",...e)},s=function(e,r,o={method:"GET"}){const{body:n,method:s="GET",headers:d,mode:i="production",signal:u,onRejected:c}=o,l=o=>fetch(`${e}/${r}`,{headers:o,method:s,body:n,signal:u}).then((e=>e.ok?e.text().then((r=>{try{if(e.headers.get("Content-Type")?.includes("application/json"))return JSON.parse(r)}catch(r){t(i,0,0,"Could not parse response to json",e)}return r})):(a(`${e.url} ${e.status} ${e.statusText}`),c?.(e),Promise.reject(e.statusText)))).catch((e=>{if("AbortError"!=e.name)throw a(`${e.url} ${e.status} ${e.statusText}`),c?.(e),new Error(`${e.status} ${e.statusText}`);t(i,0,0,e.message)}));return d?d().then(l):l({})};var d=o(156),i=o.n(d);const u=e=>{const r=e;return Object.keys(e).map((e=>r[e])).filter((e=>{const r=e.tagName?.toLocaleLowerCase?.();return e.name&&("input"==r||"select"==r)})).reduce(((e,r)=>{const{name:t,value:o,checked:n,type:a,required:s}=r,d="checkbox"==a;if(s&&(""==o||null==o))throw new Error(`Can't use an empty value for ${t}`);let i="number"==a?new Number(o).valueOf():o;return{...e,[t]:d?n:i}}),{})},c=e=>e.map((e=>[e,e.replace(/([0-9]+)/," $1").replace(/(-|_)/g," ").replace(/([A-Z])/g," $1").trim().toLocaleLowerCase().split(" ").filter((e=>""!=e))])),l=(e,r,t,o)=>{const n=e[t];return"path"==r&&""!=n&&null!=n?n:o??""};class p extends i().Component{state={hasError:!1,error:{e:void 0,info:void 0}};componentDidCatch=(e,r)=>{console.error(e),this.setState({hasError:!0,error:{e,info:r}})};render(){const{children:r}=this.props,{hasError:t,error:o}=this.state;return t?(0,e.jsxs)("div",{className:"SIApxQzQlZp0L1gN0_QW",children:[(0,e.jsx)("div",{children:o?.e?.message}),(0,e.jsx)("hr",{}),(0,e.jsx)("div",{children:o?.info?.componentStack})]}):(0,e.jsx)(i().Fragment,{children:r})}}const f=p,h=(0,d.createContext)({domain:"",parameterType:"path",mode:"production",verbosity:1,idName:"id"}),m=()=>{const e=(0,d.useContext)(h);if(!e)throw new Error("No context for 'useQueryOptions'");return e.idName||(e.idName="id"),e},y=({body:e,headers:r,method:t="GET",mode:o,onRejected:n,signal:a}={method:"GET"})=>{const{domain:d,mode:i=o,requestMiddleware:u=r,onRejected:c=n}=m();return function(r,o={method:"GET"}){const{headers:n=u,body:l=e,method:p=t,mode:f=i,signal:h=a,onRejected:m=c}=o;return s(d,r,{body:l,headers:n,method:p,mode:f,signal:h,onRejected:m})}},g=h.Provider,v=({query:e,delay:r,onRead:t,requestOptions:o={},useConfig:n=!0})=>{const[a,i]=(0,d.useState)({data:void 0,loading:!0,error:void 0}),{domain:u="",...c}=o;let l;l=n?y(m()):(e,r)=>s(u,e,r);const[p,f]=(0,d.useState)(),[h,g]=(0,d.useState)(!1),v=(0,d.useCallback)((e=>i({data:e,loading:!1,error:void 0})),[]);return(0,d.useEffect)((()=>{p?.abort();const o=new AbortController,n=window.setTimeout((()=>{const{signal:r,...n}=c;l(e,{signal:r??o.signal,...n}).then((e=>{i({data:e,loading:!1,error:void 0}),t?.(e)})).catch((e=>{i({data:void 0,loading:!1,error:e.toString()})}))}),r??0);return f(o),i({data:void 0,loading:!0,error:void 0}),()=>{o?.abort(),window.clearTimeout(n)}}),[e,h]),{data:a.data,loading:a.loading,error:a.error,manualUpdate:v,forceRefresh:()=>g(!h)}},b=({children:r,query:t,delay:o,onRead:n,requestOptions:a,useConfig:s=!0})=>{const{data:d,loading:i,error:u,forceRefresh:c,manualUpdate:l}=v({query:t,delay:o,onRead:n,requestOptions:a,useConfig:s});return(0,e.jsx)(f,{children:r({data:d,loading:i,error:u,manualUpdate:l,forceRefresh:c})})};var $=o(63),x=o.n($);const O=({children:t,endPoints:o,onCreated:n,onRead:a,onUpdated:i,onDeleted:p,delay:h,type:y="array"})=>{const[g,v,$,O]="string"==typeof o?new Array(4).fill(o):[o.create,o.read,o.update,o.delete],{parameterType:j,domain:E,requestMiddleware:S,mode:T,verbosity:w,idName:R}=m();return(0,d.useEffect)((()=>{r(T,w,5,"[endpoints]",`[C]${g}`,`[R]${v}`,`[U]${$}`,`[D]${O}`)}),[g,v,$,O]),(0,e.jsx)(f,{children:(0,e.jsx)(b,{query:`${v}`,delay:h,onRead:a,children:({data:o,loading:a,error:f,manualUpdate:h,forceRefresh:m})=>(0,e.jsx)(d.Fragment,{children:t({handleCreate:(e,t={method:"POST"})=>{e.preventDefault();const{method:a="POST",pathTail:d}=t,i=u(e.target),c=`${g}/${d?`${d}/`:""}`;return r(T,w,1,`[create][${a}]`,`${E}/${c}`,i),s(E,c,{body:JSON.stringify(i),method:a,headers:S,mode:T}).then((e=>{h?.([...o,e]),n?.()&&m?.()})).catch((()=>{console.error("Erreur de création","Une erreur est survenu lors de la création dans la base de données")}))},read:{data:o,loading:a,error:f},handleUpdate:(e,t={method:"PUT",name:R})=>{e.preventDefault();const{method:n="PUT",pathTail:a,name:d=R}=t,p=((e,r)=>{const t=u(e);return null!=t[r]?[t]:Object.entries(t).reduce(((e,t)=>{const o=t[0],[n,a]=(d=[o],c(d).map((e=>{const r=e[1],t=r[r.length-1];return[e[0].replace(new RegExp(`(-|_)?${t}$`),""),t]})))[0],s=e.find((e=>e[r]==a));var d;let i=a;try{i=parseInt(a)}catch(e){}return s?s[n]=t[1]:e.push({[r]:i,[n]:t[1]}),e}),[])})(e.target,d);let f;f="array"==y?[...o]:o;const g=[];return p.forEach((e=>{const t=l(e,j,d,a),i=`${$}/${t?`${t}/`:""}`;let u=!1;if("array"==y){const r=f.findIndex((e=>e[d]==t));if(null!=r){const t={...f[r],...e};u=!x()(f[r],t),f[r]=t}else f.push(e)}else u=!x()(f,o),f={...f,...e};u&&(r(T,w,1,`[update][${n}]`,`${E}/${i}`,e),g.push(s(E,i,{body:JSON.stringify(e),method:n,headers:S,mode:T})))})),Promise.all(g).then((()=>{h?.(f),i?.()&&m?.()}))},handleDelete:(e,t={method:"DELETE",name:R})=>{e?.preventDefault(),e?.stopPropagation();const{method:n="DELETE",pathTail:a,name:d=R,id:i}=t,c=l({[d]:i?.toString()??""},j,d,a),f=`${O}/${c?`${c}/`:""}`;return r(T,w,1,`[delete][${n}]`,`${E}/${f}`),s(E,f,{method:n,headers:S,mode:T,body:"path"==j?"":JSON.stringify(u(e.target))}).then((()=>{if("array"==y){const e=o.findIndex((e=>e[d]==i)),t=o;r(T,w,3,`Removing index ${e}`);const n=[...t.slice(0,e),...t.slice(e+1,t.length)];r(T,w,4,"Array updated",n),h?.(n)}else h?.(o);p?.()&&m?.()}))}},m)})})})}})(),n})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFXQyxFQUFNb0YsRUFBVyxFQUFJLGdCQUFnQjRGLEdBQ2hENUQsSUFBZTRELFFBR2Y1RCxJQUFlcEQsR0FFbkJvRSxPQUFpQkwsV0FHMUJBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vbm9kZV9tb2R1bGVzL2Zhc3QtZGVlcC1lcXVhbC9pbmRleC5qcyIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL25vZGVfbW9kdWxlcy9yZWFjdC9janMvcmVhY3QtanN4LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9ub2RlX21vZHVsZXMvcmVhY3QvanN4LXJ1bnRpbWUuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvZXh0ZXJuYWwgdW1kIFwicmVhY3RcIiIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL3V0aWxzL2xvZy50cyIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL3NyYy91dGlscy9hcGkudHMiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvdXRpbHMvdXRpbC50cyIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL3NyYy9jb21wb25lbnRzL3V0aWxzL0Vycm9yQm91bmRhcnkvaW5kZXgudHN4Iiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL2NvbXBvbmVudHMvdXRpbHMvRXJyb3JCb3VuZGFyeS9pbmRleC5tb2R1bGUuc2Nzcz82OTk5Iiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL2NvbXBvbmVudHMvdXRpbHMvUXVlcnlPcHRpb25zUHJvdmlkZXIvaW5kZXgudHN4Iiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL2NvbXBvbmVudHMvdXRpbHMvUXVlcnkvaW5kZXgudHN4Iiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL2NvbXBvbmVudHMvdXRpbHMvQ1JVRC9pbmRleC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wicmVhY3RcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wicmVhY3QtcXVlcnlcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wicmVhY3QtcXVlcnlcIl0gPSBmYWN0b3J5KHJvb3RbXCJyZWFjdFwiXSk7XG59KShzZWxmLCAoX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMTU2X18pID0+IHtcbnJldHVybiAiLCIndXNlIHN0cmljdCc7XG5cbi8vIGRvIG5vdCBlZGl0IC5qcyBmaWxlcyBkaXJlY3RseSAtIGVkaXQgc3JjL2luZGV4LmpzdFxuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlcXVhbChhLCBiKSB7XG4gIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTtcblxuICBpZiAoYSAmJiBiICYmIHR5cGVvZiBhID09ICdvYmplY3QnICYmIHR5cGVvZiBiID09ICdvYmplY3QnKSB7XG4gICAgaWYgKGEuY29uc3RydWN0b3IgIT09IGIuY29uc3RydWN0b3IpIHJldHVybiBmYWxzZTtcblxuICAgIHZhciBsZW5ndGgsIGksIGtleXM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICAgIGxlbmd0aCA9IGEubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCAhPSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KVxuICAgICAgICBpZiAoIWVxdWFsKGFbaV0sIGJbaV0pKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cblxuXG4gICAgaWYgKGEuY29uc3RydWN0b3IgPT09IFJlZ0V4cCkgcmV0dXJuIGEuc291cmNlID09PSBiLnNvdXJjZSAmJiBhLmZsYWdzID09PSBiLmZsYWdzO1xuICAgIGlmIChhLnZhbHVlT2YgIT09IE9iamVjdC5wcm90b3R5cGUudmFsdWVPZikgcmV0dXJuIGEudmFsdWVPZigpID09PSBiLnZhbHVlT2YoKTtcbiAgICBpZiAoYS50b1N0cmluZyAhPT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZykgcmV0dXJuIGEudG9TdHJpbmcoKSA9PT0gYi50b1N0cmluZygpO1xuXG4gICAga2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIGlmIChsZW5ndGggIT09IE9iamVjdC5rZXlzKGIpLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KVxuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwga2V5c1tpXSkpIHJldHVybiBmYWxzZTtcblxuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cbiAgICAgIGlmICghZXF1YWwoYVtrZXldLCBiW2tleV0pKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyB0cnVlIGlmIGJvdGggTmFOLCBmYWxzZSBvdGhlcndpc2VcbiAgcmV0dXJuIGEhPT1hICYmIGIhPT1iO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbid1c2Ugc3RyaWN0Jzt2YXIgZj1yZXF1aXJlKFwicmVhY3RcIiksaz1TeW1ib2wuZm9yKFwicmVhY3QuZWxlbWVudFwiKSxsPVN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSxtPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksbj1mLl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVELlJlYWN0Q3VycmVudE93bmVyLHA9e2tleTohMCxyZWY6ITAsX19zZWxmOiEwLF9fc291cmNlOiEwfTtcbmZ1bmN0aW9uIHEoYyxhLGcpe3ZhciBiLGQ9e30sZT1udWxsLGg9bnVsbDt2b2lkIDAhPT1nJiYoZT1cIlwiK2cpO3ZvaWQgMCE9PWEua2V5JiYoZT1cIlwiK2Eua2V5KTt2b2lkIDAhPT1hLnJlZiYmKGg9YS5yZWYpO2ZvcihiIGluIGEpbS5jYWxsKGEsYikmJiFwLmhhc093blByb3BlcnR5KGIpJiYoZFtiXT1hW2JdKTtpZihjJiZjLmRlZmF1bHRQcm9wcylmb3IoYiBpbiBhPWMuZGVmYXVsdFByb3BzLGEpdm9pZCAwPT09ZFtiXSYmKGRbYl09YVtiXSk7cmV0dXJueyQkdHlwZW9mOmssdHlwZTpjLGtleTplLHJlZjpoLHByb3BzOmQsX293bmVyOm4uY3VycmVudH19ZXhwb3J0cy5GcmFnbWVudD1sO2V4cG9ydHMuanN4PXE7ZXhwb3J0cy5qc3hzPXE7XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMTU2X187IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImV4cG9ydCBjb25zdCByZXF1ZXN0TG9nID0gKG1vZGUsIHBhcmFtVmVyYm9zaXR5LCBsaW1pdFZlcmJvc2l0eSwgLi4ucykgPT4ge1xuICAgIGlmIChtb2RlID09ICdkZXZlbG9wbWVudCcgJiYgbGltaXRWZXJib3NpdHkgPD0gcGFyYW1WZXJib3NpdHkpXG4gICAgICAgIGNvbnNvbGUubG9nKGBbcmVhY3QtcXVlcnldYCwgLi4ucyk7XG59O1xuZXhwb3J0IGNvbnN0IHF1ZXJ5V2FybiA9IChtb2RlLCBwYXJhbVZlcmJvc2l0eSwgbGltaXRWZXJib3NpdHksIC4uLnMpID0+IHtcbiAgICBpZiAobW9kZSA9PSAnZGV2ZWxvcG1lbnQnICYmIGxpbWl0VmVyYm9zaXR5IDw9IHBhcmFtVmVyYm9zaXR5KVxuICAgICAgICBjb25zb2xlLndhcm4oYFtyZWFjdC1xdWVyeV1gLCAuLi5zKTtcbn07XG5leHBvcnQgY29uc3QgcXVlcnlFcnJvciA9ICguLi5zKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihgW3JlYWN0LXF1ZXJ5XWAsIC4uLnMpO1xufTtcbiIsImltcG9ydCB7IHF1ZXJ5RXJyb3IsIHF1ZXJ5V2FybiwgcXVlcnlXYXJuIGFzIHJlcXVlc3RXYXJuIH0gZnJvbSAnLi9sb2cnO1xuZXhwb3J0IGNvbnN0IHJlcXVlc3QgPSBmdW5jdGlvbiAoZG9tYWluLCBwYXRoLCBvcHRpb25zID0geyBtZXRob2Q6ICdHRVQnIH0pIHtcbiAgICBjb25zdCB7IGJvZHksIG1ldGhvZCA9ICdHRVQnLCBoZWFkZXJzLCBtb2RlID0gJ3Byb2R1Y3Rpb24nLCBzaWduYWwsIG9uUmVqZWN0ZWQsIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHJlcSA9IChoZWFkZXJzKSA9PiB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHtkb21haW59LyR7cGF0aH1gLCB7XG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIHNpZ25hbCxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgcXVlcnlFcnJvcihgJHtyZXMudXJsfSAke3Jlcy5zdGF0dXN9ICR7cmVzLnN0YXR1c1RleHR9YCk7XG4gICAgICAgICAgICAgICAgb25SZWplY3RlZD8uKHJlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXMudGV4dCgpLnRoZW4oKHQpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmhlYWRlcnMuZ2V0KCdDb250ZW50LVR5cGUnKT8uaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0V2Fybihtb2RlLCAwLCAwLCBgQ291bGQgbm90IHBhcnNlIHJlc3BvbnNlIHRvIGpzb25gLCByZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIubmFtZSA9PSAnQWJvcnRFcnJvcicpXG4gICAgICAgICAgICAgICAgcXVlcnlXYXJuKG1vZGUsIDAsIDAsIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHF1ZXJ5RXJyb3IoYCR7ZXJyLnVybH0gJHtlcnIuc3RhdHVzfSAke2Vyci5zdGF0dXNUZXh0fWApO1xuICAgICAgICAgICAgICAgIG9uUmVqZWN0ZWQ/LihlcnIpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtlcnIuc3RhdHVzfSAke2Vyci5zdGF0dXNUZXh0fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBoZWFkZXJzID8gaGVhZGVycygpLnRoZW4ocmVxKSA6IHJlcSh7fSk7XG59O1xuIiwiaW1wb3J0IHsgdXNlUmVkdWNlciB9IGZyb20gXCJyZWFjdFwiO1xuLyoqXG4gKiBnZXRGb3JtRGF0YSBleHRyYWN0cyB0aGUgdmFsdWVzIG9mIHRoZSBpbnB1dCBlbGVtZW50c1xuICogcmVjZWl2ZWQgZnJvbSB0aGUgdGFyZ2V0IG9iamVjdFxuICogQHBhcmFtIHRhcmdldCBUYXJnZXQgcmVjZWl2ZWQgZnJvbSB0aGUgb2JqZWN0IGV2ZW50XG4gKiBAcmV0dXJucyBBbiBvYmplY3Qgb2YgdHlwZSBUIGJ5IGRlZmF1bHQgd2l0aCBrZXkgdmFsdWUgcGFpcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldEZvcm1EYXRhID0gKHRhcmdldCkgPT4ge1xuICAgIGNvbnN0IHR5cGVkVGFyZ2V0ID0gdGFyZ2V0O1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0YXJnZXQpXG4gICAgICAgIC5tYXAoKGspID0+IHtcbiAgICAgICAgcmV0dXJuIHR5cGVkVGFyZ2V0W2tdO1xuICAgIH0pXG4gICAgICAgIC8vIEtlZXAgbmFtZWQgaW5wdXQgYW5kIHNlbGVjdFxuICAgICAgICAuZmlsdGVyKCh2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhZyA9IHYudGFnTmFtZT8udG9Mb2NhbGVMb3dlckNhc2U/LigpO1xuICAgICAgICByZXR1cm4gdi5uYW1lICYmICh0YWcgPT0gXCJpbnB1dFwiIHx8IHRhZyA9PSBcInNlbGVjdFwiKTtcbiAgICB9KVxuICAgICAgICAucmVkdWNlKChhY2MsIGN1cikgPT4ge1xuICAgICAgICBjb25zdCB7IG5hbWUsIHZhbHVlLCBjaGVja2VkLCB0eXBlLCByZXF1aXJlZCB9ID0gY3VyO1xuICAgICAgICBjb25zdCBpc0NoZWNrYm94ID0gdHlwZSA9PSBcImNoZWNrYm94XCI7XG4gICAgICAgIGNvbnN0IGlzVmFsRW1wdHkgPSB2YWx1ZSA9PSBcIlwiIHx8IHZhbHVlID09IG51bGw7XG4gICAgICAgIGlmIChyZXF1aXJlZCAmJiBpc1ZhbEVtcHR5KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCB1c2UgYW4gZW1wdHkgdmFsdWUgZm9yICR7bmFtZX1gKTtcbiAgICAgICAgbGV0IGZpbmFsVmFsdWUgPSB0eXBlID09IFwibnVtYmVyXCIgPyBuZXcgTnVtYmVyKHZhbHVlKS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmFjYyxcbiAgICAgICAgICAgIFtuYW1lXTogaXNDaGVja2JveCA/IGNoZWNrZWQgOiBmaW5hbFZhbHVlXG4gICAgICAgIH07XG4gICAgfSwge30pO1xufTtcbi8qKlxuICogRXh0cmFjdHMgYWxsIHRoZSBuZWNlc3NhcnkgZGF0YSBmcm9tIHRoZSBmb3JtIHRhcmdldFxuICpcbiAqIEBwYXJhbSB0YXJnZXQgVGFyZ2V0IHJlY2VpdmVkIGZyb20gdGhlIG9iamVjdCBldmVudFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgdGhhdCBpZGVudGlmaWVzIHRoZSBkYXRhXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBmb3JtRXh0cmFjdG9yIHdpdGggZm9ybSBpbnB1dHNcbiAqIGBgYGh0bWxcbiAqIDxkaXY+XG4gKiAgPGlucHV0IG5hbWU9XCJpZC0xXCIgLz5cbiAqICA8aW5wdXQgbmFtZT1cImFkZHJlc3MtMVwiIHZhbHVlPVwiMiBIYXJsZXkgc3RyZWV0XCIgLz5cbiAqIDwvZGl2PlxuICogLi4uXG4gKiA8ZGl2PlxuICogIDxpbnB1dCBuYW1lPVwiaWQtblwiIC8+XG4gKiAgPGlucHV0IG5hbWU9XCJhZGRyZXNzLW5cIiB2YWx1ZT1cIjM1IHJ1ZSBjaGFtcHMgw6lseXPDqWVzXCIgLz5cbiAqIDwvZGl2PlxuICogYGBgXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBmb3JtRXh0cmFjdG9yKHRhcmdldCwgW1wiaWRcIl0pO1xuICogLy8gW1xuICogLy8gIHtpZDogXCIxXCIsIGFkZHJlc3M6IFwiMiBIYXJsZXkgc3RyZWV0XCJ9LFxuICogLy8gIC4uLixcbiAqIC8vICB7aWQ6IFwiblwiLCBhZGRyZXNzOiBcIjM1IHJ1ZSBjaGFtcHMgw6lseXPDqWVzXCJ9XG4gKiAvLyBdXG4gKiBgYGBcbiAqXG4gKiBAcmV0dXJucyB7Rm9ybUV4dHJhY3RvckRhdGF9IEZvcm1FeHRyYWNvckRhdGFcbiAqL1xuZXhwb3J0IGNvbnN0IGZvcm1FeHRyYWN0b3IgPSAodGFyZ2V0LCBuYW1lKSA9PiB7XG4gICAgLy8gR2V0IGFsbCB0aGUgZGF0YSBmcm9tIHRoZSBmb3JtXG4gICAgY29uc3QgZm9ybURhdGEgPSBnZXRGb3JtRGF0YSh0YXJnZXQpO1xuICAgIC8vIFNpbXBseSBjaGVjayBpZiB0aGVyZSBpcyBubyBpZCBmb3IgZWFjaCBmb3JtRGF0YVxuICAgIGlmIChmb3JtRGF0YVtuYW1lXSAhPSBudWxsKVxuICAgICAgICByZXR1cm4gW2Zvcm1EYXRhXTtcbiAgICAvLyBFYWNoIGZvcm1EYXRhIGlzIHNwZWNpZmljIHRvIGFuIGlkXG4gICAgY29uc3QgdmFsdWVzID0gT2JqZWN0LmVudHJpZXMoZm9ybURhdGEpO1xuICAgIHJldHVybiB2YWx1ZXMucmVkdWNlKChwcmV2LCBjdXJyKSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IGN1cnJbMF07XG4gICAgICAgIGNvbnN0IFthdHRyLCBpZF0gPSBzZXBlcmF0ZUFuZEtlZXBJZHMoW2tleV0pWzBdO1xuICAgICAgICBjb25zdCBlbGVtID0gcHJldi5maW5kKChlbGVtKSA9PiBlbGVtW25hbWVdID09IGlkKTtcbiAgICAgICAgbGV0IHBhcnNlSWQgPSBpZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBhcnNlSWQgPSBwYXJzZUludChpZCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICBpZiAoZWxlbSlcbiAgICAgICAgICAgIGVsZW1bYXR0cl0gPSBjdXJyWzFdO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBwcmV2LnB1c2goeyBbbmFtZV06IHBhcnNlSWQsIFthdHRyXTogY3VyclsxXSB9KTtcbiAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgfSwgW10pO1xufTtcbi8qKlxuICogUmVncm91cCBzdHJpbmdzIGJhc2VkIG9uIHRoZWlyIGlkcyByZXByZXNlbnRlZCBieSB0aGUgbGFzdCBzZXBlcmF0aW9uIG9mIHRoZSBzdHJpbmdcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIHNlcGVyYXRlQW5kS2VlcElkcyhcImhlbGxvV29ybGQ1XCIsXCJoZWxsby13b3JsZDZcIiwgXCJoZWxsb1dvcmxkN1wiLCBcImhlbGxvV29ybGRcIik7XG4gKiAvLyBbW1wiaGVsbG9Xb3JsZFwiLCBcIjVcIl0sIFtcImhlbGxvLXdvcmxkXCIsIFwiNlwiXSwgW1wiaGVsbG9Xb3JsZFwiLCBcIjdcIl0sIFtcImhlbGxvXCIsIFwiV29ybGRcIl1dXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3RycyBUaGUgc3RyaW5nIGFycmF5IHRvIHNlYXJjaCBmb3IgaWRzIGFuZCByZWdyb3VwIGFsbCBhdHRyaWJ1dGVzIHdpdGggdGhlIHNhbWUgaWRzXG4gKiBAcmV0dXJucyBBbmQgYXJyYXkgb2YgYXJyYXlzIGVhY2ggY29udGFpbmluZyB0aGUgcGFyc2VkIG5hbWUgYW5kIGlkIG9mIHRoZSBzdHJpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IHNlcGVyYXRlQW5kS2VlcElkcyA9IChzdHJzKSA9PiB7XG4gICAgcmV0dXJuIHNlcGVyYXRlKHN0cnMpLm1hcCgodikgPT4ge1xuICAgICAgICBjb25zdCBzZXBlcmF0ZWQgPSB2WzFdO1xuICAgICAgICBjb25zdCBpZCA9IHNlcGVyYXRlZFtzZXBlcmF0ZWQubGVuZ3RoIC0gMV07XG4gICAgICAgIHJldHVybiBbdlswXS5yZXBsYWNlKG5ldyBSZWdFeHAoYCgtfF8pPyR7aWR9JGApLCBcIlwiKSwgaWRdO1xuICAgIH0pO1xufTtcbi8qKlxuICogVGhpcyBmdW5jdGlvbiBzZXBlcmF0ZXMgc3RyaW5ncyBiYXNlZCBvbiBzcGVjaWFsIGNoYXJhY3RlcnMgLyBjYXNlXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBzZXBlcmF0ZShbXCJoZWxsby13b3JsZFwiLCBcImhlbGxvV29ybGQyXCIsIFwiaGVsbG9fd29ybGRfMlwiXSlcbiAqIC8vIFtcbiAqIC8vICAgW1wiaGVsbG8td29ybGRcIiwgW1wiaGVsbG9cIixcIndvcmxkXCJdXSxcbiAqIC8vICAgW1wiaGVsbG9Xb3JsZDJcIiwgW1wiaGVsbG9cIixcIndvcmxkXCIsIFwiMlwiXV0sXG4gKiAvLyAgIFtcImhlbGxvX3dvcmxkXzJcIiwgW1wiaGVsbG9cIiwgXCJ3b3JsZFwiLCBcIjJcIl1dXG4gKiAvLyBdXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3RycyBUaGUgc3RyaW5nIGFycmF5IHRvIHRyeSBzZXBlcmF0ZVxuICogQHJldHVybnMgQW4gYXJyYXkgb2YgYXJyYXlzIHdpdGggdGhlIGlucHV0IC8gb3V0cHV0IHN0cmluZ3NcbiAqL1xuZXhwb3J0IGNvbnN0IHNlcGVyYXRlID0gKHN0cnMpID0+IHtcbiAgICByZXR1cm4gc3Rycy5tYXAoKHN0cikgPT4ge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgc3RyLFxuICAgICAgICAgICAgc3RyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhbMC05XSspLywgXCIgJDFcIilcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvKC18XykvZywgXCIgXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhbQS1aXSkvZywgXCIgJDFcIilcbiAgICAgICAgICAgICAgICAudHJpbSgpXG4gICAgICAgICAgICAgICAgLnRvTG9jYWxlTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAuc3BsaXQoXCIgXCIpXG4gICAgICAgICAgICAgICAgLmZpbHRlcigocykgPT4gcyAhPSBcIlwiKVxuICAgICAgICBdO1xuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBnZXRQYXRoVGFpbCA9IChkYXRhLCB0eXBlLCBuYW1lLCBwYXRoVGFpbCkgPT4ge1xuICAgIGNvbnN0IGlkID0gZGF0YVtuYW1lXTtcbiAgICBpZiAodHlwZSA9PSBcInBhdGhcIiAmJiBpZCAhPSBcIlwiICYmIGlkICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aFRhaWwgPz8gJyc7XG59O1xuZXhwb3J0IGNvbnN0IHVzZUZvcmNlVXBkYXRlID0gKCkgPT4ge1xuICAgIHJldHVybiB1c2VSZWR1Y2VyKCgpID0+ICh7fSksIHt9KVsxXTtcbn07XG4iLCJpbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW5zYWZlLWZpbmFsbHkgKi9cbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9pbmRleC5tb2R1bGUuc2Nzcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuY2xhc3MgRXJyb3JCb3VuZGFyeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgc3RhdGUgPSB7XG4gICAgICAgIGhhc0Vycm9yOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHsgZTogdW5kZWZpbmVkLCBpbmZvOiB1bmRlZmluZWQgfSxcbiAgICB9O1xuICAgIGNvbXBvbmVudERpZENhdGNoID0gKGUsIGluZm8pID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGhhc0Vycm9yOiB0cnVlLCBlcnJvcjogeyBlLCBpbmZvIH0gfSk7XG4gICAgfTtcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgY2hpbGRyZW4gfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGNvbnN0IHsgaGFzRXJyb3IsIGVycm9yIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBpZiAoIWhhc0Vycm9yKVxuICAgICAgICAgICAgcmV0dXJuIF9qc3goUmVhY3QuRnJhZ21lbnQsIHsgY2hpbGRyZW46IGNoaWxkcmVuIH0pO1xuICAgICAgICByZXR1cm4gKF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBzdHlsZXMubWFpbiwgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IGVycm9yPy5lPy5tZXNzYWdlIH0pLCBfanN4KFwiaHJcIiwge30pLCBfanN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IGVycm9yPy5pbmZvPy5jb21wb25lbnRTdGFjayB9KV0gfSkpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEVycm9yQm91bmRhcnk7XG4iLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCBkZWZhdWx0IHtcIm1haW5cIjpcIlNJQXB4UXpRbFpwMEwxZ04wX1FXXCJ9OyIsImltcG9ydCB7IHJlcXVlc3QgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvYXBpXCI7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5jb25zdCBxdWVyeU9wdGlvbnNDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7XG4gICAgZG9tYWluOiBcIlwiLFxuICAgIHBhcmFtZXRlclR5cGU6IFwicGF0aFwiLFxuICAgIG1vZGU6IFwicHJvZHVjdGlvblwiLFxuICAgIHZlcmJvc2l0eTogMSxcbiAgICBpZE5hbWU6IFwiaWRcIlxufSk7XG5leHBvcnQgY29uc3QgdXNlUXVlcnlPcHRpb25zID0gKCkgPT4ge1xuICAgIGNvbnN0IGN0eCA9IHVzZUNvbnRleHQocXVlcnlPcHRpb25zQ29udGV4dCk7XG4gICAgaWYgKCFjdHgpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGNvbnRleHQgZm9yICd1c2VRdWVyeU9wdGlvbnMnXCIpO1xuICAgIGlmICghY3R4LmlkTmFtZSlcbiAgICAgICAgY3R4LmlkTmFtZSA9IFwiaWRcIjtcbiAgICByZXR1cm4gY3R4O1xufTtcbmV4cG9ydCBjb25zdCB1c2VSZXF1ZXN0ID0gKHsgYm9keTogckJvZHksIGhlYWRlcnM6IHJIZWFkZXJzLCBtZXRob2Q6IHJNZXRob2QgPSBcIkdFVFwiLCBtb2RlOiByTW9kZSwgb25SZWplY3RlZDogck9uUmVqZWN0ZWQsIHNpZ25hbDogclNpZ25hbCB9ID0geyBtZXRob2Q6IFwiR0VUXCIgfSkgPT4ge1xuICAgIGNvbnN0IHsgZG9tYWluLCBtb2RlOiBxTW9kZSA9IHJNb2RlLCByZXF1ZXN0TWlkZGxld2FyZTogcVJlcXVlc3RNaWRkbGV3YXJlID0gckhlYWRlcnMsIG9uUmVqZWN0ZWQ6IHFPblJlamVjdGVkID0gck9uUmVqZWN0ZWQgfSA9IHVzZVF1ZXJ5T3B0aW9ucygpO1xuICAgIHJldHVybiBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucyA9IHsgbWV0aG9kOiBcIkdFVFwiIH0pIHtcbiAgICAgICAgY29uc3QgeyBoZWFkZXJzID0gcVJlcXVlc3RNaWRkbGV3YXJlLCBib2R5ID0gckJvZHksIG1ldGhvZCA9IHJNZXRob2QsIG1vZGUgPSBxTW9kZSwgc2lnbmFsID0gclNpZ25hbCwgb25SZWplY3RlZCA9IHFPblJlamVjdGVkIH0gPSBvcHRpb25zO1xuICAgICAgICByZXR1cm4gcmVxdWVzdChkb21haW4sIHBhdGgsIHtcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgbW9kZSxcbiAgICAgICAgICAgIHNpZ25hbCxcbiAgICAgICAgICAgIG9uUmVqZWN0ZWRcbiAgICAgICAgfSk7XG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgUXVlcnlPcHRpb25zUHJvdmlkZXIgPSBxdWVyeU9wdGlvbnNDb250ZXh0LlByb3ZpZGVyO1xuIiwiaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCB7IHJlcXVlc3QsIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvYXBpJztcbmltcG9ydCBFcnJvckJvdW5kYXJ5IGZyb20gJy4uL0Vycm9yQm91bmRhcnknO1xuaW1wb3J0IHsgdXNlUXVlcnlPcHRpb25zLCB1c2VSZXF1ZXN0IH0gZnJvbSAnLi4vUXVlcnlPcHRpb25zUHJvdmlkZXInO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5leHBvcnQgY29uc3QgdXNlUXVlcnkgPSAoeyBxdWVyeSwgZGVsYXksIG9uUmVhZCwgcmVxdWVzdE9wdGlvbnMgPSB7fSwgdXNlQ29uZmlnID0gdHJ1ZSwgfSkgPT4ge1xuICAgIC8vIFRoZSBkZWZhdWx0IGRhdGEvbG9hZC9lcnJvciB0cmlwbGVcbiAgICBjb25zdCBbZGF0YUxvYWRFcnIsIHNldERhdGFMb2FkRXJyXSA9IHVzZVN0YXRlKHtcbiAgICAgICAgZGF0YTogdW5kZWZpbmVkLFxuICAgICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgICBlcnJvcjogdW5kZWZpbmVkLFxuICAgIH0pO1xuICAgIGNvbnN0IHsgZG9tYWluID0gJycsIC4uLm9wdGlvbnMgfSA9IHJlcXVlc3RPcHRpb25zO1xuICAgIGxldCByZXE7XG4gICAgaWYgKHVzZUNvbmZpZylcbiAgICAgICAgcmVxID0gdXNlUmVxdWVzdCh1c2VRdWVyeU9wdGlvbnMoKSk7XG4gICAgZWxzZVxuICAgICAgICByZXEgPSAocGF0aCwgb3B0aW9ucykgPT4gcmVxdWVzdChkb21haW4sIHBhdGgsIG9wdGlvbnMpO1xuICAgIGNvbnN0IFtjb250cm9sbGVyLCBzZXRDb250cm9sbGVyXSA9IHVzZVN0YXRlKCk7XG4gICAgY29uc3QgW3JlZnJlc2gsIHNldFJlZnJlc2hdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IG1hbnVhbFVwZGF0ZSA9IHVzZUNhbGxiYWNrKChkYXRhKSA9PiBzZXREYXRhTG9hZEVycih7XG4gICAgICAgIGRhdGEsXG4gICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICBlcnJvcjogdW5kZWZpbmVkLFxuICAgIH0pLCBbXSk7XG4gICAgLy8gQ2hlY2sgaWYgdGhlIHF1ZXJ5IHByb3AgaGFzIGNoYW5nZWRcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb250cm9sbGVyPy5hYm9ydCgpO1xuICAgICAgICBjb25zdCBjdHJsID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICBjb25zdCB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBzaWduYWwsIC4uLm90aGVycyB9ID0gb3B0aW9ucztcbiAgICAgICAgICAgIHJlcShxdWVyeSwge1xuICAgICAgICAgICAgICAgIHNpZ25hbDogc2lnbmFsID8/IGN0cmwuc2lnbmFsLFxuICAgICAgICAgICAgICAgIC4uLm90aGVycyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIHNldERhdGFMb2FkRXJyKHsgZGF0YTogcmVzLCBsb2FkaW5nOiBmYWxzZSwgZXJyb3I6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICAgICAgICBvblJlYWQ/LihyZXMpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIHNldERhdGFMb2FkRXJyKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVyci50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGRlbGF5ID8/IDApO1xuICAgICAgICBzZXRDb250cm9sbGVyKGN0cmwpO1xuICAgICAgICBzZXREYXRhTG9hZEVycih7IGRhdGE6IHVuZGVmaW5lZCwgbG9hZGluZzogdHJ1ZSwgZXJyb3I6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGN0cmw/LmFib3J0KCk7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB9O1xuICAgIH0sIFtxdWVyeSwgcmVmcmVzaF0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IGRhdGFMb2FkRXJyLmRhdGEsXG4gICAgICAgIGxvYWRpbmc6IGRhdGFMb2FkRXJyLmxvYWRpbmcsXG4gICAgICAgIGVycm9yOiBkYXRhTG9hZEVyci5lcnJvcixcbiAgICAgICAgbWFudWFsVXBkYXRlLFxuICAgICAgICBmb3JjZVJlZnJlc2g6ICgpID0+IHNldFJlZnJlc2goIXJlZnJlc2gpLFxuICAgIH07XG59O1xuLyoqXG4gKiBUaGUgcXVlcnkgY29tcG9uZW50IGlzIGEgZmV0Y2ggd3JhcHBlciB0aGF0IGFsbG93cyB0byBkaXJlY3RseSBhZGQgbG9naWMgaW4gdGhlIGRlc2lnbiBvZiB0aGUgcmVhY3QgRE9NIGFyY2hpdGVjdHVyZVxuICovXG5leHBvcnQgY29uc3QgUXVlcnkgPSAoeyBjaGlsZHJlbiwgcXVlcnksIGRlbGF5LCBvblJlYWQsIHJlcXVlc3RPcHRpb25zLCB1c2VDb25maWcgPSB0cnVlLCB9KSA9PiB7XG4gICAgY29uc3QgeyBkYXRhLCBsb2FkaW5nLCBlcnJvciwgZm9yY2VSZWZyZXNoLCBtYW51YWxVcGRhdGUgfSA9IHVzZVF1ZXJ5KHtcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGRlbGF5LFxuICAgICAgICBvblJlYWQsXG4gICAgICAgIHJlcXVlc3RPcHRpb25zLFxuICAgICAgICB1c2VDb25maWcsXG4gICAgfSk7XG4gICAgcmV0dXJuIChfanN4KEVycm9yQm91bmRhcnksIHsgY2hpbGRyZW46IGNoaWxkcmVuKHsgZGF0YSwgbG9hZGluZywgZXJyb3IsIG1hbnVhbFVwZGF0ZSwgZm9yY2VSZWZyZXNoIH0pIH0pKTtcbn07XG4iLCJpbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2FwaSc7XG5pbXBvcnQgeyByZXF1ZXN0TG9nIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvbG9nJztcbmltcG9ydCB7IGZvcm1FeHRyYWN0b3IsIGdldEZvcm1EYXRhLCBnZXRQYXRoVGFpbCwgfSBmcm9tICcuLi8uLi8uLi91dGlscy91dGlsJztcbmltcG9ydCBFcnJvckJvdW5kYXJ5IGZyb20gJy4uL0Vycm9yQm91bmRhcnknO1xuaW1wb3J0IHsgUXVlcnkgfSBmcm9tICcuLi9RdWVyeSc7XG5pbXBvcnQgeyB1c2VRdWVyeU9wdGlvbnMgfSBmcm9tICcuLi9RdWVyeU9wdGlvbnNQcm92aWRlcic7XG5pbXBvcnQgZXF1YWwgZnJvbSAnZmFzdC1kZWVwLWVxdWFsJztcbmltcG9ydCB7IEZyYWdtZW50LCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG4vKipcbiAqIFRoaXMgY29tcG9uZW50IGlzIHVzZWQgdG8gc2ltcGxpZnkgYENSVURgIG9wZXJhdGlvbnMuXG4gKiBZb3UgZ2l2ZSBpdCB0aGUgYGVuZHBvaW50KHMpYCB0byB3aGljaCB5b3Ugd2FudCB0byBkbyByZXF1ZXN0cyBhbmQgaXQgd2lsbCBoYW5kbGVcbiAqIGFsbCBvZiB0aGUgdGFza3MgaW4gdGhlIGJhY2tncm91bmQgYW5kIHVwZGF0ZSB0aGUgc3RhdGUgb2YgdGhlIHZhcmlhYmxlc1xuICogaXQgZ2l2ZXMgeW91IGZyb20gdGhlIGNoaWxkIGZ1bmN0aW9uLlxuICpcbiAqIE1ha2Ugc3VyZSB0byBkZWZpbmUgdGhlIFF1ZXJ5T3B0aW9ucyBwYXJhbSB3aXRoIHRoZSBgUXVlcnlPcHRpb25zUHJvdmlkZXJgIGNvbXBvbmVudFxuICpcbiAqIEdvIHRvIHRoZSBbZXhhbXBsZXMgZGlyZWN0b3J5XShodHRwczovL2JpdGJ1Y2tldC5vcmcvbmVvdmlzaW9uL3JlYWN0LXF1ZXJ5L3NyYy9tYXN0ZXIvc3JjL2V4YW1wbGVzKSB0byBzZWUgZXhhbXBsZXNcbiAqL1xuY29uc3QgQ1JVRCA9ICh7IGNoaWxkcmVuLCBlbmRQb2ludHMsIG9uQ3JlYXRlZCwgb25SZWFkLCBvblVwZGF0ZWQsIG9uRGVsZXRlZCwgZGVsYXksIHR5cGUgPSAnYXJyYXknLCB9KSA9PiB7XG4gICAgY29uc3QgW2NyZWF0ZUVuZHBvaW50LCByZWFkRW5kcG9pbnQsIHVwZGF0ZUVuZHBvaW50LCBkZWxldGVFbmRwb2ludF0gPSB0eXBlb2YgZW5kUG9pbnRzID09ICdzdHJpbmcnXG4gICAgICAgID8gbmV3IEFycmF5KDQpLmZpbGwoZW5kUG9pbnRzKVxuICAgICAgICA6IFtlbmRQb2ludHMuY3JlYXRlLCBlbmRQb2ludHMucmVhZCwgZW5kUG9pbnRzLnVwZGF0ZSwgZW5kUG9pbnRzLmRlbGV0ZV07XG4gICAgY29uc3QgeyBwYXJhbWV0ZXJUeXBlLCBkb21haW4sIHJlcXVlc3RNaWRkbGV3YXJlLCBtb2RlLCB2ZXJib3NpdHksIGlkTmFtZSB9ID0gdXNlUXVlcnlPcHRpb25zKCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgcmVxdWVzdExvZyhtb2RlLCB2ZXJib3NpdHksIDUsIGBbZW5kcG9pbnRzXWAsIGBbQ10ke2NyZWF0ZUVuZHBvaW50fWAsIGBbUl0ke3JlYWRFbmRwb2ludH1gLCBgW1VdJHt1cGRhdGVFbmRwb2ludH1gLCBgW0RdJHtkZWxldGVFbmRwb2ludH1gKTtcbiAgICB9LCBbY3JlYXRlRW5kcG9pbnQsIHJlYWRFbmRwb2ludCwgdXBkYXRlRW5kcG9pbnQsIGRlbGV0ZUVuZHBvaW50XSk7XG4gICAgcmV0dXJuIChfanN4KEVycm9yQm91bmRhcnksIHsgY2hpbGRyZW46IF9qc3goUXVlcnksIHsgcXVlcnk6IGAke3JlYWRFbmRwb2ludH1gLCBkZWxheTogZGVsYXksIG9uUmVhZDogb25SZWFkLCBjaGlsZHJlbjogKHsgZGF0YSwgbG9hZGluZywgZXJyb3IsIG1hbnVhbFVwZGF0ZSwgZm9yY2VSZWZyZXNoIH0pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKF9qc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IGNoaWxkcmVuKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUNyZWF0ZTogKGUsIHBhcmFtcyA9IHsgbWV0aG9kOiAnUE9TVCcgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG1ldGhvZCA9ICdQT1NUJywgcGF0aFRhaWwgfSA9IHBhcmFtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IGdldEZvcm1EYXRhKGUudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGAke2NyZWF0ZUVuZHBvaW50fS8ke3BhdGhUYWlsID8gYCR7cGF0aFRhaWx9L2AgOiAnJ31gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RMb2cobW9kZSwgdmVyYm9zaXR5LCAxLCBgW2NyZWF0ZV1bJHttZXRob2R9XWAsIGAke2RvbWFpbn0vJHtlbmRwb2ludH1gLCBmb3JtRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QoZG9tYWluLCBlbmRwb2ludCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShmb3JtRGF0YSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogcmVxdWVzdE1pZGRsZXdhcmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGNyZWF0ZWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFudWFsVXBkYXRlPy4oWy4uLmRhdGEsIGNyZWF0ZWRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DcmVhdGVkPy4oKSAmJiBmb3JjZVJlZnJlc2g/LigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycmV1ciBkZSBjcsOpYXRpb25gLCBgVW5lIGVycmV1ciBlc3Qgc3VydmVudSBsb3JzIGRlIGxhIGNyw6lhdGlvbiBkYW5zIGxhIGJhc2UgZGUgZG9ubsOpZXNgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkOiB7IGRhdGEsIGxvYWRpbmcsIGVycm9yIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVVcGRhdGU6IChlLCBwYXJhbXMgPSB7IG1ldGhvZDogJ1BVVCcsIG5hbWU6IGlkTmFtZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbWV0aG9kID0gJ1BVVCcsIHBhdGhUYWlsLCBuYW1lID0gaWROYW1lIH0gPSBwYXJhbXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybURhdGFzID0gZm9ybUV4dHJhY3RvcihlLnRhcmdldCwgbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0RhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gJ2FycmF5JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YSA9IFsuLi5kYXRhXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGEgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGFzLmZvckVhY2goKGZvcm1EYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhaWwgPSBnZXRQYXRoVGFpbChmb3JtRGF0YSwgcGFyYW1ldGVyVHlwZSwgbmFtZSwgcGF0aFRhaWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGAke3VwZGF0ZUVuZHBvaW50fS8ke3RhaWwgPyBgJHt0YWlsfS9gIDogJyd9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhhc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBuZXdEYXRhLmZpbmRJbmRleCgodmFsKSA9PiB2YWxbbmFtZV0gPT0gdGFpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVyZ2VkRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ubmV3RGF0YVtpbmRleF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmZvcm1EYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ2hhbmdlZCA9ICFlcXVhbChuZXdEYXRhW2luZGV4XSwgbWVyZ2VkRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YVtpbmRleF0gPSBtZXJnZWREYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGEucHVzaChmb3JtRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNDaGFuZ2VkID0gIWVxdWFsKG5ld0RhdGEsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YSA9IHsgLi4ubmV3RGF0YSwgLi4uZm9ybURhdGEgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdExvZyhtb2RlLCB2ZXJib3NpdHksIDEsIGBbdXBkYXRlXVske21ldGhvZH1dYCwgYCR7ZG9tYWlufS8ke2VuZHBvaW50fWAsIGZvcm1EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2gocmVxdWVzdChkb21haW4sIGVuZHBvaW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZm9ybURhdGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXF1ZXN0TWlkZGxld2FyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFudWFsVXBkYXRlPy4obmV3RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlZD8uKCkgJiYgZm9yY2VSZWZyZXNoPy4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVEZWxldGU6IChlLCBwYXJhbXMgPSB7IG1ldGhvZDogJ0RFTEVURScsIG5hbWU6IGlkTmFtZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZT8ucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlPy5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG1ldGhvZCA9ICdERUxFVEUnLCBwYXRoVGFpbCwgbmFtZSA9IGlkTmFtZSwgaWQsIH0gPSBwYXJhbXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFpbCA9IGdldFBhdGhUYWlsKHsgW25hbWVdOiBpZD8udG9TdHJpbmcoKSA/PyAnJyB9LCBwYXJhbWV0ZXJUeXBlLCBuYW1lLCBwYXRoVGFpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBgJHtkZWxldGVFbmRwb2ludH0vJHt0YWlsID8gYCR7dGFpbH0vYCA6ICcnfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdExvZyhtb2RlLCB2ZXJib3NpdHksIDEsIGBbZGVsZXRlXVske21ldGhvZH1dYCwgYCR7ZG9tYWlufS8ke2VuZHBvaW50fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0KGRvbWFpbiwgZW5kcG9pbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXF1ZXN0TWlkZGxld2FyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogcGFyYW1ldGVyVHlwZSA9PSAncGF0aCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogSlNPTi5zdHJpbmdpZnkoZ2V0Rm9ybURhdGEoZS50YXJnZXQpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBkYXRhLmZpbmRJbmRleCgodmFsKSA9PiB2YWxbbmFtZV0gPT0gaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZWREYXRhID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RMb2cobW9kZSwgdmVyYm9zaXR5LCAzLCBgUmVtb3ZpbmcgaW5kZXggJHtpbmRleH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0FyciA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50eXBlZERhdGEuc2xpY2UoMCwgaW5kZXgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnR5cGVkRGF0YS5zbGljZShpbmRleCArIDEsIHR5cGVkRGF0YS5sZW5ndGgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RMb2cobW9kZSwgdmVyYm9zaXR5LCA0LCBgQXJyYXkgdXBkYXRlZGAsIG5ld0Fycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW51YWxVcGRhdGU/LihuZXdBcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFudWFsVXBkYXRlPy4oZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EZWxldGVkPy4oKSAmJiBmb3JjZVJlZnJlc2g/LigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSwgZm9yY2VSZWZyZXNoKSB9KSk7XG4gICAgICAgICAgICB9IH0pIH0pKTtcbn07XG5leHBvcnQgZGVmYXVsdCBDUlVEO1xuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMTU2X18iLCJlcXVhbCIsImEiLCJiIiwiY29uc3RydWN0b3IiLCJsZW5ndGgiLCJpIiwia2V5cyIsIkFycmF5IiwiaXNBcnJheSIsIlJlZ0V4cCIsInNvdXJjZSIsImZsYWdzIiwidmFsdWVPZiIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwia2V5IiwiZiIsImsiLCJTeW1ib2wiLCJmb3IiLCJtIiwibiIsIl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEIiwiUmVhY3RDdXJyZW50T3duZXIiLCJwIiwicmVmIiwiX19zZWxmIiwiX19zb3VyY2UiLCJxIiwiYyIsImciLCJkIiwiZSIsImgiLCJkZWZhdWx0UHJvcHMiLCIkJHR5cGVvZiIsInR5cGUiLCJwcm9wcyIsIl9vd25lciIsImN1cnJlbnQiLCJqc3giLCJqc3hzIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJyIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInJlcXVlc3RMb2ciLCJtb2RlIiwicGFyYW1WZXJib3NpdHkiLCJsaW1pdFZlcmJvc2l0eSIsInMiLCJjb25zb2xlIiwibG9nIiwicXVlcnlXYXJuIiwid2FybiIsInF1ZXJ5RXJyb3IiLCJlcnJvciIsInJlcXVlc3QiLCJkb21haW4iLCJwYXRoIiwib3B0aW9ucyIsIm1ldGhvZCIsImJvZHkiLCJoZWFkZXJzIiwic2lnbmFsIiwib25SZWplY3RlZCIsInJlcSIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwidGV4dCIsInQiLCJpbmNsdWRlcyIsIkpTT04iLCJwYXJzZSIsInJlcXVlc3RXYXJuIiwidXJsIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsIlByb21pc2UiLCJyZWplY3QiLCJjYXRjaCIsImVyciIsIm5hbWUiLCJFcnJvciIsIm1lc3NhZ2UiLCJnZXRGb3JtRGF0YSIsInRhcmdldCIsInR5cGVkVGFyZ2V0IiwibWFwIiwiZmlsdGVyIiwidiIsInRhZyIsInRhZ05hbWUiLCJ0b0xvY2FsZUxvd2VyQ2FzZSIsInJlZHVjZSIsImFjYyIsImN1ciIsImNoZWNrZWQiLCJyZXF1aXJlZCIsImlzQ2hlY2tib3giLCJmaW5hbFZhbHVlIiwiTnVtYmVyIiwic2VwZXJhdGUiLCJzdHJzIiwic3RyIiwicmVwbGFjZSIsInRyaW0iLCJzcGxpdCIsImdldFBhdGhUYWlsIiwiZGF0YSIsInBhdGhUYWlsIiwiaWQiLCJFcnJvckJvdW5kYXJ5IiwiUmVhY3QiLCJzdGF0ZSIsImhhc0Vycm9yIiwiaW5mbyIsImNvbXBvbmVudERpZENhdGNoIiwidGhpcyIsInNldFN0YXRlIiwicmVuZGVyIiwiY2hpbGRyZW4iLCJfanN4cyIsImNsYXNzTmFtZSIsIl9qc3giLCJjb21wb25lbnRTdGFjayIsInF1ZXJ5T3B0aW9uc0NvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwicGFyYW1ldGVyVHlwZSIsInZlcmJvc2l0eSIsImlkTmFtZSIsInVzZVF1ZXJ5T3B0aW9ucyIsImN0eCIsInVzZUNvbnRleHQiLCJ1c2VSZXF1ZXN0IiwickJvZHkiLCJySGVhZGVycyIsInJNZXRob2QiLCJyTW9kZSIsInJPblJlamVjdGVkIiwiclNpZ25hbCIsInFNb2RlIiwicmVxdWVzdE1pZGRsZXdhcmUiLCJxUmVxdWVzdE1pZGRsZXdhcmUiLCJxT25SZWplY3RlZCIsIlF1ZXJ5T3B0aW9uc1Byb3ZpZGVyIiwiUHJvdmlkZXIiLCJ1c2VRdWVyeSIsInF1ZXJ5IiwiZGVsYXkiLCJvblJlYWQiLCJyZXF1ZXN0T3B0aW9ucyIsInVzZUNvbmZpZyIsImRhdGFMb2FkRXJyIiwic2V0RGF0YUxvYWRFcnIiLCJ1c2VTdGF0ZSIsImxvYWRpbmciLCJjb250cm9sbGVyIiwic2V0Q29udHJvbGxlciIsInJlZnJlc2giLCJzZXRSZWZyZXNoIiwibWFudWFsVXBkYXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJhYm9ydCIsImN0cmwiLCJBYm9ydENvbnRyb2xsZXIiLCJ0aW1lb3V0Iiwid2luZG93Iiwic2V0VGltZW91dCIsIm90aGVycyIsImNsZWFyVGltZW91dCIsImZvcmNlUmVmcmVzaCIsIlF1ZXJ5IiwiZW5kUG9pbnRzIiwib25DcmVhdGVkIiwib25VcGRhdGVkIiwib25EZWxldGVkIiwiY3JlYXRlRW5kcG9pbnQiLCJyZWFkRW5kcG9pbnQiLCJ1cGRhdGVFbmRwb2ludCIsImRlbGV0ZUVuZHBvaW50IiwiZmlsbCIsImNyZWF0ZSIsInJlYWQiLCJ1cGRhdGUiLCJkZWxldGUiLCJGcmFnbWVudCIsImhhbmRsZUNyZWF0ZSIsInBhcmFtcyIsInByZXZlbnREZWZhdWx0IiwiZm9ybURhdGEiLCJlbmRwb2ludCIsInN0cmluZ2lmeSIsImNyZWF0ZWQiLCJoYW5kbGVVcGRhdGUiLCJmb3JtRGF0YXMiLCJlbnRyaWVzIiwicHJldiIsImN1cnIiLCJhdHRyIiwic2VwZXJhdGVkIiwiZWxlbSIsImZpbmQiLCJwYXJzZUlkIiwicGFyc2VJbnQiLCJwdXNoIiwiZm9ybUV4dHJhY3RvciIsIm5ld0RhdGEiLCJwcm9taXNlcyIsImZvckVhY2giLCJ0YWlsIiwiaGFzQ2hhbmdlZCIsImluZGV4IiwiZmluZEluZGV4IiwidmFsIiwibWVyZ2VkRGF0YSIsImFsbCIsImhhbmRsZURlbGV0ZSIsInN0b3BQcm9wYWdhdGlvbiIsInR5cGVkRGF0YSIsIm5ld0FyciIsInNsaWNlIl0sInNvdXJjZVJvb3QiOiIifQ==