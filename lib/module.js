/*! For license information please see module.js.LICENSE.txt */
!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("react")):"function"==typeof define&&define.amd?define(["react"],r):"object"==typeof exports?exports["react-query"]=r(require("react")):e["react-query"]=r(e.react)}(self,(e=>(()=>{"use strict";var r={63:e=>{e.exports=function e(r,t){if(r===t)return!0;if(r&&t&&"object"==typeof r&&"object"==typeof t){if(r.constructor!==t.constructor)return!1;var o,n,a;if(Array.isArray(r)){if((o=r.length)!=t.length)return!1;for(n=o;0!=n--;)if(!e(r[n],t[n]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if((o=(a=Object.keys(r)).length)!==Object.keys(t).length)return!1;for(n=o;0!=n--;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;for(n=o;0!=n--;){var s=a[n];if(!e(r[s],t[s]))return!1}return!0}return r!=r&&t!=t}},251:(e,r,t)=>{var o=t(156),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,d=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,r,t){var o,a={},c=null,l=null;for(o in void 0!==t&&(c=""+t),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(l=r.ref),r)s.call(r,o)&&!i.hasOwnProperty(o)&&(a[o]=r[o]);if(e&&e.defaultProps)for(o in r=e.defaultProps)void 0===a[o]&&(a[o]=r[o]);return{$$typeof:n,type:e,key:c,ref:l,props:a,_owner:d.current}}r.Fragment=a,r.jsx=c,r.jsxs=c},893:(e,r,t)=>{e.exports=t(251)},156:r=>{r.exports=e}},t={};function o(e){var n=t[e];if(void 0!==n)return n.exports;var a=t[e]={exports:{}};return r[e](a,a.exports,o),a.exports}o.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return o.d(r,{a:r}),r},o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{o.r(n),o.d(n,{CRUD:()=>O,Query:()=>v,QueryOptionsProvider:()=>y,request:()=>a,useQuery:()=>g,useQueryOptions:()=>h,useRequest:()=>m});var e=o(893);const r=(e,r,t,...o)=>{"development"==e&&t<=r&&console.log("[react-query]",...o)},t=(e,r,t,...o)=>{"development"==e&&t<=r&&console.warn("[react-query]",...o)},a=function(e,r,o={method:"GET"}){const{method:n="GET",headers:a,mode:s="production",onRejected:d,...i}=o,c=o=>fetch(`${e}/${r}`,{headers:o,method:n,...i}).then((e=>e.ok?e.text().then((r=>{try{if(e.headers.get("Content-Type")?.includes("application/json"))return JSON.parse(r)}catch(r){t(s,0,0,"Could not parse response to json",e)}return r})):(((...e)=>{console.error("[react-query]",...e)})(`${e.url} ${e.status} ${e.statusText}`),d?.(e),Promise.reject(`${e.status} ${e.statusText}`)))).catch((e=>{if("AbortError"!=e.name)throw new Error(e);t(s,0,0,e.message)}));return a?a().then(c):c({})};var s=o(156),d=o.n(s);const i=e=>{const r=e;return Object.keys(e).map((e=>r[e])).filter((e=>{const r=e.tagName?.toLocaleLowerCase?.();return e.name&&("input"==r||"select"==r)})).reduce(((e,r)=>{const{name:t,value:o,checked:n,type:a,required:s}=r,d="checkbox"==a;if(s&&(""==o||null==o))throw new Error(`Can't use an empty value for ${t}`);let i="number"==a?new Number(o).valueOf():o;return{...e,[t]:d?n:i}}),{})},c=e=>e.map((e=>[e,e.replace(/([0-9]+)/," $1").replace(/(-|_)/g," ").replace(/([A-Z])/g," $1").trim().toLocaleLowerCase().split(" ").filter((e=>""!=e))])),l=(e,r,t,o)=>{const n=e[t];return"path"==r&&""!=n&&null!=n?n:o??""};class u extends d().Component{state={hasError:!1,error:{e:void 0,info:void 0}};componentDidCatch=(e,r)=>{console.error(e),this.setState({hasError:!0,error:{e,info:r}})};render(){const{children:r}=this.props,{hasError:t,error:o}=this.state;return t?(0,e.jsxs)("div",{className:"SIApxQzQlZp0L1gN0_QW",children:[(0,e.jsx)("div",{children:o?.e?.message}),(0,e.jsx)("hr",{}),(0,e.jsx)("div",{children:o?.info?.componentStack})]}):(0,e.jsx)(d().Fragment,{children:r})}}const p=u,f=(0,s.createContext)({domain:"",parameterType:"path",mode:"production",verbosity:1,idName:"id"}),h=()=>{const e=(0,s.useContext)(f);if(!e)throw new Error("No context for 'useQueryOptions'");return e.idName||(e.idName="id"),e},m=(e={method:"GET"})=>{const{loader:r,...t}=h(),o=Object.merge(e,t);return(e,r={method:"GET"})=>{const{domain:t,...n}=Object.merge(o,r);return a(t,e,n)}},y=f.Provider,g=({query:e,delay:t,onRead:o,requestOptions:n={}})=>{const[d,i]=(0,s.useState)({data:void 0,loading:!0,error:void 0}),c=Object.merge(h(),n),{domain:l,mode:u,verbosity:p}=c,[f,m]=(0,s.useState)(),[y,g]=(0,s.useState)(!1),v=(0,s.useCallback)((e=>i({data:e,loading:!1,error:void 0})),[]);return(0,s.useEffect)((()=>{r(u,p,8,`[read][${e}]`,`${l}/${e}`),f?.abort();const n=new AbortController,s=window.setTimeout((()=>{const{signal:r,...t}=c;((e,r)=>a(l,e,r))(e,{signal:n.signal,...t}).then((e=>{e&&(i({data:e,loading:!1,error:void 0}),o?.(e))})).catch((e=>{i({data:void 0,loading:!1,error:e.toString()})}))}),t??0);return m(n),i({data:void 0,loading:!0,error:void 0}),()=>{n?.abort(),window.clearTimeout(s)}}),[e,y]),{...d,manualUpdate:v,forceRefresh:()=>g(!y)}},v=({children:r,...t})=>{const{loader:o}=h(),{loading:n,...a}=g(t),s=r({loading:n,...a});return(0,e.jsx)(p,{children:n&&o&&o.autoload?(0,e.jsx)(e.Fragment,{children:o.loader??(0,e.jsx)("div",{children:"Loading data..."})}):s})};var b=o(63),$=o.n(b);const O=({children:t,endPoints:o,onCreated:n,onRead:d,onUpdated:u,onDeleted:f,delay:m,type:y="array"})=>{const[g,b,O,x]="string"==typeof o?new Array(4).fill(o):[o.create,o.read,o.update,o.delete],{parameterType:j,domain:E,headers:S,mode:T,verbosity:w,idName:_}=h();return(0,s.useEffect)((()=>{r(T,w,5,"[endpoints]",`[C]${g}`,`[R]${b}`,`[U]${O}`,`[D]${x}`)}),[g,b,O,x]),(0,e.jsx)(p,{children:(0,e.jsx)(v,{query:`${b}`,delay:m,onRead:d,children:({data:o,loading:d,error:p,manualUpdate:h,forceRefresh:m})=>(0,e.jsx)(s.Fragment,{children:t({handleCreate:(e,t={method:"POST"})=>{e.preventDefault();const{method:s="POST",pathTail:d}=t,c=i(e.target),l=`${g}/${d?`${d}/`:""}`;return r(T,w,1,`[create][${s}]`,`${E}/${l}`,c),a(E,l,{body:JSON.stringify(c),method:s,headers:S,mode:T}).then((e=>{h?.([...o,e]),n?.()&&m?.()})).catch((()=>{console.error("Erreur de création","Une erreur est survenu lors de la création dans la base de données")}))},read:{data:o,loading:d,error:p},handleUpdate:(e,t={method:"PUT",name:_})=>{e.preventDefault();const{method:n="PUT",pathTail:s,name:d=_}=t,p=((e,r)=>{const t=i(e);return null!=t[r]?[t]:Object.entries(t).reduce(((e,t)=>{const o=t[0],[n,a]=(d=[o],c(d).map((e=>{const r=e[1],t=r[r.length-1];return[e[0].replace(new RegExp(`(-|_)?${t}$`),""),t]})))[0],s=e.find((e=>e[r]==a));var d;let i=a;try{i=parseInt(a)}catch(e){}return s?s[n]=t[1]:e.push({[r]:i,[n]:t[1]}),e}),[])})(e.target,d);let f;f="array"==y?[...o]:o;const g=[];return p.forEach((e=>{const t=l(e,j,d,s),i=`${O}/${t?`${t}/`:""}`;let c=!1;if("array"==y){const r=f.findIndex((e=>e[d]==t));if(null!=r){const t={...f[r],...e};c=!$()(f[r],t),f[r]=t}else f.push(e)}else c=!$()(f,o),f={...f,...e};c&&(r(T,w,1,`[update][${n}]`,`${E}/${i}`,e),g.push(a(E,i,{body:JSON.stringify(e),method:n,headers:S,mode:T})))})),Promise.all(g).then((()=>{h?.(f),u?.()&&m?.()}))},handleDelete:(e,t={method:"DELETE",name:_})=>{e?.preventDefault(),e?.stopPropagation();const{method:n="DELETE",pathTail:s,name:d=_,id:c}=t,u=l({[d]:c?.toString()??""},j,d,s),p=`${x}/${u?`${u}/`:""}`;return r(T,w,1,`[delete][${n}]`,`${E}/${p}`),a(E,p,{method:n,headers:S,mode:T,body:"path"==j?"":JSON.stringify(i(e.target))}).then((()=>{if("array"==y){const e=o.findIndex((e=>e[d]==c)),t=o;r(T,w,3,`Removing index ${e}`);const n=[...t.slice(0,e),...t.slice(e+1,t.length)];r(T,w,4,"Array updated",n),h?.(n)}else h?.(o);f?.()&&m?.()}))}},m)})})})}})(),n})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RzBNLGtCQUNILE1BQU0sT0FBRWhLLEVBQVMsU0FBWCxTQUFxQm9ELEVBQXJCLEtBQStCNUIsRUFBT2dELEVBQXRDLEdBQThDbkIsR0FBUTRFLEVBQ3REdUIsRUFBT3RHLEVBQVksQ0FBRSxDQUFDMUIsR0FBTzZCLEdBQUlwSCxZQUFjLElBQU1xSSxFQUFlOUMsRUFBTTRCLEdBQzFFZ0YsRUFBWSxHQUFFVixLQUFrQjhCLEVBQVEsR0FBRUEsS0FBVSxLQUUxRCxPQURBckssRUFBV0MsRUFBTW1GLEVBQVcsRUFBSSxZQUFXdkUsS0FBWSxHQUFFSCxLQUFVdUksS0FDNUR4SSxFQUFRQyxFQUFRdUksRUFBVSxDQUM3QnBJLFNBQ0FDLFVBQ0FiLE9BQ0FpSixLQUF1QixRQUFqQi9ELEVBQ0EsR0FDQTFELEtBQUswSCxVQUFVM0csRUFBWXJFLEVBQUVzRSxXQUNwQ3RCLE1BQUssS0FDSixHQUFZLFNBQVI1QyxFQUFpQixDQUNqQixNQUFNZ00sRUFBUXZHLEVBQUt3RyxXQUFXQyxHQUFRQSxFQUFJcEksSUFBUzZCLElBQzdDNEcsRUFBWTlHLEVBQ2xCaEUsRUFBV0MsRUFBTW1GLEVBQVcsRUFBSSxrQkFBaUJtRixLQUNqRCxNQUFNUSxFQUFTLElBQ1JELEVBQVVFLE1BQU0sRUFBR1QsTUFDbkJPLEVBQVVFLE1BQU1ULEVBQVEsRUFBR08sRUFBVTNPLFNBRTVDNkQsRUFBV0MsRUFBTW1GLEVBQVcsRUFBSSxnQkFBZ0IyRixHQUNoRGhFLElBQWVnRSxRQUdmaEUsSUFBZS9DLEdBRW5CbUUsT0FBaUJSLFdBRzFCQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYWN0LXF1ZXJ5L3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL25vZGVfbW9kdWxlcy9mYXN0LWRlZXAtZXF1YWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9ub2RlX21vZHVsZXMvcmVhY3QvY2pzL3JlYWN0LWpzeC1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vbm9kZV9tb2R1bGVzL3JlYWN0L2pzeC1ydW50aW1lLmpzIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5L2V4dGVybmFsIHVtZCBcInJlYWN0XCIiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL3NyYy91dGlscy9sb2cudHMiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvdXRpbHMvYXBpLnRzIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL3V0aWxzL3V0aWwudHMiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvY29tcG9uZW50cy91dGlscy9FcnJvckJvdW5kYXJ5L2luZGV4LnRzeCIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL3NyYy9jb21wb25lbnRzL3V0aWxzL0Vycm9yQm91bmRhcnkvaW5kZXgubW9kdWxlLnNjc3M/Njk5OSIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL3NyYy9jb21wb25lbnRzL3V0aWxzL1F1ZXJ5T3B0aW9uc1Byb3ZpZGVyL2luZGV4LnRzeCIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL3NyYy9jb21wb25lbnRzL3V0aWxzL1F1ZXJ5L2luZGV4LnRzeCIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL3NyYy9jb21wb25lbnRzL3V0aWxzL0NSVUQvaW5kZXgudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcInJlYWN0XCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcInJlYWN0LXF1ZXJ5XCJdID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcInJlYWN0LXF1ZXJ5XCJdID0gZmFjdG9yeShyb290W1wicmVhY3RcIl0pO1xufSkoc2VsZiwgKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzE1Nl9fKSA9PiB7XG5yZXR1cm4gIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBkbyBub3QgZWRpdCAuanMgZmlsZXMgZGlyZWN0bHkgLSBlZGl0IHNyYy9pbmRleC5qc3RcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZXF1YWwoYSwgYikge1xuICBpZiAoYSA9PT0gYikgcmV0dXJuIHRydWU7XG5cbiAgaWYgKGEgJiYgYiAmJiB0eXBlb2YgYSA9PSAnb2JqZWN0JyAmJiB0eXBlb2YgYiA9PSAnb2JqZWN0Jykge1xuICAgIGlmIChhLmNvbnN0cnVjdG9yICE9PSBiLmNvbnN0cnVjdG9yKSByZXR1cm4gZmFsc2U7XG5cbiAgICB2YXIgbGVuZ3RoLCBpLCBrZXlzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggIT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOylcbiAgICAgICAgaWYgKCFlcXVhbChhW2ldLCBiW2ldKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG5cblxuICAgIGlmIChhLmNvbnN0cnVjdG9yID09PSBSZWdFeHApIHJldHVybiBhLnNvdXJjZSA9PT0gYi5zb3VyY2UgJiYgYS5mbGFncyA9PT0gYi5mbGFncztcbiAgICBpZiAoYS52YWx1ZU9mICE9PSBPYmplY3QucHJvdG90eXBlLnZhbHVlT2YpIHJldHVybiBhLnZhbHVlT2YoKSA9PT0gYi52YWx1ZU9mKCk7XG4gICAgaWYgKGEudG9TdHJpbmcgIT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpIHJldHVybiBhLnRvU3RyaW5nKCkgPT09IGIudG9TdHJpbmcoKTtcblxuICAgIGtleXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgICBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICBpZiAobGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOylcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIGtleXNbaV0pKSByZXR1cm4gZmFsc2U7XG5cbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXG4gICAgICBpZiAoIWVxdWFsKGFba2V5XSwgYltrZXldKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gdHJ1ZSBpZiBib3RoIE5hTiwgZmFsc2Ugb3RoZXJ3aXNlXG4gIHJldHVybiBhIT09YSAmJiBiIT09Yjtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC1qc3gtcnVudGltZS5wcm9kdWN0aW9uLm1pbi5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG4ndXNlIHN0cmljdCc7dmFyIGY9cmVxdWlyZShcInJlYWN0XCIpLGs9U3ltYm9sLmZvcihcInJlYWN0LmVsZW1lbnRcIiksbD1TeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIiksbT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LG49Zi5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRC5SZWFjdEN1cnJlbnRPd25lcixwPXtrZXk6ITAscmVmOiEwLF9fc2VsZjohMCxfX3NvdXJjZTohMH07XG5mdW5jdGlvbiBxKGMsYSxnKXt2YXIgYixkPXt9LGU9bnVsbCxoPW51bGw7dm9pZCAwIT09ZyYmKGU9XCJcIitnKTt2b2lkIDAhPT1hLmtleSYmKGU9XCJcIithLmtleSk7dm9pZCAwIT09YS5yZWYmJihoPWEucmVmKTtmb3IoYiBpbiBhKW0uY2FsbChhLGIpJiYhcC5oYXNPd25Qcm9wZXJ0eShiKSYmKGRbYl09YVtiXSk7aWYoYyYmYy5kZWZhdWx0UHJvcHMpZm9yKGIgaW4gYT1jLmRlZmF1bHRQcm9wcyxhKXZvaWQgMD09PWRbYl0mJihkW2JdPWFbYl0pO3JldHVybnskJHR5cGVvZjprLHR5cGU6YyxrZXk6ZSxyZWY6aCxwcm9wczpkLF9vd25lcjpuLmN1cnJlbnR9fWV4cG9ydHMuRnJhZ21lbnQ9bDtleHBvcnRzLmpzeD1xO2V4cG9ydHMuanN4cz1xO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWpzeC1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWpzeC1ydW50aW1lLmRldmVsb3BtZW50LmpzJyk7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzE1Nl9fOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJleHBvcnQgY29uc3QgcmVxdWVzdExvZyA9IChtb2RlLCBwYXJhbVZlcmJvc2l0eSwgbGltaXRWZXJib3NpdHksIC4uLnMpID0+IHtcbiAgICBpZiAobW9kZSA9PSAnZGV2ZWxvcG1lbnQnICYmIGxpbWl0VmVyYm9zaXR5IDw9IHBhcmFtVmVyYm9zaXR5KVxuICAgICAgICBjb25zb2xlLmxvZyhgW3JlYWN0LXF1ZXJ5XWAsIC4uLnMpO1xufTtcbmV4cG9ydCBjb25zdCBxdWVyeVdhcm4gPSAobW9kZSwgcGFyYW1WZXJib3NpdHksIGxpbWl0VmVyYm9zaXR5LCAuLi5zKSA9PiB7XG4gICAgaWYgKG1vZGUgPT0gJ2RldmVsb3BtZW50JyAmJiBsaW1pdFZlcmJvc2l0eSA8PSBwYXJhbVZlcmJvc2l0eSlcbiAgICAgICAgY29uc29sZS53YXJuKGBbcmVhY3QtcXVlcnldYCwgLi4ucyk7XG59O1xuZXhwb3J0IGNvbnN0IHF1ZXJ5RXJyb3IgPSAoLi4ucykgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoYFtyZWFjdC1xdWVyeV1gLCAuLi5zKTtcbn07XG4iLCJpbXBvcnQgeyBxdWVyeUVycm9yLCBxdWVyeVdhcm4sIHF1ZXJ5V2FybiBhcyByZXF1ZXN0V2FybiB9IGZyb20gJy4vbG9nJztcbmV4cG9ydCBjb25zdCByZXF1ZXN0ID0gZnVuY3Rpb24gKGRvbWFpbiwgcGF0aCwgb3B0aW9ucyA9IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxufSkge1xuICAgIGNvbnN0IHsgbWV0aG9kID0gJ0dFVCcsIGhlYWRlcnMsIG1vZGUgPSAncHJvZHVjdGlvbicsIG9uUmVqZWN0ZWQsIC4uLnJlc3QgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgcmVxID0gKGhlYWRlcnMpID0+IHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke2RvbWFpbn0vJHtwYXRofWAsIHtcbiAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgICAgICAgICBxdWVyeUVycm9yKGAke3Jlcy51cmx9ICR7cmVzLnN0YXR1c30gJHtyZXMuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgICAgICAgICBvblJlamVjdGVkPy4ocmVzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYCR7cmVzLnN0YXR1c30gJHtyZXMuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXMudGV4dCgpLnRoZW4oKHQpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmhlYWRlcnMuZ2V0KCdDb250ZW50LVR5cGUnKT8uaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0V2Fybihtb2RlLCAwLCAwLCBgQ291bGQgbm90IHBhcnNlIHJlc3BvbnNlIHRvIGpzb25gLCByZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIubmFtZSA9PSAnQWJvcnRFcnJvcicpXG4gICAgICAgICAgICAgICAgcXVlcnlXYXJuKG1vZGUsIDAsIDAsIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gaGVhZGVycyA/IGhlYWRlcnMoKS50aGVuKHJlcSkgOiByZXEoe30pO1xufTtcbiIsImltcG9ydCB7IHVzZVJlZHVjZXIgfSBmcm9tICdyZWFjdCc7XG4vKipcbiAqIGdldEZvcm1EYXRhIGV4dHJhY3RzIHRoZSB2YWx1ZXMgb2YgdGhlIGlucHV0IGVsZW1lbnRzXG4gKiByZWNlaXZlZCBmcm9tIHRoZSB0YXJnZXQgb2JqZWN0XG4gKiBAcGFyYW0gdGFyZ2V0IFRhcmdldCByZWNlaXZlZCBmcm9tIHRoZSBvYmplY3QgZXZlbnRcbiAqIEByZXR1cm5zIEFuIG9iamVjdCBvZiB0eXBlIFQgYnkgZGVmYXVsdCB3aXRoIGtleSB2YWx1ZSBwYWlyc1xuICovXG5leHBvcnQgY29uc3QgZ2V0Rm9ybURhdGEgPSAodGFyZ2V0KSA9PiB7XG4gICAgY29uc3QgdHlwZWRUYXJnZXQgPSB0YXJnZXQ7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRhcmdldClcbiAgICAgICAgLm1hcCgoaykgPT4ge1xuICAgICAgICByZXR1cm4gdHlwZWRUYXJnZXRba107XG4gICAgfSlcbiAgICAgICAgLy8gS2VlcCBuYW1lZCBpbnB1dCBhbmQgc2VsZWN0XG4gICAgICAgIC5maWx0ZXIoKHYpID0+IHtcbiAgICAgICAgY29uc3QgdGFnID0gdi50YWdOYW1lPy50b0xvY2FsZUxvd2VyQ2FzZT8uKCk7XG4gICAgICAgIHJldHVybiB2Lm5hbWUgJiYgKHRhZyA9PSAnaW5wdXQnIHx8IHRhZyA9PSAnc2VsZWN0Jyk7XG4gICAgfSlcbiAgICAgICAgLnJlZHVjZSgoYWNjLCBjdXIpID0+IHtcbiAgICAgICAgY29uc3QgeyBuYW1lLCB2YWx1ZSwgY2hlY2tlZCwgdHlwZSwgcmVxdWlyZWQgfSA9IGN1cjtcbiAgICAgICAgY29uc3QgaXNDaGVja2JveCA9IHR5cGUgPT0gJ2NoZWNrYm94JztcbiAgICAgICAgY29uc3QgaXNWYWxFbXB0eSA9IHZhbHVlID09ICcnIHx8IHZhbHVlID09IG51bGw7XG4gICAgICAgIGlmIChyZXF1aXJlZCAmJiBpc1ZhbEVtcHR5KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCB1c2UgYW4gZW1wdHkgdmFsdWUgZm9yICR7bmFtZX1gKTtcbiAgICAgICAgbGV0IGZpbmFsVmFsdWUgPSB0eXBlID09ICdudW1iZXInID8gbmV3IE51bWJlcih2YWx1ZSkudmFsdWVPZigpIDogdmFsdWU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgICBbbmFtZV06IGlzQ2hlY2tib3ggPyBjaGVja2VkIDogZmluYWxWYWx1ZSxcbiAgICAgICAgfTtcbiAgICB9LCB7fSk7XG59O1xuLyoqXG4gKiBFeHRyYWN0cyBhbGwgdGhlIG5lY2Vzc2FyeSBkYXRhIGZyb20gdGhlIGZvcm0gdGFyZ2V0XG4gKlxuICogQHBhcmFtIHRhcmdldCBUYXJnZXQgcmVjZWl2ZWQgZnJvbSB0aGUgb2JqZWN0IGV2ZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSB0aGF0IGlkZW50aWZpZXMgdGhlIGRhdGFcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZvcm1FeHRyYWN0b3Igd2l0aCBmb3JtIGlucHV0c1xuICogYGBgaHRtbFxuICogPGRpdj5cbiAqICA8aW5wdXQgbmFtZT1cImlkLTFcIiAvPlxuICogIDxpbnB1dCBuYW1lPVwiYWRkcmVzcy0xXCIgdmFsdWU9XCIyIEhhcmxleSBzdHJlZXRcIiAvPlxuICogPC9kaXY+XG4gKiAuLi5cbiAqIDxkaXY+XG4gKiAgPGlucHV0IG5hbWU9XCJpZC1uXCIgLz5cbiAqICA8aW5wdXQgbmFtZT1cImFkZHJlc3MtblwiIHZhbHVlPVwiMzUgcnVlIGNoYW1wcyDDqWx5c8OpZXNcIiAvPlxuICogPC9kaXY+XG4gKiBgYGBcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGZvcm1FeHRyYWN0b3IodGFyZ2V0LCBbXCJpZFwiXSk7XG4gKiAvLyBbXG4gKiAvLyAge2lkOiBcIjFcIiwgYWRkcmVzczogXCIyIEhhcmxleSBzdHJlZXRcIn0sXG4gKiAvLyAgLi4uLFxuICogLy8gIHtpZDogXCJuXCIsIGFkZHJlc3M6IFwiMzUgcnVlIGNoYW1wcyDDqWx5c8OpZXNcIn1cbiAqIC8vIF1cbiAqIGBgYFxuICpcbiAqIEByZXR1cm5zIHtGb3JtRXh0cmFjdG9yRGF0YX0gRm9ybUV4dHJhY29yRGF0YVxuICovXG5leHBvcnQgY29uc3QgZm9ybUV4dHJhY3RvciA9ICh0YXJnZXQsIG5hbWUpID0+IHtcbiAgICAvLyBHZXQgYWxsIHRoZSBkYXRhIGZyb20gdGhlIGZvcm1cbiAgICBjb25zdCBmb3JtRGF0YSA9IGdldEZvcm1EYXRhKHRhcmdldCk7XG4gICAgLy8gU2ltcGx5IGNoZWNrIGlmIHRoZXJlIGlzIG5vIGlkIGZvciBlYWNoIGZvcm1EYXRhXG4gICAgaWYgKGZvcm1EYXRhW25hbWVdICE9IG51bGwpXG4gICAgICAgIHJldHVybiBbZm9ybURhdGFdO1xuICAgIC8vIEVhY2ggZm9ybURhdGEgaXMgc3BlY2lmaWMgdG8gYW4gaWRcbiAgICBjb25zdCB2YWx1ZXMgPSBPYmplY3QuZW50cmllcyhmb3JtRGF0YSk7XG4gICAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHtcbiAgICAgICAgY29uc3Qga2V5ID0gY3VyclswXTtcbiAgICAgICAgY29uc3QgW2F0dHIsIGlkXSA9IHNlcGVyYXRlQW5kS2VlcElkcyhba2V5XSlbMF07XG4gICAgICAgIGNvbnN0IGVsZW0gPSBwcmV2LmZpbmQoKGVsZW0pID0+IGVsZW1bbmFtZV0gPT0gaWQpO1xuICAgICAgICBsZXQgcGFyc2VJZCA9IGlkO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGFyc2VJZCA9IHBhcnNlSW50KGlkKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgIGlmIChlbGVtKVxuICAgICAgICAgICAgZWxlbVthdHRyXSA9IGN1cnJbMV07XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHByZXYucHVzaCh7IFtuYW1lXTogcGFyc2VJZCwgW2F0dHJdOiBjdXJyWzFdIH0pO1xuICAgICAgICByZXR1cm4gcHJldjtcbiAgICB9LCBbXSk7XG59O1xuLyoqXG4gKiBSZWdyb3VwIHN0cmluZ3MgYmFzZWQgb24gdGhlaXIgaWRzIHJlcHJlc2VudGVkIGJ5IHRoZSBsYXN0IHNlcGVyYXRpb24gb2YgdGhlIHN0cmluZ1xuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogc2VwZXJhdGVBbmRLZWVwSWRzKFwiaGVsbG9Xb3JsZDVcIixcImhlbGxvLXdvcmxkNlwiLCBcImhlbGxvV29ybGQ3XCIsIFwiaGVsbG9Xb3JsZFwiKTtcbiAqIC8vIFtbXCJoZWxsb1dvcmxkXCIsIFwiNVwiXSwgW1wiaGVsbG8td29ybGRcIiwgXCI2XCJdLCBbXCJoZWxsb1dvcmxkXCIsIFwiN1wiXSwgW1wiaGVsbG9cIiwgXCJXb3JsZFwiXV1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdHJzIFRoZSBzdHJpbmcgYXJyYXkgdG8gc2VhcmNoIGZvciBpZHMgYW5kIHJlZ3JvdXAgYWxsIGF0dHJpYnV0ZXMgd2l0aCB0aGUgc2FtZSBpZHNcbiAqIEByZXR1cm5zIEFuZCBhcnJheSBvZiBhcnJheXMgZWFjaCBjb250YWluaW5nIHRoZSBwYXJzZWQgbmFtZSBhbmQgaWQgb2YgdGhlIHN0cmluZ1xuICovXG5leHBvcnQgY29uc3Qgc2VwZXJhdGVBbmRLZWVwSWRzID0gKHN0cnMpID0+IHtcbiAgICByZXR1cm4gc2VwZXJhdGUoc3RycykubWFwKCh2KSA9PiB7XG4gICAgICAgIGNvbnN0IHNlcGVyYXRlZCA9IHZbMV07XG4gICAgICAgIGNvbnN0IGlkID0gc2VwZXJhdGVkW3NlcGVyYXRlZC5sZW5ndGggLSAxXTtcbiAgICAgICAgcmV0dXJuIFt2WzBdLnJlcGxhY2UobmV3IFJlZ0V4cChgKC18Xyk/JHtpZH0kYCksICcnKSwgaWRdO1xuICAgIH0pO1xufTtcbi8qKlxuICogVGhpcyBmdW5jdGlvbiBzZXBlcmF0ZXMgc3RyaW5ncyBiYXNlZCBvbiBzcGVjaWFsIGNoYXJhY3RlcnMgLyBjYXNlXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBzZXBlcmF0ZShbXCJoZWxsby13b3JsZFwiLCBcImhlbGxvV29ybGQyXCIsIFwiaGVsbG9fd29ybGRfMlwiXSlcbiAqIC8vIFtcbiAqIC8vICAgW1wiaGVsbG8td29ybGRcIiwgW1wiaGVsbG9cIixcIndvcmxkXCJdXSxcbiAqIC8vICAgW1wiaGVsbG9Xb3JsZDJcIiwgW1wiaGVsbG9cIixcIndvcmxkXCIsIFwiMlwiXV0sXG4gKiAvLyAgIFtcImhlbGxvX3dvcmxkXzJcIiwgW1wiaGVsbG9cIiwgXCJ3b3JsZFwiLCBcIjJcIl1dXG4gKiAvLyBdXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3RycyBUaGUgc3RyaW5nIGFycmF5IHRvIHRyeSBzZXBlcmF0ZVxuICogQHJldHVybnMgQW4gYXJyYXkgb2YgYXJyYXlzIHdpdGggdGhlIGlucHV0IC8gb3V0cHV0IHN0cmluZ3NcbiAqL1xuZXhwb3J0IGNvbnN0IHNlcGVyYXRlID0gKHN0cnMpID0+IHtcbiAgICByZXR1cm4gc3Rycy5tYXAoKHN0cikgPT4ge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgc3RyLFxuICAgICAgICAgICAgc3RyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhbMC05XSspLywgJyAkMScpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLygtfF8pL2csICcgJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvKFtBLVpdKS9nLCAnICQxJylcbiAgICAgICAgICAgICAgICAudHJpbSgpXG4gICAgICAgICAgICAgICAgLnRvTG9jYWxlTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAuc3BsaXQoJyAnKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKHMpID0+IHMgIT0gJycpLFxuICAgICAgICBdO1xuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBnZXRQYXRoVGFpbCA9IChkYXRhLCB0eXBlLCBuYW1lLCBwYXRoVGFpbCkgPT4ge1xuICAgIGNvbnN0IGlkID0gZGF0YVtuYW1lXTtcbiAgICBpZiAodHlwZSA9PSAncGF0aCcgJiYgaWQgIT0gJycgJiYgaWQgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuICAgIHJldHVybiBwYXRoVGFpbCA/PyAnJztcbn07XG5leHBvcnQgY29uc3QgdXNlRm9yY2VVcGRhdGUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHVzZVJlZHVjZXIoKCkgPT4gKHt9KSwge30pWzFdO1xufTtcbiIsImltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnNhZmUtZmluYWxseSAqL1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL2luZGV4Lm1vZHVsZS5zY3NzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5jbGFzcyBFcnJvckJvdW5kYXJ5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBzdGF0ZSA9IHtcbiAgICAgICAgaGFzRXJyb3I6IGZhbHNlLFxuICAgICAgICBlcnJvcjogeyBlOiB1bmRlZmluZWQsIGluZm86IHVuZGVmaW5lZCB9LFxuICAgIH07XG4gICAgY29tcG9uZW50RGlkQ2F0Y2ggPSAoZSwgaW5mbykgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaGFzRXJyb3I6IHRydWUsIGVycm9yOiB7IGUsIGluZm8gfSB9KTtcbiAgICB9O1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBjaGlsZHJlbiB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgeyBoYXNFcnJvciwgZXJyb3IgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGlmICghaGFzRXJyb3IpXG4gICAgICAgICAgICByZXR1cm4gX2pzeChSZWFjdC5GcmFnbWVudCwgeyBjaGlsZHJlbjogY2hpbGRyZW4gfSk7XG4gICAgICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IHN0eWxlcy5tYWluLCBjaGlsZHJlbjogW19qc3goXCJkaXZcIiwgeyBjaGlsZHJlbjogZXJyb3I/LmU/Lm1lc3NhZ2UgfSksIF9qc3goXCJoclwiLCB7fSksIF9qc3goXCJkaXZcIiwgeyBjaGlsZHJlbjogZXJyb3I/LmluZm8/LmNvbXBvbmVudFN0YWNrIH0pXSB9KSk7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgRXJyb3JCb3VuZGFyeTtcbiIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IGRlZmF1bHQge1wibWFpblwiOlwiU0lBcHhRelFsWnAwTDFnTjBfUVdcIn07IiwiaW1wb3J0IHsgcmVxdWVzdCwgfSBmcm9tICcuLi8uLi8uLi91dGlscy9hcGknO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmNvbnN0IHF1ZXJ5T3B0aW9uc0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgICBkb21haW46ICcnLFxuICAgIHBhcmFtZXRlclR5cGU6ICdwYXRoJyxcbiAgICBtb2RlOiAncHJvZHVjdGlvbicsXG4gICAgdmVyYm9zaXR5OiAxLFxuICAgIGlkTmFtZTogJ2lkJyxcbn0pO1xuZXhwb3J0IGNvbnN0IHVzZVF1ZXJ5T3B0aW9ucyA9ICgpID0+IHtcbiAgICBjb25zdCBjdHggPSB1c2VDb250ZXh0KHF1ZXJ5T3B0aW9uc0NvbnRleHQpO1xuICAgIGlmICghY3R4KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjb250ZXh0IGZvciAndXNlUXVlcnlPcHRpb25zJ1wiKTtcbiAgICBpZiAoIWN0eC5pZE5hbWUpXG4gICAgICAgIGN0eC5pZE5hbWUgPSAnaWQnO1xuICAgIHJldHVybiBjdHg7XG59O1xuZXhwb3J0IGNvbnN0IHVzZVJlcXVlc3QgPSAoclJlc3QgPSB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbn0pID0+IHtcbiAgICBjb25zdCB7IGxvYWRlciwgLi4ucVJlc3QgfSA9IHVzZVF1ZXJ5T3B0aW9ucygpO1xuICAgIGNvbnN0IG1lcmdlZCA9IE9iamVjdC5tZXJnZShyUmVzdCwgcVJlc3QpO1xuICAgIHJldHVybiAocGF0aCwgb3B0aW9ucyA9IHsgbWV0aG9kOiAnR0VUJyB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZG9tYWluLCAuLi5yZXR1cm5NZXJnZWQgfSA9IE9iamVjdC5tZXJnZShtZXJnZWQsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcmVxdWVzdChkb21haW4sIHBhdGgsIHJldHVybk1lcmdlZCk7XG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgUXVlcnlPcHRpb25zUHJvdmlkZXIgPSBxdWVyeU9wdGlvbnNDb250ZXh0LlByb3ZpZGVyO1xuIiwiaW1wb3J0IHsganN4IGFzIF9qc3gsIEZyYWdtZW50IGFzIF9GcmFnbWVudCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuaW1wb3J0IHsgcmVxdWVzdCwgfSBmcm9tICcuLi8uLi8uLi91dGlscy9hcGknO1xuaW1wb3J0IHsgcmVxdWVzdExvZyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2xvZyc7XG5pbXBvcnQgRXJyb3JCb3VuZGFyeSBmcm9tICcuLi9FcnJvckJvdW5kYXJ5JztcbmltcG9ydCB7IHVzZVF1ZXJ5T3B0aW9ucyB9IGZyb20gJy4uL1F1ZXJ5T3B0aW9uc1Byb3ZpZGVyJztcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuZXhwb3J0IGNvbnN0IHVzZVF1ZXJ5ID0gKHsgcXVlcnksIGRlbGF5LCBvblJlYWQsIHJlcXVlc3RPcHRpb25zID0ge30sIH0pID0+IHtcbiAgICAvLyBUaGUgZGVmYXVsdCBkYXRhL2xvYWQvZXJyb3IgdHJpcGxlXG4gICAgY29uc3QgW2RhdGFMb2FkRXJyLCBzZXREYXRhTG9hZEVycl0gPSB1c2VTdGF0ZSh7XG4gICAgICAgIGRhdGE6IHVuZGVmaW5lZCxcbiAgICAgICAgbG9hZGluZzogdHJ1ZSxcbiAgICAgICAgZXJyb3I6IHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgICBjb25zdCBvcHRpb25zID0gT2JqZWN0Lm1lcmdlKHVzZVF1ZXJ5T3B0aW9ucygpLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgY29uc3QgeyBkb21haW4sIG1vZGUsIHZlcmJvc2l0eSB9ID0gb3B0aW9ucztcbiAgICBjb25zdCByZXEgPSAocGF0aCwgb3B0aW9ucykgPT4gcmVxdWVzdChkb21haW4sIHBhdGgsIG9wdGlvbnMpO1xuICAgIGNvbnN0IFtjb250cm9sbGVyLCBzZXRDb250cm9sbGVyXSA9IHVzZVN0YXRlKCk7XG4gICAgY29uc3QgW3JlZnJlc2gsIHNldFJlZnJlc2hdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IG1hbnVhbFVwZGF0ZSA9IHVzZUNhbGxiYWNrKChkYXRhKSA9PiBzZXREYXRhTG9hZEVycih7XG4gICAgICAgIGRhdGEsXG4gICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICBlcnJvcjogdW5kZWZpbmVkLFxuICAgIH0pLCBbXSk7XG4gICAgLy8gQ2hlY2sgaWYgdGhlIHF1ZXJ5IHByb3AgaGFzIGNoYW5nZWRcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICByZXF1ZXN0TG9nKG1vZGUsIHZlcmJvc2l0eSwgOCwgYFtyZWFkXVske3F1ZXJ5fV1gLCBgJHtkb21haW59LyR7cXVlcnl9YCk7XG4gICAgICAgIGNvbnRyb2xsZXI/LmFib3J0KCk7XG4gICAgICAgIGNvbnN0IGN0cmwgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHNpZ25hbCwgLi4ub3RoZXJzIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgcmVxKHF1ZXJ5LCB7XG4gICAgICAgICAgICAgICAgc2lnbmFsOiBjdHJsLnNpZ25hbCxcbiAgICAgICAgICAgICAgICAuLi5vdGhlcnMsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldERhdGFMb2FkRXJyKHsgZGF0YTogcmVzLCBsb2FkaW5nOiBmYWxzZSwgZXJyb3I6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgb25SZWFkPy4ocmVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0RGF0YUxvYWRFcnIoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZGVsYXkgPz8gMCk7XG4gICAgICAgIHNldENvbnRyb2xsZXIoY3RybCk7XG4gICAgICAgIHNldERhdGFMb2FkRXJyKHsgZGF0YTogdW5kZWZpbmVkLCBsb2FkaW5nOiB0cnVlLCBlcnJvcjogdW5kZWZpbmVkIH0pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY3RybD8uYWJvcnQoKTtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIH07XG4gICAgfSwgW3F1ZXJ5LCByZWZyZXNoXSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZGF0YUxvYWRFcnIsXG4gICAgICAgIG1hbnVhbFVwZGF0ZSxcbiAgICAgICAgZm9yY2VSZWZyZXNoOiAoKSA9PiBzZXRSZWZyZXNoKCFyZWZyZXNoKSxcbiAgICB9O1xufTtcbi8qKlxuICogVGhlIHF1ZXJ5IGNvbXBvbmVudCBpcyBhIGZldGNoIHdyYXBwZXIgdGhhdCBhbGxvd3MgdG8gZGlyZWN0bHkgYWRkIGxvZ2ljIGluIHRoZSBkZXNpZ24gb2YgdGhlIHJlYWN0IERPTSBhcmNoaXRlY3R1cmVcbiAqL1xuZXhwb3J0IGNvbnN0IFF1ZXJ5ID0gKHsgY2hpbGRyZW4sIC4uLnFSZXN0IH0pID0+IHtcbiAgICBjb25zdCB7IGxvYWRlciB9ID0gdXNlUXVlcnlPcHRpb25zKCk7XG4gICAgY29uc3QgeyBsb2FkaW5nLCAuLi5xRGF0YSB9ID0gdXNlUXVlcnkocVJlc3QpO1xuICAgIC8vIEFsd2F5cyBjYWxsIHRvIG1haW50YWluIHRoZSBob29rc1xuICAgIGNvbnN0IHJlbmRlciA9IGNoaWxkcmVuKHsgbG9hZGluZywgLi4ucURhdGEgfSk7XG4gICAgcmV0dXJuIChfanN4KEVycm9yQm91bmRhcnksIHsgY2hpbGRyZW46IGxvYWRpbmcgJiYgbG9hZGVyICYmIGxvYWRlci5hdXRvbG9hZCA/IChfanN4KF9GcmFnbWVudCwgeyBjaGlsZHJlbjogbG9hZGVyLmxvYWRlciA/PyBfanN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IFwiTG9hZGluZyBkYXRhLi4uXCIgfSkgfSkpIDogKHJlbmRlcikgfSkpO1xufTtcbiIsImltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgeyByZXF1ZXN0IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvYXBpJztcbmltcG9ydCB7IHJlcXVlc3RMb2cgfSBmcm9tICcuLi8uLi8uLi91dGlscy9sb2cnO1xuaW1wb3J0IHsgZm9ybUV4dHJhY3RvciwgZ2V0Rm9ybURhdGEsIGdldFBhdGhUYWlsLCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3V0aWwnO1xuaW1wb3J0IEVycm9yQm91bmRhcnkgZnJvbSAnLi4vRXJyb3JCb3VuZGFyeSc7XG5pbXBvcnQgeyBRdWVyeSB9IGZyb20gJy4uL1F1ZXJ5JztcbmltcG9ydCB7IHVzZVF1ZXJ5T3B0aW9ucyB9IGZyb20gJy4uL1F1ZXJ5T3B0aW9uc1Byb3ZpZGVyJztcbmltcG9ydCBlcXVhbCBmcm9tICdmYXN0LWRlZXAtZXF1YWwnO1xuaW1wb3J0IHsgRnJhZ21lbnQsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0Jztcbi8qKlxuICogVGhpcyBjb21wb25lbnQgaXMgdXNlZCB0byBzaW1wbGlmeSBgQ1JVRGAgb3BlcmF0aW9ucy5cbiAqIFlvdSBnaXZlIGl0IHRoZSBgZW5kcG9pbnQocylgIHRvIHdoaWNoIHlvdSB3YW50IHRvIGRvIHJlcXVlc3RzIGFuZCBpdCB3aWxsIGhhbmRsZVxuICogYWxsIG9mIHRoZSB0YXNrcyBpbiB0aGUgYmFja2dyb3VuZCBhbmQgdXBkYXRlIHRoZSBzdGF0ZSBvZiB0aGUgdmFyaWFibGVzXG4gKiBpdCBnaXZlcyB5b3UgZnJvbSB0aGUgY2hpbGQgZnVuY3Rpb24uXG4gKlxuICogTWFrZSBzdXJlIHRvIGRlZmluZSB0aGUgUXVlcnlPcHRpb25zIHBhcmFtIHdpdGggdGhlIGBRdWVyeU9wdGlvbnNQcm92aWRlcmAgY29tcG9uZW50XG4gKlxuICogR28gdG8gdGhlIFtleGFtcGxlcyBkaXJlY3RvcnldKGh0dHBzOi8vYml0YnVja2V0Lm9yZy9uZW92aXNpb24vcmVhY3QtcXVlcnkvc3JjL21hc3Rlci9zcmMvZXhhbXBsZXMpIHRvIHNlZSBleGFtcGxlc1xuICovXG5jb25zdCBDUlVEID0gKHsgY2hpbGRyZW4sIGVuZFBvaW50cywgb25DcmVhdGVkLCBvblJlYWQsIG9uVXBkYXRlZCwgb25EZWxldGVkLCBkZWxheSwgdHlwZSA9ICdhcnJheScsIH0pID0+IHtcbiAgICBjb25zdCBbY3JlYXRlRW5kcG9pbnQsIHJlYWRFbmRwb2ludCwgdXBkYXRlRW5kcG9pbnQsIGRlbGV0ZUVuZHBvaW50XSA9IHR5cGVvZiBlbmRQb2ludHMgPT0gJ3N0cmluZydcbiAgICAgICAgPyBuZXcgQXJyYXkoNCkuZmlsbChlbmRQb2ludHMpXG4gICAgICAgIDogW2VuZFBvaW50cy5jcmVhdGUsIGVuZFBvaW50cy5yZWFkLCBlbmRQb2ludHMudXBkYXRlLCBlbmRQb2ludHMuZGVsZXRlXTtcbiAgICBjb25zdCB7IHBhcmFtZXRlclR5cGUsIGRvbWFpbiwgaGVhZGVycywgbW9kZSwgdmVyYm9zaXR5LCBpZE5hbWUgfSA9IHVzZVF1ZXJ5T3B0aW9ucygpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJlcXVlc3RMb2cobW9kZSwgdmVyYm9zaXR5LCA1LCBgW2VuZHBvaW50c11gLCBgW0NdJHtjcmVhdGVFbmRwb2ludH1gLCBgW1JdJHtyZWFkRW5kcG9pbnR9YCwgYFtVXSR7dXBkYXRlRW5kcG9pbnR9YCwgYFtEXSR7ZGVsZXRlRW5kcG9pbnR9YCk7XG4gICAgfSwgW2NyZWF0ZUVuZHBvaW50LCByZWFkRW5kcG9pbnQsIHVwZGF0ZUVuZHBvaW50LCBkZWxldGVFbmRwb2ludF0pO1xuICAgIHJldHVybiAoX2pzeChFcnJvckJvdW5kYXJ5LCB7IGNoaWxkcmVuOiBfanN4KFF1ZXJ5LCB7IHF1ZXJ5OiBgJHtyZWFkRW5kcG9pbnR9YCwgZGVsYXk6IGRlbGF5LCBvblJlYWQ6IG9uUmVhZCwgY2hpbGRyZW46ICh7IGRhdGEsIGxvYWRpbmcsIGVycm9yLCBtYW51YWxVcGRhdGUsIGZvcmNlUmVmcmVzaCB9KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChfanN4KEZyYWdtZW50LCB7IGNoaWxkcmVuOiBjaGlsZHJlbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDcmVhdGU6IChlLCBwYXJhbXMgPSB7IG1ldGhvZDogJ1BPU1QnIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtZXRob2QgPSAnUE9TVCcsIHBhdGhUYWlsIH0gPSBwYXJhbXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBnZXRGb3JtRGF0YShlLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBgJHtjcmVhdGVFbmRwb2ludH0vJHtwYXRoVGFpbCA/IGAke3BhdGhUYWlsfS9gIDogJyd9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0TG9nKG1vZGUsIHZlcmJvc2l0eSwgMSwgYFtjcmVhdGVdWyR7bWV0aG9kfV1gLCBgJHtkb21haW59LyR7ZW5kcG9pbnR9YCwgZm9ybURhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0KGRvbWFpbiwgZW5kcG9pbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZm9ybURhdGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGNyZWF0ZWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFudWFsVXBkYXRlPy4oWy4uLmRhdGEsIGNyZWF0ZWRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DcmVhdGVkPy4oKSAmJiBmb3JjZVJlZnJlc2g/LigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycmV1ciBkZSBjcsOpYXRpb25gLCBgVW5lIGVycmV1ciBlc3Qgc3VydmVudSBsb3JzIGRlIGxhIGNyw6lhdGlvbiBkYW5zIGxhIGJhc2UgZGUgZG9ubsOpZXNgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkOiB7IGRhdGEsIGxvYWRpbmcsIGVycm9yIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVVcGRhdGU6IChlLCBwYXJhbXMgPSB7IG1ldGhvZDogJ1BVVCcsIG5hbWU6IGlkTmFtZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbWV0aG9kID0gJ1BVVCcsIHBhdGhUYWlsLCBuYW1lID0gaWROYW1lIH0gPSBwYXJhbXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybURhdGFzID0gZm9ybUV4dHJhY3RvcihlLnRhcmdldCwgbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0RhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gJ2FycmF5JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YSA9IFsuLi5kYXRhXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGEgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGFzLmZvckVhY2goKGZvcm1EYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhaWwgPSBnZXRQYXRoVGFpbChmb3JtRGF0YSwgcGFyYW1ldGVyVHlwZSwgbmFtZSwgcGF0aFRhaWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGAke3VwZGF0ZUVuZHBvaW50fS8ke3RhaWwgPyBgJHt0YWlsfS9gIDogJyd9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhhc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBuZXdEYXRhLmZpbmRJbmRleCgodmFsKSA9PiB2YWxbbmFtZV0gPT0gdGFpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVyZ2VkRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ubmV3RGF0YVtpbmRleF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmZvcm1EYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ2hhbmdlZCA9ICFlcXVhbChuZXdEYXRhW2luZGV4XSwgbWVyZ2VkRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YVtpbmRleF0gPSBtZXJnZWREYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGEucHVzaChmb3JtRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNDaGFuZ2VkID0gIWVxdWFsKG5ld0RhdGEsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YSA9IHsgLi4ubmV3RGF0YSwgLi4uZm9ybURhdGEgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdExvZyhtb2RlLCB2ZXJib3NpdHksIDEsIGBbdXBkYXRlXVske21ldGhvZH1dYCwgYCR7ZG9tYWlufS8ke2VuZHBvaW50fWAsIGZvcm1EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2gocmVxdWVzdChkb21haW4sIGVuZHBvaW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZm9ybURhdGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW51YWxVcGRhdGU/LihuZXdEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25VcGRhdGVkPy4oKSAmJiBmb3JjZVJlZnJlc2g/LigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZURlbGV0ZTogKGUsIHBhcmFtcyA9IHsgbWV0aG9kOiAnREVMRVRFJywgbmFtZTogaWROYW1lIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlPy5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGU/LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbWV0aG9kID0gJ0RFTEVURScsIHBhdGhUYWlsLCBuYW1lID0gaWROYW1lLCBpZCwgfSA9IHBhcmFtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWlsID0gZ2V0UGF0aFRhaWwoeyBbbmFtZV06IGlkPy50b1N0cmluZygpID8/ICcnIH0sIHBhcmFtZXRlclR5cGUsIG5hbWUsIHBhdGhUYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGAke2RlbGV0ZUVuZHBvaW50fS8ke3RhaWwgPyBgJHt0YWlsfS9gIDogJyd9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0TG9nKG1vZGUsIHZlcmJvc2l0eSwgMSwgYFtkZWxldGVdWyR7bWV0aG9kfV1gLCBgJHtkb21haW59LyR7ZW5kcG9pbnR9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QoZG9tYWluLCBlbmRwb2ludCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IHBhcmFtZXRlclR5cGUgPT0gJ3BhdGgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IEpTT04uc3RyaW5naWZ5KGdldEZvcm1EYXRhKGUudGFyZ2V0KSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZGF0YS5maW5kSW5kZXgoKHZhbCkgPT4gdmFsW25hbWVdID09IGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGVkRGF0YSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0TG9nKG1vZGUsIHZlcmJvc2l0eSwgMywgYFJlbW92aW5nIGluZGV4ICR7aW5kZXh9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdBcnIgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udHlwZWREYXRhLnNsaWNlKDAsIGluZGV4KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50eXBlZERhdGEuc2xpY2UoaW5kZXggKyAxLCB0eXBlZERhdGEubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0TG9nKG1vZGUsIHZlcmJvc2l0eSwgNCwgYEFycmF5IHVwZGF0ZWRgLCBuZXdBcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFudWFsVXBkYXRlPy4obmV3QXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbnVhbFVwZGF0ZT8uKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRGVsZXRlZD8uKCkgJiYgZm9yY2VSZWZyZXNoPy4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sIGZvcmNlUmVmcmVzaCkgfSkpO1xuICAgICAgICAgICAgfSB9KSB9KSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgQ1JVRDtcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzE1Nl9fIiwiZXF1YWwiLCJhIiwiYiIsImNvbnN0cnVjdG9yIiwibGVuZ3RoIiwiaSIsImtleXMiLCJBcnJheSIsImlzQXJyYXkiLCJSZWdFeHAiLCJzb3VyY2UiLCJmbGFncyIsInZhbHVlT2YiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImtleSIsImYiLCJrIiwiU3ltYm9sIiwiZm9yIiwibCIsIm0iLCJuIiwiX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQiLCJSZWFjdEN1cnJlbnRPd25lciIsInAiLCJyZWYiLCJfX3NlbGYiLCJfX3NvdXJjZSIsInEiLCJjIiwiZyIsImQiLCJlIiwiaCIsImRlZmF1bHRQcm9wcyIsIiQkdHlwZW9mIiwidHlwZSIsInByb3BzIiwiX293bmVyIiwiY3VycmVudCIsIkZyYWdtZW50IiwianN4IiwianN4cyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZGVmaW5pdGlvbiIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwiciIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJyZXF1ZXN0TG9nIiwibW9kZSIsInBhcmFtVmVyYm9zaXR5IiwibGltaXRWZXJib3NpdHkiLCJzIiwiY29uc29sZSIsImxvZyIsInF1ZXJ5V2FybiIsIndhcm4iLCJyZXF1ZXN0IiwiZG9tYWluIiwicGF0aCIsIm9wdGlvbnMiLCJtZXRob2QiLCJoZWFkZXJzIiwib25SZWplY3RlZCIsInJlc3QiLCJyZXEiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsInRleHQiLCJ0IiwiaW5jbHVkZXMiLCJKU09OIiwicGFyc2UiLCJyZXF1ZXN0V2FybiIsImVycm9yIiwicXVlcnlFcnJvciIsInVybCIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJQcm9taXNlIiwicmVqZWN0IiwiY2F0Y2giLCJlcnIiLCJuYW1lIiwiRXJyb3IiLCJtZXNzYWdlIiwiZ2V0Rm9ybURhdGEiLCJ0YXJnZXQiLCJ0eXBlZFRhcmdldCIsIm1hcCIsImZpbHRlciIsInYiLCJ0YWciLCJ0YWdOYW1lIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJyZWR1Y2UiLCJhY2MiLCJjdXIiLCJjaGVja2VkIiwicmVxdWlyZWQiLCJpc0NoZWNrYm94IiwiZmluYWxWYWx1ZSIsIk51bWJlciIsInNlcGVyYXRlIiwic3RycyIsInN0ciIsInJlcGxhY2UiLCJ0cmltIiwic3BsaXQiLCJnZXRQYXRoVGFpbCIsImRhdGEiLCJwYXRoVGFpbCIsImlkIiwiRXJyb3JCb3VuZGFyeSIsIlJlYWN0Iiwic3RhdGUiLCJoYXNFcnJvciIsImluZm8iLCJjb21wb25lbnREaWRDYXRjaCIsInRoaXMiLCJzZXRTdGF0ZSIsInJlbmRlciIsImNoaWxkcmVuIiwiX2pzeHMiLCJjbGFzc05hbWUiLCJfanN4IiwiY29tcG9uZW50U3RhY2siLCJxdWVyeU9wdGlvbnNDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsInBhcmFtZXRlclR5cGUiLCJ2ZXJib3NpdHkiLCJpZE5hbWUiLCJ1c2VRdWVyeU9wdGlvbnMiLCJjdHgiLCJ1c2VDb250ZXh0IiwidXNlUmVxdWVzdCIsInJSZXN0IiwibG9hZGVyIiwicVJlc3QiLCJtZXJnZWQiLCJtZXJnZSIsInJldHVybk1lcmdlZCIsIlF1ZXJ5T3B0aW9uc1Byb3ZpZGVyIiwiUHJvdmlkZXIiLCJ1c2VRdWVyeSIsInF1ZXJ5IiwiZGVsYXkiLCJvblJlYWQiLCJyZXF1ZXN0T3B0aW9ucyIsImRhdGFMb2FkRXJyIiwic2V0RGF0YUxvYWRFcnIiLCJ1c2VTdGF0ZSIsImxvYWRpbmciLCJjb250cm9sbGVyIiwic2V0Q29udHJvbGxlciIsInJlZnJlc2giLCJzZXRSZWZyZXNoIiwibWFudWFsVXBkYXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJhYm9ydCIsImN0cmwiLCJBYm9ydENvbnRyb2xsZXIiLCJ0aW1lb3V0Iiwid2luZG93Iiwic2V0VGltZW91dCIsInNpZ25hbCIsIm90aGVycyIsImNsZWFyVGltZW91dCIsImZvcmNlUmVmcmVzaCIsIlF1ZXJ5IiwicURhdGEiLCJhdXRvbG9hZCIsIl9GcmFnbWVudCIsImVuZFBvaW50cyIsIm9uQ3JlYXRlZCIsIm9uVXBkYXRlZCIsIm9uRGVsZXRlZCIsImNyZWF0ZUVuZHBvaW50IiwicmVhZEVuZHBvaW50IiwidXBkYXRlRW5kcG9pbnQiLCJkZWxldGVFbmRwb2ludCIsImZpbGwiLCJjcmVhdGUiLCJyZWFkIiwidXBkYXRlIiwiZGVsZXRlIiwiaGFuZGxlQ3JlYXRlIiwicGFyYW1zIiwicHJldmVudERlZmF1bHQiLCJmb3JtRGF0YSIsImVuZHBvaW50IiwiYm9keSIsInN0cmluZ2lmeSIsImNyZWF0ZWQiLCJoYW5kbGVVcGRhdGUiLCJmb3JtRGF0YXMiLCJlbnRyaWVzIiwicHJldiIsImN1cnIiLCJhdHRyIiwic2VwZXJhdGVkIiwiZWxlbSIsImZpbmQiLCJwYXJzZUlkIiwicGFyc2VJbnQiLCJwdXNoIiwiZm9ybUV4dHJhY3RvciIsIm5ld0RhdGEiLCJwcm9taXNlcyIsImZvckVhY2giLCJ0YWlsIiwiaGFzQ2hhbmdlZCIsImluZGV4IiwiZmluZEluZGV4IiwidmFsIiwibWVyZ2VkRGF0YSIsImFsbCIsImhhbmRsZURlbGV0ZSIsInN0b3BQcm9wYWdhdGlvbiIsInR5cGVkRGF0YSIsIm5ld0FyciIsInNsaWNlIl0sInNvdXJjZVJvb3QiOiIifQ==