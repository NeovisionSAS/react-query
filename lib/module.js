/*! For license information please see module.js.LICENSE.txt */
!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("react")):"function"==typeof define&&define.amd?define(["react"],r):"object"==typeof exports?exports["react-query"]=r(require("react")):e["react-query"]=r(e.react)}(self,(e=>(()=>{"use strict";var r={63:e=>{e.exports=function e(r,t){if(r===t)return!0;if(r&&t&&"object"==typeof r&&"object"==typeof t){if(r.constructor!==t.constructor)return!1;var o,n,a;if(Array.isArray(r)){if((o=r.length)!=t.length)return!1;for(n=o;0!=n--;)if(!e(r[n],t[n]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if((o=(a=Object.keys(r)).length)!==Object.keys(t).length)return!1;for(n=o;0!=n--;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;for(n=o;0!=n--;){var s=a[n];if(!e(r[s],t[s]))return!1}return!0}return r!=r&&t!=t}},251:(e,r,t)=>{var o=t(156),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,d=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,r,t){var o,a={},c=null,u=null;for(o in void 0!==t&&(c=""+t),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(u=r.ref),r)s.call(r,o)&&!i.hasOwnProperty(o)&&(a[o]=r[o]);if(e&&e.defaultProps)for(o in r=e.defaultProps)void 0===a[o]&&(a[o]=r[o]);return{$$typeof:n,type:e,key:c,ref:u,props:a,_owner:d.current}}r.Fragment=a,r.jsx=c,r.jsxs=c},893:(e,r,t)=>{e.exports=t(251)},156:r=>{r.exports=e}},t={};function o(e){var n=t[e];if(void 0!==n)return n.exports;var a=t[e]={exports:{}};return r[e](a,a.exports,o),a.exports}o.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return o.d(r,{a:r}),r},o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{o.r(n),o.d(n,{CRUD:()=>O,Query:()=>$,QueryOptionsProvider:()=>g,request:()=>s,useQuery:()=>v,useQueryOptions:()=>m,useRequest:()=>y});var e=o(893);const r=(e,r,t,...o)=>{"development"==e&&t<=r&&console.log("[react-query]",...o)},t=(e,r,t,...o)=>{"development"==e&&t<=r&&console.warn("[react-query]",...o)},a=(...e)=>{console.error("[react-query]",...e)},s=function(e,r,o={method:"GET"}){const{method:n="GET",headers:s,mode:d="production",onRejected:i,...c}=o,u=o=>fetch(`${e}/${r}`,{headers:o,method:n,...c}).then((e=>e.ok?e.text().then((r=>{try{if(e.headers.get("Content-Type")?.includes("application/json"))return JSON.parse(r)}catch(r){t(d,0,0,"Could not parse response to json",e)}return r})):(a(`${e.url} ${e.status} ${e.statusText}`),i?.(e),Promise.reject(e.statusText)))).catch((e=>{if("AbortError"!=e.name)throw a(`${e.url} ${e.status} ${e.statusText}`),i?.(e),new Error(`${e.status} ${e.statusText}`);t(d,0,0,e.message)}));return s?s().then(u):u({})};var d=o(156),i=o.n(d);const c=e=>{const r=e;return Object.keys(e).map((e=>r[e])).filter((e=>{const r=e.tagName?.toLocaleLowerCase?.();return e.name&&("input"==r||"select"==r)})).reduce(((e,r)=>{const{name:t,value:o,checked:n,type:a,required:s}=r,d="checkbox"==a;if(s&&(""==o||null==o))throw new Error(`Can't use an empty value for ${t}`);let i="number"==a?new Number(o).valueOf():o;return{...e,[t]:d?n:i}}),{})},u=e=>e.map((e=>[e,e.replace(/([0-9]+)/," $1").replace(/(-|_)/g," ").replace(/([A-Z])/g," $1").trim().toLocaleLowerCase().split(" ").filter((e=>""!=e))])),l=(e,r,t,o)=>{const n=e[t];return"path"==r&&""!=n&&null!=n?n:o??""};class p extends i().Component{state={hasError:!1,error:{e:void 0,info:void 0}};componentDidCatch=(e,r)=>{console.error(e),this.setState({hasError:!0,error:{e,info:r}})};render(){const{children:r}=this.props,{hasError:t,error:o}=this.state;return t?(0,e.jsxs)("div",{className:"SIApxQzQlZp0L1gN0_QW",children:[(0,e.jsx)("div",{children:o?.e?.message}),(0,e.jsx)("hr",{}),(0,e.jsx)("div",{children:o?.info?.componentStack})]}):(0,e.jsx)(i().Fragment,{children:r})}}const f=p,h=(0,d.createContext)({domain:"",parameterType:"path",mode:"production",verbosity:1,idName:"id"}),m=()=>{const e=(0,d.useContext)(h);if(!e)throw new Error("No context for 'useQueryOptions'");return e.idName||(e.idName="id"),e},y=({method:e="GET",...r}={method:"GET"})=>{const{domain:t,...o}=m();return(e,n={method:"GET"})=>s(t,e,Object.merge(r,o,n))},g=h.Provider,v=({query:e,delay:r,onRead:t,requestOptions:o={},useConfig:n=!0})=>{const[a,i]=(0,d.useState)({data:void 0,loading:!0,error:void 0}),{domain:c="",...u}=o;let l;l=n?y(m()):(e,r)=>s(c,e,r);const[p,f]=(0,d.useState)(),[h,g]=(0,d.useState)(!1),v=(0,d.useCallback)((e=>i({data:e,loading:!1,error:void 0})),[]);return(0,d.useEffect)((()=>{p?.abort();const o=new AbortController,n=window.setTimeout((()=>{const{signal:r,...n}=u;l(e,{signal:r??o.signal,...n}).then((e=>{i({data:e,loading:!1,error:void 0}),t?.(e)})).catch((e=>{i({data:void 0,loading:!1,error:e.toString()})}))}),r??0);return f(o),i({data:void 0,loading:!0,error:void 0}),()=>{o?.abort(),window.clearTimeout(n)}}),[e,h]),{...a,manualUpdate:v,forceRefresh:()=>g(!h)}},$=({children:r,useConfig:t=!0,...o})=>{const{loader:n}=m(),{loading:a,...s}=v({...o,useConfig:t}),d=r({loading:a,...s});return(0,e.jsx)(f,{children:a&&n.autoload?(0,e.jsx)(e.Fragment,{children:n.loader??(0,e.jsx)("div",{children:"Loading data..."})}):d})};var x=o(63),b=o.n(x);const O=({children:t,endPoints:o,onCreated:n,onRead:a,onUpdated:i,onDeleted:p,delay:h,type:y="array"})=>{const[g,v,x,O]="string"==typeof o?new Array(4).fill(o):[o.create,o.read,o.update,o.delete],{parameterType:j,domain:E,requestMiddleware:S,mode:T,verbosity:w,idName:_}=m();return(0,d.useEffect)((()=>{r(T,w,5,"[endpoints]",`[C]${g}`,`[R]${v}`,`[U]${x}`,`[D]${O}`)}),[g,v,x,O]),(0,e.jsx)(f,{children:(0,e.jsx)($,{query:`${v}`,delay:h,onRead:a,children:({data:o,loading:a,error:f,manualUpdate:h,forceRefresh:m})=>(0,e.jsx)(d.Fragment,{children:t({handleCreate:(e,t={method:"POST"})=>{e.preventDefault();const{method:a="POST",pathTail:d}=t,i=c(e.target),u=`${g}/${d?`${d}/`:""}`;return r(T,w,1,`[create][${a}]`,`${E}/${u}`,i),s(E,u,{body:JSON.stringify(i),method:a,headers:S,mode:T}).then((e=>{h?.([...o,e]),n?.()&&m?.()})).catch((()=>{console.error("Erreur de création","Une erreur est survenu lors de la création dans la base de données")}))},read:{data:o,loading:a,error:f},handleUpdate:(e,t={method:"PUT",name:_})=>{e.preventDefault();const{method:n="PUT",pathTail:a,name:d=_}=t,p=((e,r)=>{const t=c(e);return null!=t[r]?[t]:Object.entries(t).reduce(((e,t)=>{const o=t[0],[n,a]=(d=[o],u(d).map((e=>{const r=e[1],t=r[r.length-1];return[e[0].replace(new RegExp(`(-|_)?${t}$`),""),t]})))[0],s=e.find((e=>e[r]==a));var d;let i=a;try{i=parseInt(a)}catch(e){}return s?s[n]=t[1]:e.push({[r]:i,[n]:t[1]}),e}),[])})(e.target,d);let f;f="array"==y?[...o]:o;const g=[];return p.forEach((e=>{const t=l(e,j,d,a),i=`${x}/${t?`${t}/`:""}`;let c=!1;if("array"==y){const r=f.findIndex((e=>e[d]==t));if(null!=r){const t={...f[r],...e};c=!b()(f[r],t),f[r]=t}else f.push(e)}else c=!b()(f,o),f={...f,...e};c&&(r(T,w,1,`[update][${n}]`,`${E}/${i}`,e),g.push(s(E,i,{body:JSON.stringify(e),method:n,headers:S,mode:T})))})),Promise.all(g).then((()=>{h?.(f),i?.()&&m?.()}))},handleDelete:(e,t={method:"DELETE",name:_})=>{e?.preventDefault(),e?.stopPropagation();const{method:n="DELETE",pathTail:a,name:d=_,id:i}=t,u=l({[d]:i?.toString()??""},j,d,a),f=`${O}/${u?`${u}/`:""}`;return r(T,w,1,`[delete][${n}]`,`${E}/${f}`),s(E,f,{method:n,headers:S,mode:T,body:"path"==j?"":JSON.stringify(c(e.target))}).then((()=>{if("array"==y){const e=o.findIndex((e=>e[d]==i)),t=o;r(T,w,3,`Removing index ${e}`);const n=[...t.slice(0,e),...t.slice(e+1,t.length)];r(T,w,4,"Array updated",n),h?.(n)}else h?.(o);p?.()&&m?.()}))}},m)})})})}})(),n})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGlCQUNIN0ssR0FBRzJNLGtCQUNILE1BQU0sT0FBRS9KLEVBQVMsU0FBWCxTQUFxQmtELEVBQXJCLEtBQStCNUIsRUFBT2dELEVBQXRDLEdBQThDbkIsR0FBUTZFLEVBQ3REdUIsRUFBT3ZHLEVBQVksQ0FBRSxDQUFDMUIsR0FBTzZCLEdBQUlwSCxZQUFjLElBQU1xSSxFQUFlOUMsRUFBTTRCLEdBQzFFaUYsRUFBWSxHQUFFWCxLQUFrQitCLEVBQVEsR0FBRUEsS0FBVSxLQUUxRCxPQURBdEssRUFBV0MsRUFBTW1GLEVBQVcsRUFBSSxZQUFXckUsS0FBWSxHQUFFSCxLQUFVc0ksS0FDNUR2SSxFQUFRQyxFQUFRc0ksRUFBVSxDQUM3Qm5JLFNBQ0FDLFFBQVM2SCxFQUNUNUksT0FDQWtKLEtBQXVCLFFBQWpCaEUsRUFDQSxHQUNBeEQsS0FBS3lILFVBQVU1RyxFQUFZckUsRUFBRXNFLFdBQ3BDcEIsTUFBSyxLQUNKLEdBQVksU0FBUjlDLEVBQWlCLENBQ2pCLE1BQU1pTSxFQUFReEcsRUFBS3lHLFdBQVdDLEdBQVFBLEVBQUlySSxJQUFTNkIsSUFDN0M2RyxFQUFZL0csRUFDbEJoRSxFQUFXQyxFQUFNbUYsRUFBVyxFQUFJLGtCQUFpQm9GLEtBQ2pELE1BQU1RLEVBQVMsSUFDUkQsRUFBVUUsTUFBTSxFQUFHVCxNQUNuQk8sRUFBVUUsTUFBTVQsRUFBUSxFQUFHTyxFQUFVNU8sU0FFNUM2RCxFQUFXQyxFQUFNbUYsRUFBVyxFQUFJLGdCQUFnQjRGLEdBQ2hEbEUsSUFBZWtFLFFBR2ZsRSxJQUFlOUMsR0FFbkJtRSxPQUFpQlQsV0FHMUJBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vbm9kZV9tb2R1bGVzL2Zhc3QtZGVlcC1lcXVhbC9pbmRleC5qcyIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL25vZGVfbW9kdWxlcy9yZWFjdC9janMvcmVhY3QtanN4LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9ub2RlX21vZHVsZXMvcmVhY3QvanN4LXJ1bnRpbWUuanMiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvZXh0ZXJuYWwgdW1kIFwicmVhY3RcIiIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL3V0aWxzL2xvZy50cyIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL3NyYy91dGlscy9hcGkudHMiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvdXRpbHMvdXRpbC50cyIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL3NyYy9jb21wb25lbnRzL3V0aWxzL0Vycm9yQm91bmRhcnkvaW5kZXgudHN4Iiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL2NvbXBvbmVudHMvdXRpbHMvRXJyb3JCb3VuZGFyeS9pbmRleC5tb2R1bGUuc2Nzcz82OTk5Iiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL2NvbXBvbmVudHMvdXRpbHMvUXVlcnlPcHRpb25zUHJvdmlkZXIvaW5kZXgudHN4Iiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL2NvbXBvbmVudHMvdXRpbHMvUXVlcnkvaW5kZXgudHN4Iiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL2NvbXBvbmVudHMvdXRpbHMvQ1JVRC9pbmRleC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wicmVhY3RcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wicmVhY3QtcXVlcnlcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wicmVhY3QtcXVlcnlcIl0gPSBmYWN0b3J5KHJvb3RbXCJyZWFjdFwiXSk7XG59KShzZWxmLCAoX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMTU2X18pID0+IHtcbnJldHVybiAiLCIndXNlIHN0cmljdCc7XG5cbi8vIGRvIG5vdCBlZGl0IC5qcyBmaWxlcyBkaXJlY3RseSAtIGVkaXQgc3JjL2luZGV4LmpzdFxuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlcXVhbChhLCBiKSB7XG4gIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTtcblxuICBpZiAoYSAmJiBiICYmIHR5cGVvZiBhID09ICdvYmplY3QnICYmIHR5cGVvZiBiID09ICdvYmplY3QnKSB7XG4gICAgaWYgKGEuY29uc3RydWN0b3IgIT09IGIuY29uc3RydWN0b3IpIHJldHVybiBmYWxzZTtcblxuICAgIHZhciBsZW5ndGgsIGksIGtleXM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICAgIGxlbmd0aCA9IGEubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCAhPSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KVxuICAgICAgICBpZiAoIWVxdWFsKGFbaV0sIGJbaV0pKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cblxuXG4gICAgaWYgKGEuY29uc3RydWN0b3IgPT09IFJlZ0V4cCkgcmV0dXJuIGEuc291cmNlID09PSBiLnNvdXJjZSAmJiBhLmZsYWdzID09PSBiLmZsYWdzO1xuICAgIGlmIChhLnZhbHVlT2YgIT09IE9iamVjdC5wcm90b3R5cGUudmFsdWVPZikgcmV0dXJuIGEudmFsdWVPZigpID09PSBiLnZhbHVlT2YoKTtcbiAgICBpZiAoYS50b1N0cmluZyAhPT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZykgcmV0dXJuIGEudG9TdHJpbmcoKSA9PT0gYi50b1N0cmluZygpO1xuXG4gICAga2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIGlmIChsZW5ndGggIT09IE9iamVjdC5rZXlzKGIpLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KVxuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwga2V5c1tpXSkpIHJldHVybiBmYWxzZTtcblxuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cbiAgICAgIGlmICghZXF1YWwoYVtrZXldLCBiW2tleV0pKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyB0cnVlIGlmIGJvdGggTmFOLCBmYWxzZSBvdGhlcndpc2VcbiAgcmV0dXJuIGEhPT1hICYmIGIhPT1iO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbid1c2Ugc3RyaWN0Jzt2YXIgZj1yZXF1aXJlKFwicmVhY3RcIiksaz1TeW1ib2wuZm9yKFwicmVhY3QuZWxlbWVudFwiKSxsPVN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSxtPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksbj1mLl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVELlJlYWN0Q3VycmVudE93bmVyLHA9e2tleTohMCxyZWY6ITAsX19zZWxmOiEwLF9fc291cmNlOiEwfTtcbmZ1bmN0aW9uIHEoYyxhLGcpe3ZhciBiLGQ9e30sZT1udWxsLGg9bnVsbDt2b2lkIDAhPT1nJiYoZT1cIlwiK2cpO3ZvaWQgMCE9PWEua2V5JiYoZT1cIlwiK2Eua2V5KTt2b2lkIDAhPT1hLnJlZiYmKGg9YS5yZWYpO2ZvcihiIGluIGEpbS5jYWxsKGEsYikmJiFwLmhhc093blByb3BlcnR5KGIpJiYoZFtiXT1hW2JdKTtpZihjJiZjLmRlZmF1bHRQcm9wcylmb3IoYiBpbiBhPWMuZGVmYXVsdFByb3BzLGEpdm9pZCAwPT09ZFtiXSYmKGRbYl09YVtiXSk7cmV0dXJueyQkdHlwZW9mOmssdHlwZTpjLGtleTplLHJlZjpoLHByb3BzOmQsX293bmVyOm4uY3VycmVudH19ZXhwb3J0cy5GcmFnbWVudD1sO2V4cG9ydHMuanN4PXE7ZXhwb3J0cy5qc3hzPXE7XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMTU2X187IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImV4cG9ydCBjb25zdCByZXF1ZXN0TG9nID0gKG1vZGUsIHBhcmFtVmVyYm9zaXR5LCBsaW1pdFZlcmJvc2l0eSwgLi4ucykgPT4ge1xuICAgIGlmIChtb2RlID09ICdkZXZlbG9wbWVudCcgJiYgbGltaXRWZXJib3NpdHkgPD0gcGFyYW1WZXJib3NpdHkpXG4gICAgICAgIGNvbnNvbGUubG9nKGBbcmVhY3QtcXVlcnldYCwgLi4ucyk7XG59O1xuZXhwb3J0IGNvbnN0IHF1ZXJ5V2FybiA9IChtb2RlLCBwYXJhbVZlcmJvc2l0eSwgbGltaXRWZXJib3NpdHksIC4uLnMpID0+IHtcbiAgICBpZiAobW9kZSA9PSAnZGV2ZWxvcG1lbnQnICYmIGxpbWl0VmVyYm9zaXR5IDw9IHBhcmFtVmVyYm9zaXR5KVxuICAgICAgICBjb25zb2xlLndhcm4oYFtyZWFjdC1xdWVyeV1gLCAuLi5zKTtcbn07XG5leHBvcnQgY29uc3QgcXVlcnlFcnJvciA9ICguLi5zKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihgW3JlYWN0LXF1ZXJ5XWAsIC4uLnMpO1xufTtcbiIsImltcG9ydCB7IHF1ZXJ5RXJyb3IsIHF1ZXJ5V2FybiwgcXVlcnlXYXJuIGFzIHJlcXVlc3RXYXJuIH0gZnJvbSAnLi9sb2cnO1xuZXhwb3J0IGNvbnN0IHJlcXVlc3QgPSBmdW5jdGlvbiAoZG9tYWluLCBwYXRoLCBvcHRpb25zID0geyBtZXRob2Q6ICdHRVQnIH0pIHtcbiAgICBjb25zdCB7IG1ldGhvZCA9ICdHRVQnLCBoZWFkZXJzLCBtb2RlID0gJ3Byb2R1Y3Rpb24nLCBvblJlamVjdGVkLCAuLi5yZXN0IH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHJlcSA9IChoZWFkZXJzKSA9PiB7XG4gICAgICAgIHJldHVybiBmZXRjaChgJHtkb21haW59LyR7cGF0aH1gLCB7XG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgcXVlcnlFcnJvcihgJHtyZXMudXJsfSAke3Jlcy5zdGF0dXN9ICR7cmVzLnN0YXR1c1RleHR9YCk7XG4gICAgICAgICAgICAgICAgb25SZWplY3RlZD8uKHJlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXMudGV4dCgpLnRoZW4oKHQpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmhlYWRlcnMuZ2V0KCdDb250ZW50LVR5cGUnKT8uaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0V2Fybihtb2RlLCAwLCAwLCBgQ291bGQgbm90IHBhcnNlIHJlc3BvbnNlIHRvIGpzb25gLCByZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIubmFtZSA9PSAnQWJvcnRFcnJvcicpXG4gICAgICAgICAgICAgICAgcXVlcnlXYXJuKG1vZGUsIDAsIDAsIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHF1ZXJ5RXJyb3IoYCR7ZXJyLnVybH0gJHtlcnIuc3RhdHVzfSAke2Vyci5zdGF0dXNUZXh0fWApO1xuICAgICAgICAgICAgICAgIG9uUmVqZWN0ZWQ/LihlcnIpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtlcnIuc3RhdHVzfSAke2Vyci5zdGF0dXNUZXh0fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBoZWFkZXJzID8gaGVhZGVycygpLnRoZW4ocmVxKSA6IHJlcSh7fSk7XG59O1xuIiwiaW1wb3J0IHsgdXNlUmVkdWNlciB9IGZyb20gXCJyZWFjdFwiO1xuLyoqXG4gKiBnZXRGb3JtRGF0YSBleHRyYWN0cyB0aGUgdmFsdWVzIG9mIHRoZSBpbnB1dCBlbGVtZW50c1xuICogcmVjZWl2ZWQgZnJvbSB0aGUgdGFyZ2V0IG9iamVjdFxuICogQHBhcmFtIHRhcmdldCBUYXJnZXQgcmVjZWl2ZWQgZnJvbSB0aGUgb2JqZWN0IGV2ZW50XG4gKiBAcmV0dXJucyBBbiBvYmplY3Qgb2YgdHlwZSBUIGJ5IGRlZmF1bHQgd2l0aCBrZXkgdmFsdWUgcGFpcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldEZvcm1EYXRhID0gKHRhcmdldCkgPT4ge1xuICAgIGNvbnN0IHR5cGVkVGFyZ2V0ID0gdGFyZ2V0O1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0YXJnZXQpXG4gICAgICAgIC5tYXAoKGspID0+IHtcbiAgICAgICAgcmV0dXJuIHR5cGVkVGFyZ2V0W2tdO1xuICAgIH0pXG4gICAgICAgIC8vIEtlZXAgbmFtZWQgaW5wdXQgYW5kIHNlbGVjdFxuICAgICAgICAuZmlsdGVyKCh2KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhZyA9IHYudGFnTmFtZT8udG9Mb2NhbGVMb3dlckNhc2U/LigpO1xuICAgICAgICByZXR1cm4gdi5uYW1lICYmICh0YWcgPT0gXCJpbnB1dFwiIHx8IHRhZyA9PSBcInNlbGVjdFwiKTtcbiAgICB9KVxuICAgICAgICAucmVkdWNlKChhY2MsIGN1cikgPT4ge1xuICAgICAgICBjb25zdCB7IG5hbWUsIHZhbHVlLCBjaGVja2VkLCB0eXBlLCByZXF1aXJlZCB9ID0gY3VyO1xuICAgICAgICBjb25zdCBpc0NoZWNrYm94ID0gdHlwZSA9PSBcImNoZWNrYm94XCI7XG4gICAgICAgIGNvbnN0IGlzVmFsRW1wdHkgPSB2YWx1ZSA9PSBcIlwiIHx8IHZhbHVlID09IG51bGw7XG4gICAgICAgIGlmIChyZXF1aXJlZCAmJiBpc1ZhbEVtcHR5KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCB1c2UgYW4gZW1wdHkgdmFsdWUgZm9yICR7bmFtZX1gKTtcbiAgICAgICAgbGV0IGZpbmFsVmFsdWUgPSB0eXBlID09IFwibnVtYmVyXCIgPyBuZXcgTnVtYmVyKHZhbHVlKS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmFjYyxcbiAgICAgICAgICAgIFtuYW1lXTogaXNDaGVja2JveCA/IGNoZWNrZWQgOiBmaW5hbFZhbHVlXG4gICAgICAgIH07XG4gICAgfSwge30pO1xufTtcbi8qKlxuICogRXh0cmFjdHMgYWxsIHRoZSBuZWNlc3NhcnkgZGF0YSBmcm9tIHRoZSBmb3JtIHRhcmdldFxuICpcbiAqIEBwYXJhbSB0YXJnZXQgVGFyZ2V0IHJlY2VpdmVkIGZyb20gdGhlIG9iamVjdCBldmVudFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgdGhhdCBpZGVudGlmaWVzIHRoZSBkYXRhXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBmb3JtRXh0cmFjdG9yIHdpdGggZm9ybSBpbnB1dHNcbiAqIGBgYGh0bWxcbiAqIDxkaXY+XG4gKiAgPGlucHV0IG5hbWU9XCJpZC0xXCIgLz5cbiAqICA8aW5wdXQgbmFtZT1cImFkZHJlc3MtMVwiIHZhbHVlPVwiMiBIYXJsZXkgc3RyZWV0XCIgLz5cbiAqIDwvZGl2PlxuICogLi4uXG4gKiA8ZGl2PlxuICogIDxpbnB1dCBuYW1lPVwiaWQtblwiIC8+XG4gKiAgPGlucHV0IG5hbWU9XCJhZGRyZXNzLW5cIiB2YWx1ZT1cIjM1IHJ1ZSBjaGFtcHMgw6lseXPDqWVzXCIgLz5cbiAqIDwvZGl2PlxuICogYGBgXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBmb3JtRXh0cmFjdG9yKHRhcmdldCwgW1wiaWRcIl0pO1xuICogLy8gW1xuICogLy8gIHtpZDogXCIxXCIsIGFkZHJlc3M6IFwiMiBIYXJsZXkgc3RyZWV0XCJ9LFxuICogLy8gIC4uLixcbiAqIC8vICB7aWQ6IFwiblwiLCBhZGRyZXNzOiBcIjM1IHJ1ZSBjaGFtcHMgw6lseXPDqWVzXCJ9XG4gKiAvLyBdXG4gKiBgYGBcbiAqXG4gKiBAcmV0dXJucyB7Rm9ybUV4dHJhY3RvckRhdGF9IEZvcm1FeHRyYWNvckRhdGFcbiAqL1xuZXhwb3J0IGNvbnN0IGZvcm1FeHRyYWN0b3IgPSAodGFyZ2V0LCBuYW1lKSA9PiB7XG4gICAgLy8gR2V0IGFsbCB0aGUgZGF0YSBmcm9tIHRoZSBmb3JtXG4gICAgY29uc3QgZm9ybURhdGEgPSBnZXRGb3JtRGF0YSh0YXJnZXQpO1xuICAgIC8vIFNpbXBseSBjaGVjayBpZiB0aGVyZSBpcyBubyBpZCBmb3IgZWFjaCBmb3JtRGF0YVxuICAgIGlmIChmb3JtRGF0YVtuYW1lXSAhPSBudWxsKVxuICAgICAgICByZXR1cm4gW2Zvcm1EYXRhXTtcbiAgICAvLyBFYWNoIGZvcm1EYXRhIGlzIHNwZWNpZmljIHRvIGFuIGlkXG4gICAgY29uc3QgdmFsdWVzID0gT2JqZWN0LmVudHJpZXMoZm9ybURhdGEpO1xuICAgIHJldHVybiB2YWx1ZXMucmVkdWNlKChwcmV2LCBjdXJyKSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IGN1cnJbMF07XG4gICAgICAgIGNvbnN0IFthdHRyLCBpZF0gPSBzZXBlcmF0ZUFuZEtlZXBJZHMoW2tleV0pWzBdO1xuICAgICAgICBjb25zdCBlbGVtID0gcHJldi5maW5kKChlbGVtKSA9PiBlbGVtW25hbWVdID09IGlkKTtcbiAgICAgICAgbGV0IHBhcnNlSWQgPSBpZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBhcnNlSWQgPSBwYXJzZUludChpZCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICBpZiAoZWxlbSlcbiAgICAgICAgICAgIGVsZW1bYXR0cl0gPSBjdXJyWzFdO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBwcmV2LnB1c2goeyBbbmFtZV06IHBhcnNlSWQsIFthdHRyXTogY3VyclsxXSB9KTtcbiAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgfSwgW10pO1xufTtcbi8qKlxuICogUmVncm91cCBzdHJpbmdzIGJhc2VkIG9uIHRoZWlyIGlkcyByZXByZXNlbnRlZCBieSB0aGUgbGFzdCBzZXBlcmF0aW9uIG9mIHRoZSBzdHJpbmdcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIHNlcGVyYXRlQW5kS2VlcElkcyhcImhlbGxvV29ybGQ1XCIsXCJoZWxsby13b3JsZDZcIiwgXCJoZWxsb1dvcmxkN1wiLCBcImhlbGxvV29ybGRcIik7XG4gKiAvLyBbW1wiaGVsbG9Xb3JsZFwiLCBcIjVcIl0sIFtcImhlbGxvLXdvcmxkXCIsIFwiNlwiXSwgW1wiaGVsbG9Xb3JsZFwiLCBcIjdcIl0sIFtcImhlbGxvXCIsIFwiV29ybGRcIl1dXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3RycyBUaGUgc3RyaW5nIGFycmF5IHRvIHNlYXJjaCBmb3IgaWRzIGFuZCByZWdyb3VwIGFsbCBhdHRyaWJ1dGVzIHdpdGggdGhlIHNhbWUgaWRzXG4gKiBAcmV0dXJucyBBbmQgYXJyYXkgb2YgYXJyYXlzIGVhY2ggY29udGFpbmluZyB0aGUgcGFyc2VkIG5hbWUgYW5kIGlkIG9mIHRoZSBzdHJpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IHNlcGVyYXRlQW5kS2VlcElkcyA9IChzdHJzKSA9PiB7XG4gICAgcmV0dXJuIHNlcGVyYXRlKHN0cnMpLm1hcCgodikgPT4ge1xuICAgICAgICBjb25zdCBzZXBlcmF0ZWQgPSB2WzFdO1xuICAgICAgICBjb25zdCBpZCA9IHNlcGVyYXRlZFtzZXBlcmF0ZWQubGVuZ3RoIC0gMV07XG4gICAgICAgIHJldHVybiBbdlswXS5yZXBsYWNlKG5ldyBSZWdFeHAoYCgtfF8pPyR7aWR9JGApLCBcIlwiKSwgaWRdO1xuICAgIH0pO1xufTtcbi8qKlxuICogVGhpcyBmdW5jdGlvbiBzZXBlcmF0ZXMgc3RyaW5ncyBiYXNlZCBvbiBzcGVjaWFsIGNoYXJhY3RlcnMgLyBjYXNlXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBzZXBlcmF0ZShbXCJoZWxsby13b3JsZFwiLCBcImhlbGxvV29ybGQyXCIsIFwiaGVsbG9fd29ybGRfMlwiXSlcbiAqIC8vIFtcbiAqIC8vICAgW1wiaGVsbG8td29ybGRcIiwgW1wiaGVsbG9cIixcIndvcmxkXCJdXSxcbiAqIC8vICAgW1wiaGVsbG9Xb3JsZDJcIiwgW1wiaGVsbG9cIixcIndvcmxkXCIsIFwiMlwiXV0sXG4gKiAvLyAgIFtcImhlbGxvX3dvcmxkXzJcIiwgW1wiaGVsbG9cIiwgXCJ3b3JsZFwiLCBcIjJcIl1dXG4gKiAvLyBdXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3RycyBUaGUgc3RyaW5nIGFycmF5IHRvIHRyeSBzZXBlcmF0ZVxuICogQHJldHVybnMgQW4gYXJyYXkgb2YgYXJyYXlzIHdpdGggdGhlIGlucHV0IC8gb3V0cHV0IHN0cmluZ3NcbiAqL1xuZXhwb3J0IGNvbnN0IHNlcGVyYXRlID0gKHN0cnMpID0+IHtcbiAgICByZXR1cm4gc3Rycy5tYXAoKHN0cikgPT4ge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgc3RyLFxuICAgICAgICAgICAgc3RyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhbMC05XSspLywgXCIgJDFcIilcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvKC18XykvZywgXCIgXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhbQS1aXSkvZywgXCIgJDFcIilcbiAgICAgICAgICAgICAgICAudHJpbSgpXG4gICAgICAgICAgICAgICAgLnRvTG9jYWxlTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAuc3BsaXQoXCIgXCIpXG4gICAgICAgICAgICAgICAgLmZpbHRlcigocykgPT4gcyAhPSBcIlwiKVxuICAgICAgICBdO1xuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBnZXRQYXRoVGFpbCA9IChkYXRhLCB0eXBlLCBuYW1lLCBwYXRoVGFpbCkgPT4ge1xuICAgIGNvbnN0IGlkID0gZGF0YVtuYW1lXTtcbiAgICBpZiAodHlwZSA9PSBcInBhdGhcIiAmJiBpZCAhPSBcIlwiICYmIGlkICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aFRhaWwgPz8gJyc7XG59O1xuZXhwb3J0IGNvbnN0IHVzZUZvcmNlVXBkYXRlID0gKCkgPT4ge1xuICAgIHJldHVybiB1c2VSZWR1Y2VyKCgpID0+ICh7fSksIHt9KVsxXTtcbn07XG4iLCJpbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW5zYWZlLWZpbmFsbHkgKi9cbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9pbmRleC5tb2R1bGUuc2Nzcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuY2xhc3MgRXJyb3JCb3VuZGFyeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgc3RhdGUgPSB7XG4gICAgICAgIGhhc0Vycm9yOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHsgZTogdW5kZWZpbmVkLCBpbmZvOiB1bmRlZmluZWQgfSxcbiAgICB9O1xuICAgIGNvbXBvbmVudERpZENhdGNoID0gKGUsIGluZm8pID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGhhc0Vycm9yOiB0cnVlLCBlcnJvcjogeyBlLCBpbmZvIH0gfSk7XG4gICAgfTtcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgY2hpbGRyZW4gfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGNvbnN0IHsgaGFzRXJyb3IsIGVycm9yIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBpZiAoIWhhc0Vycm9yKVxuICAgICAgICAgICAgcmV0dXJuIF9qc3goUmVhY3QuRnJhZ21lbnQsIHsgY2hpbGRyZW46IGNoaWxkcmVuIH0pO1xuICAgICAgICByZXR1cm4gKF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBzdHlsZXMubWFpbiwgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IGVycm9yPy5lPy5tZXNzYWdlIH0pLCBfanN4KFwiaHJcIiwge30pLCBfanN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IGVycm9yPy5pbmZvPy5jb21wb25lbnRTdGFjayB9KV0gfSkpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEVycm9yQm91bmRhcnk7XG4iLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCBkZWZhdWx0IHtcIm1haW5cIjpcIlNJQXB4UXpRbFpwMEwxZ04wX1FXXCJ9OyIsImltcG9ydCB7IHJlcXVlc3QgfSBmcm9tICcuLi8uLi8uLi91dGlscy9hcGknO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmNvbnN0IHF1ZXJ5T3B0aW9uc0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgICBkb21haW46ICcnLFxuICAgIHBhcmFtZXRlclR5cGU6ICdwYXRoJyxcbiAgICBtb2RlOiAncHJvZHVjdGlvbicsXG4gICAgdmVyYm9zaXR5OiAxLFxuICAgIGlkTmFtZTogJ2lkJyxcbn0pO1xuZXhwb3J0IGNvbnN0IHVzZVF1ZXJ5T3B0aW9ucyA9ICgpID0+IHtcbiAgICBjb25zdCBjdHggPSB1c2VDb250ZXh0KHF1ZXJ5T3B0aW9uc0NvbnRleHQpO1xuICAgIGlmICghY3R4KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjb250ZXh0IGZvciAndXNlUXVlcnlPcHRpb25zJ1wiKTtcbiAgICBpZiAoIWN0eC5pZE5hbWUpXG4gICAgICAgIGN0eC5pZE5hbWUgPSAnaWQnO1xuICAgIHJldHVybiBjdHg7XG59O1xuZXhwb3J0IGNvbnN0IHVzZVJlcXVlc3QgPSAoeyBtZXRob2Q6IHJNZXRob2QgPSAnR0VUJywgLi4uclJlc3QgfSA9IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxufSkgPT4ge1xuICAgIGNvbnN0IHsgZG9tYWluLCAuLi5xUmVzdCB9ID0gdXNlUXVlcnlPcHRpb25zKCk7XG4gICAgcmV0dXJuIChwYXRoLCBvcHRpb25zID0geyBtZXRob2Q6ICdHRVQnIH0pID0+IHJlcXVlc3QoZG9tYWluLCBwYXRoLCBPYmplY3QubWVyZ2UoclJlc3QsIHFSZXN0LCBvcHRpb25zKSk7XG59O1xuZXhwb3J0IGNvbnN0IFF1ZXJ5T3B0aW9uc1Byb3ZpZGVyID0gcXVlcnlPcHRpb25zQ29udGV4dC5Qcm92aWRlcjtcbiIsImltcG9ydCB7IGpzeCBhcyBfanN4LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCB7IHJlcXVlc3QsIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvYXBpJztcbmltcG9ydCBFcnJvckJvdW5kYXJ5IGZyb20gJy4uL0Vycm9yQm91bmRhcnknO1xuaW1wb3J0IHsgdXNlUXVlcnlPcHRpb25zLCB1c2VSZXF1ZXN0IH0gZnJvbSAnLi4vUXVlcnlPcHRpb25zUHJvdmlkZXInO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5leHBvcnQgY29uc3QgdXNlUXVlcnkgPSAoeyBxdWVyeSwgZGVsYXksIG9uUmVhZCwgcmVxdWVzdE9wdGlvbnMgPSB7fSwgdXNlQ29uZmlnID0gdHJ1ZSwgfSkgPT4ge1xuICAgIC8vIFRoZSBkZWZhdWx0IGRhdGEvbG9hZC9lcnJvciB0cmlwbGVcbiAgICBjb25zdCBbZGF0YUxvYWRFcnIsIHNldERhdGFMb2FkRXJyXSA9IHVzZVN0YXRlKHtcbiAgICAgICAgZGF0YTogdW5kZWZpbmVkLFxuICAgICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgICBlcnJvcjogdW5kZWZpbmVkLFxuICAgIH0pO1xuICAgIGNvbnN0IHsgZG9tYWluID0gJycsIC4uLm9wdGlvbnMgfSA9IHJlcXVlc3RPcHRpb25zO1xuICAgIGxldCByZXE7XG4gICAgaWYgKHVzZUNvbmZpZylcbiAgICAgICAgcmVxID0gdXNlUmVxdWVzdCh1c2VRdWVyeU9wdGlvbnMoKSk7XG4gICAgZWxzZVxuICAgICAgICByZXEgPSAocGF0aCwgb3B0aW9ucykgPT4gcmVxdWVzdChkb21haW4sIHBhdGgsIG9wdGlvbnMpO1xuICAgIGNvbnN0IFtjb250cm9sbGVyLCBzZXRDb250cm9sbGVyXSA9IHVzZVN0YXRlKCk7XG4gICAgY29uc3QgW3JlZnJlc2gsIHNldFJlZnJlc2hdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IG1hbnVhbFVwZGF0ZSA9IHVzZUNhbGxiYWNrKChkYXRhKSA9PiBzZXREYXRhTG9hZEVycih7XG4gICAgICAgIGRhdGEsXG4gICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICBlcnJvcjogdW5kZWZpbmVkLFxuICAgIH0pLCBbXSk7XG4gICAgLy8gQ2hlY2sgaWYgdGhlIHF1ZXJ5IHByb3AgaGFzIGNoYW5nZWRcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb250cm9sbGVyPy5hYm9ydCgpO1xuICAgICAgICBjb25zdCBjdHJsID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICBjb25zdCB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBzaWduYWwsIC4uLm90aGVycyB9ID0gb3B0aW9ucztcbiAgICAgICAgICAgIHJlcShxdWVyeSwge1xuICAgICAgICAgICAgICAgIHNpZ25hbDogc2lnbmFsID8/IGN0cmwuc2lnbmFsLFxuICAgICAgICAgICAgICAgIC4uLm90aGVycyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIHNldERhdGFMb2FkRXJyKHsgZGF0YTogcmVzLCBsb2FkaW5nOiBmYWxzZSwgZXJyb3I6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICAgICAgICBvblJlYWQ/LihyZXMpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIHNldERhdGFMb2FkRXJyKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVyci50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGRlbGF5ID8/IDApO1xuICAgICAgICBzZXRDb250cm9sbGVyKGN0cmwpO1xuICAgICAgICBzZXREYXRhTG9hZEVycih7IGRhdGE6IHVuZGVmaW5lZCwgbG9hZGluZzogdHJ1ZSwgZXJyb3I6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGN0cmw/LmFib3J0KCk7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB9O1xuICAgIH0sIFtxdWVyeSwgcmVmcmVzaF0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmRhdGFMb2FkRXJyLFxuICAgICAgICBtYW51YWxVcGRhdGUsXG4gICAgICAgIGZvcmNlUmVmcmVzaDogKCkgPT4gc2V0UmVmcmVzaCghcmVmcmVzaCksXG4gICAgfTtcbn07XG4vKipcbiAqIFRoZSBxdWVyeSBjb21wb25lbnQgaXMgYSBmZXRjaCB3cmFwcGVyIHRoYXQgYWxsb3dzIHRvIGRpcmVjdGx5IGFkZCBsb2dpYyBpbiB0aGUgZGVzaWduIG9mIHRoZSByZWFjdCBET00gYXJjaGl0ZWN0dXJlXG4gKi9cbmV4cG9ydCBjb25zdCBRdWVyeSA9ICh7IGNoaWxkcmVuLCB1c2VDb25maWcgPSB0cnVlLCAuLi5xUmVzdCB9KSA9PiB7XG4gICAgY29uc3QgeyBsb2FkZXIgfSA9IHVzZVF1ZXJ5T3B0aW9ucygpO1xuICAgIGNvbnN0IHsgbG9hZGluZywgLi4ucURhdGEgfSA9IHVzZVF1ZXJ5KHtcbiAgICAgICAgLi4ucVJlc3QsXG4gICAgICAgIHVzZUNvbmZpZyxcbiAgICB9KTtcbiAgICAvLyBBbHdheXMgY2FsbCB0byBtYWludGFpbiB0aGUgaG9va3NcbiAgICBjb25zdCByZW5kZXIgPSBjaGlsZHJlbih7IGxvYWRpbmcsIC4uLnFEYXRhIH0pO1xuICAgIHJldHVybiAoX2pzeChFcnJvckJvdW5kYXJ5LCB7IGNoaWxkcmVuOiBsb2FkaW5nICYmIGxvYWRlci5hdXRvbG9hZCA/IChfanN4KF9GcmFnbWVudCwgeyBjaGlsZHJlbjogbG9hZGVyLmxvYWRlciA/PyBfanN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IFwiTG9hZGluZyBkYXRhLi4uXCIgfSkgfSkpIDogKHJlbmRlcikgfSkpO1xufTtcbiIsImltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgeyByZXF1ZXN0IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvYXBpJztcbmltcG9ydCB7IHJlcXVlc3RMb2cgfSBmcm9tICcuLi8uLi8uLi91dGlscy9sb2cnO1xuaW1wb3J0IHsgZm9ybUV4dHJhY3RvciwgZ2V0Rm9ybURhdGEsIGdldFBhdGhUYWlsLCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3V0aWwnO1xuaW1wb3J0IEVycm9yQm91bmRhcnkgZnJvbSAnLi4vRXJyb3JCb3VuZGFyeSc7XG5pbXBvcnQgeyBRdWVyeSB9IGZyb20gJy4uL1F1ZXJ5JztcbmltcG9ydCB7IHVzZVF1ZXJ5T3B0aW9ucyB9IGZyb20gJy4uL1F1ZXJ5T3B0aW9uc1Byb3ZpZGVyJztcbmltcG9ydCBlcXVhbCBmcm9tICdmYXN0LWRlZXAtZXF1YWwnO1xuaW1wb3J0IHsgRnJhZ21lbnQsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0Jztcbi8qKlxuICogVGhpcyBjb21wb25lbnQgaXMgdXNlZCB0byBzaW1wbGlmeSBgQ1JVRGAgb3BlcmF0aW9ucy5cbiAqIFlvdSBnaXZlIGl0IHRoZSBgZW5kcG9pbnQocylgIHRvIHdoaWNoIHlvdSB3YW50IHRvIGRvIHJlcXVlc3RzIGFuZCBpdCB3aWxsIGhhbmRsZVxuICogYWxsIG9mIHRoZSB0YXNrcyBpbiB0aGUgYmFja2dyb3VuZCBhbmQgdXBkYXRlIHRoZSBzdGF0ZSBvZiB0aGUgdmFyaWFibGVzXG4gKiBpdCBnaXZlcyB5b3UgZnJvbSB0aGUgY2hpbGQgZnVuY3Rpb24uXG4gKlxuICogTWFrZSBzdXJlIHRvIGRlZmluZSB0aGUgUXVlcnlPcHRpb25zIHBhcmFtIHdpdGggdGhlIGBRdWVyeU9wdGlvbnNQcm92aWRlcmAgY29tcG9uZW50XG4gKlxuICogR28gdG8gdGhlIFtleGFtcGxlcyBkaXJlY3RvcnldKGh0dHBzOi8vYml0YnVja2V0Lm9yZy9uZW92aXNpb24vcmVhY3QtcXVlcnkvc3JjL21hc3Rlci9zcmMvZXhhbXBsZXMpIHRvIHNlZSBleGFtcGxlc1xuICovXG5jb25zdCBDUlVEID0gKHsgY2hpbGRyZW4sIGVuZFBvaW50cywgb25DcmVhdGVkLCBvblJlYWQsIG9uVXBkYXRlZCwgb25EZWxldGVkLCBkZWxheSwgdHlwZSA9ICdhcnJheScsIH0pID0+IHtcbiAgICBjb25zdCBbY3JlYXRlRW5kcG9pbnQsIHJlYWRFbmRwb2ludCwgdXBkYXRlRW5kcG9pbnQsIGRlbGV0ZUVuZHBvaW50XSA9IHR5cGVvZiBlbmRQb2ludHMgPT0gJ3N0cmluZydcbiAgICAgICAgPyBuZXcgQXJyYXkoNCkuZmlsbChlbmRQb2ludHMpXG4gICAgICAgIDogW2VuZFBvaW50cy5jcmVhdGUsIGVuZFBvaW50cy5yZWFkLCBlbmRQb2ludHMudXBkYXRlLCBlbmRQb2ludHMuZGVsZXRlXTtcbiAgICBjb25zdCB7IHBhcmFtZXRlclR5cGUsIGRvbWFpbiwgcmVxdWVzdE1pZGRsZXdhcmUsIG1vZGUsIHZlcmJvc2l0eSwgaWROYW1lIH0gPSB1c2VRdWVyeU9wdGlvbnMoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICByZXF1ZXN0TG9nKG1vZGUsIHZlcmJvc2l0eSwgNSwgYFtlbmRwb2ludHNdYCwgYFtDXSR7Y3JlYXRlRW5kcG9pbnR9YCwgYFtSXSR7cmVhZEVuZHBvaW50fWAsIGBbVV0ke3VwZGF0ZUVuZHBvaW50fWAsIGBbRF0ke2RlbGV0ZUVuZHBvaW50fWApO1xuICAgIH0sIFtjcmVhdGVFbmRwb2ludCwgcmVhZEVuZHBvaW50LCB1cGRhdGVFbmRwb2ludCwgZGVsZXRlRW5kcG9pbnRdKTtcbiAgICByZXR1cm4gKF9qc3goRXJyb3JCb3VuZGFyeSwgeyBjaGlsZHJlbjogX2pzeChRdWVyeSwgeyBxdWVyeTogYCR7cmVhZEVuZHBvaW50fWAsIGRlbGF5OiBkZWxheSwgb25SZWFkOiBvblJlYWQsIGNoaWxkcmVuOiAoeyBkYXRhLCBsb2FkaW5nLCBlcnJvciwgbWFudWFsVXBkYXRlLCBmb3JjZVJlZnJlc2ggfSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoX2pzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogY2hpbGRyZW4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQ3JlYXRlOiAoZSwgcGFyYW1zID0geyBtZXRob2Q6ICdQT1NUJyB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbWV0aG9kID0gJ1BPU1QnLCBwYXRoVGFpbCB9ID0gcGFyYW1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gZ2V0Rm9ybURhdGEoZS50YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZHBvaW50ID0gYCR7Y3JlYXRlRW5kcG9pbnR9LyR7cGF0aFRhaWwgPyBgJHtwYXRoVGFpbH0vYCA6ICcnfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdExvZyhtb2RlLCB2ZXJib3NpdHksIDEsIGBbY3JlYXRlXVske21ldGhvZH1dYCwgYCR7ZG9tYWlufS8ke2VuZHBvaW50fWAsIGZvcm1EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdChkb21haW4sIGVuZHBvaW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGZvcm1EYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXF1ZXN0TWlkZGxld2FyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoY3JlYXRlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW51YWxVcGRhdGU/LihbLi4uZGF0YSwgY3JlYXRlZF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNyZWF0ZWQ/LigpICYmIGZvcmNlUmVmcmVzaD8uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyZXVyIGRlIGNyw6lhdGlvbmAsIGBVbmUgZXJyZXVyIGVzdCBzdXJ2ZW51IGxvcnMgZGUgbGEgY3LDqWF0aW9uIGRhbnMgbGEgYmFzZSBkZSBkb25uw6llc2ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWQ6IHsgZGF0YSwgbG9hZGluZywgZXJyb3IgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVVwZGF0ZTogKGUsIHBhcmFtcyA9IHsgbWV0aG9kOiAnUFVUJywgbmFtZTogaWROYW1lIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtZXRob2QgPSAnUFVUJywgcGF0aFRhaWwsIG5hbWUgPSBpZE5hbWUgfSA9IHBhcmFtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtRGF0YXMgPSBmb3JtRXh0cmFjdG9yKGUudGFyZ2V0LCBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3RGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSAnYXJyYXknKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdEYXRhID0gWy4uLmRhdGFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YXMuZm9yRWFjaCgoZm9ybURhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFpbCA9IGdldFBhdGhUYWlsKGZvcm1EYXRhLCBwYXJhbWV0ZXJUeXBlLCBuYW1lLCBwYXRoVGFpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZHBvaW50ID0gYCR7dXBkYXRlRW5kcG9pbnR9LyR7dGFpbCA/IGAke3RhaWx9L2AgOiAnJ31gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IG5ld0RhdGEuZmluZEluZGV4KCh2YWwpID0+IHZhbFtuYW1lXSA9PSB0YWlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXJnZWREYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5uZXdEYXRhW2luZGV4XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZm9ybURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNDaGFuZ2VkID0gIWVxdWFsKG5ld0RhdGFbaW5kZXhdLCBtZXJnZWREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdEYXRhW2luZGV4XSA9IG1lcmdlZERhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YS5wdXNoKGZvcm1EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZWQgPSAhZXF1YWwobmV3RGF0YSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdEYXRhID0geyAuLi5uZXdEYXRhLCAuLi5mb3JtRGF0YSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0TG9nKG1vZGUsIHZlcmJvc2l0eSwgMSwgYFt1cGRhdGVdWyR7bWV0aG9kfV1gLCBgJHtkb21haW59LyR7ZW5kcG9pbnR9YCwgZm9ybURhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChyZXF1ZXN0KGRvbWFpbiwgZW5kcG9pbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShmb3JtRGF0YSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlcXVlc3RNaWRkbGV3YXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW51YWxVcGRhdGU/LihuZXdEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25VcGRhdGVkPy4oKSAmJiBmb3JjZVJlZnJlc2g/LigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZURlbGV0ZTogKGUsIHBhcmFtcyA9IHsgbWV0aG9kOiAnREVMRVRFJywgbmFtZTogaWROYW1lIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlPy5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGU/LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbWV0aG9kID0gJ0RFTEVURScsIHBhdGhUYWlsLCBuYW1lID0gaWROYW1lLCBpZCwgfSA9IHBhcmFtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWlsID0gZ2V0UGF0aFRhaWwoeyBbbmFtZV06IGlkPy50b1N0cmluZygpID8/ICcnIH0sIHBhcmFtZXRlclR5cGUsIG5hbWUsIHBhdGhUYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGAke2RlbGV0ZUVuZHBvaW50fS8ke3RhaWwgPyBgJHt0YWlsfS9gIDogJyd9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0TG9nKG1vZGUsIHZlcmJvc2l0eSwgMSwgYFtkZWxldGVdWyR7bWV0aG9kfV1gLCBgJHtkb21haW59LyR7ZW5kcG9pbnR9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QoZG9tYWluLCBlbmRwb2ludCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlcXVlc3RNaWRkbGV3YXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBwYXJhbWV0ZXJUeXBlID09ICdwYXRoJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBKU09OLnN0cmluZ2lmeShnZXRGb3JtRGF0YShlLnRhcmdldCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGRhdGEuZmluZEluZGV4KCh2YWwpID0+IHZhbFtuYW1lXSA9PSBpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlZERhdGEgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdExvZyhtb2RlLCB2ZXJib3NpdHksIDMsIGBSZW1vdmluZyBpbmRleCAke2luZGV4fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QXJyID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnR5cGVkRGF0YS5zbGljZSgwLCBpbmRleCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udHlwZWREYXRhLnNsaWNlKGluZGV4ICsgMSwgdHlwZWREYXRhLmxlbmd0aCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdExvZyhtb2RlLCB2ZXJib3NpdHksIDQsIGBBcnJheSB1cGRhdGVkYCwgbmV3QXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbnVhbFVwZGF0ZT8uKG5ld0Fycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW51YWxVcGRhdGU/LihkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRlbGV0ZWQ/LigpICYmIGZvcmNlUmVmcmVzaD8uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LCBmb3JjZVJlZnJlc2gpIH0pKTtcbiAgICAgICAgICAgIH0gfSkgfSkpO1xufTtcbmV4cG9ydCBkZWZhdWx0IENSVUQ7XG4iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xNTZfXyIsImVxdWFsIiwiYSIsImIiLCJjb25zdHJ1Y3RvciIsImxlbmd0aCIsImkiLCJrZXlzIiwiQXJyYXkiLCJpc0FycmF5IiwiUmVnRXhwIiwic291cmNlIiwiZmxhZ3MiLCJ2YWx1ZU9mIiwiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJrZXkiLCJmIiwiayIsIlN5bWJvbCIsImZvciIsImwiLCJtIiwibiIsIl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEIiwiUmVhY3RDdXJyZW50T3duZXIiLCJwIiwicmVmIiwiX19zZWxmIiwiX19zb3VyY2UiLCJxIiwiYyIsImciLCJkIiwiZSIsImgiLCJkZWZhdWx0UHJvcHMiLCIkJHR5cGVvZiIsInR5cGUiLCJwcm9wcyIsIl9vd25lciIsImN1cnJlbnQiLCJGcmFnbWVudCIsImpzeCIsImpzeHMiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImRlZmluaXRpb24iLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInIiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwicmVxdWVzdExvZyIsIm1vZGUiLCJwYXJhbVZlcmJvc2l0eSIsImxpbWl0VmVyYm9zaXR5IiwicyIsImNvbnNvbGUiLCJsb2ciLCJxdWVyeVdhcm4iLCJ3YXJuIiwicXVlcnlFcnJvciIsImVycm9yIiwicmVxdWVzdCIsImRvbWFpbiIsInBhdGgiLCJvcHRpb25zIiwibWV0aG9kIiwiaGVhZGVycyIsIm9uUmVqZWN0ZWQiLCJyZXN0IiwicmVxIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJ0ZXh0IiwidCIsImluY2x1ZGVzIiwiSlNPTiIsInBhcnNlIiwicmVxdWVzdFdhcm4iLCJ1cmwiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiUHJvbWlzZSIsInJlamVjdCIsImNhdGNoIiwiZXJyIiwibmFtZSIsIkVycm9yIiwibWVzc2FnZSIsImdldEZvcm1EYXRhIiwidGFyZ2V0IiwidHlwZWRUYXJnZXQiLCJtYXAiLCJmaWx0ZXIiLCJ2IiwidGFnIiwidGFnTmFtZSIsInRvTG9jYWxlTG93ZXJDYXNlIiwicmVkdWNlIiwiYWNjIiwiY3VyIiwiY2hlY2tlZCIsInJlcXVpcmVkIiwiaXNDaGVja2JveCIsImZpbmFsVmFsdWUiLCJOdW1iZXIiLCJzZXBlcmF0ZSIsInN0cnMiLCJzdHIiLCJyZXBsYWNlIiwidHJpbSIsInNwbGl0IiwiZ2V0UGF0aFRhaWwiLCJkYXRhIiwicGF0aFRhaWwiLCJpZCIsIkVycm9yQm91bmRhcnkiLCJSZWFjdCIsInN0YXRlIiwiaGFzRXJyb3IiLCJpbmZvIiwiY29tcG9uZW50RGlkQ2F0Y2giLCJ0aGlzIiwic2V0U3RhdGUiLCJyZW5kZXIiLCJjaGlsZHJlbiIsIl9qc3hzIiwiY2xhc3NOYW1lIiwiX2pzeCIsImNvbXBvbmVudFN0YWNrIiwicXVlcnlPcHRpb25zQ29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJwYXJhbWV0ZXJUeXBlIiwidmVyYm9zaXR5IiwiaWROYW1lIiwidXNlUXVlcnlPcHRpb25zIiwiY3R4IiwidXNlQ29udGV4dCIsInVzZVJlcXVlc3QiLCJyTWV0aG9kIiwiclJlc3QiLCJxUmVzdCIsIm1lcmdlIiwiUXVlcnlPcHRpb25zUHJvdmlkZXIiLCJQcm92aWRlciIsInVzZVF1ZXJ5IiwicXVlcnkiLCJkZWxheSIsIm9uUmVhZCIsInJlcXVlc3RPcHRpb25zIiwidXNlQ29uZmlnIiwiZGF0YUxvYWRFcnIiLCJzZXREYXRhTG9hZEVyciIsInVzZVN0YXRlIiwibG9hZGluZyIsImNvbnRyb2xsZXIiLCJzZXRDb250cm9sbGVyIiwicmVmcmVzaCIsInNldFJlZnJlc2giLCJtYW51YWxVcGRhdGUiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsImFib3J0IiwiY3RybCIsIkFib3J0Q29udHJvbGxlciIsInRpbWVvdXQiLCJ3aW5kb3ciLCJzZXRUaW1lb3V0Iiwic2lnbmFsIiwib3RoZXJzIiwiY2xlYXJUaW1lb3V0IiwiZm9yY2VSZWZyZXNoIiwiUXVlcnkiLCJsb2FkZXIiLCJxRGF0YSIsImF1dG9sb2FkIiwiX0ZyYWdtZW50IiwiZW5kUG9pbnRzIiwib25DcmVhdGVkIiwib25VcGRhdGVkIiwib25EZWxldGVkIiwiY3JlYXRlRW5kcG9pbnQiLCJyZWFkRW5kcG9pbnQiLCJ1cGRhdGVFbmRwb2ludCIsImRlbGV0ZUVuZHBvaW50IiwiZmlsbCIsImNyZWF0ZSIsInJlYWQiLCJ1cGRhdGUiLCJkZWxldGUiLCJyZXF1ZXN0TWlkZGxld2FyZSIsImhhbmRsZUNyZWF0ZSIsInBhcmFtcyIsInByZXZlbnREZWZhdWx0IiwiZm9ybURhdGEiLCJlbmRwb2ludCIsImJvZHkiLCJzdHJpbmdpZnkiLCJjcmVhdGVkIiwiaGFuZGxlVXBkYXRlIiwiZm9ybURhdGFzIiwiZW50cmllcyIsInByZXYiLCJjdXJyIiwiYXR0ciIsInNlcGVyYXRlZCIsImVsZW0iLCJmaW5kIiwicGFyc2VJZCIsInBhcnNlSW50IiwicHVzaCIsImZvcm1FeHRyYWN0b3IiLCJuZXdEYXRhIiwicHJvbWlzZXMiLCJmb3JFYWNoIiwidGFpbCIsImhhc0NoYW5nZWQiLCJpbmRleCIsImZpbmRJbmRleCIsInZhbCIsIm1lcmdlZERhdGEiLCJhbGwiLCJoYW5kbGVEZWxldGUiLCJzdG9wUHJvcGFnYXRpb24iLCJ0eXBlZERhdGEiLCJuZXdBcnIiLCJzbGljZSJdLCJzb3VyY2VSb290IjoiIn0=