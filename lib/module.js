/*! For license information please see module.js.LICENSE.txt */
!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("react")):"function"==typeof define&&define.amd?define(["react"],r):"object"==typeof exports?exports["react-query"]=r(require("react")):e["react-query"]=r(e.react)}(self,(e=>(()=>{"use strict";var r={63:e=>{e.exports=function e(r,t){if(r===t)return!0;if(r&&t&&"object"==typeof r&&"object"==typeof t){if(r.constructor!==t.constructor)return!1;var o,n,a;if(Array.isArray(r)){if((o=r.length)!=t.length)return!1;for(n=o;0!=n--;)if(!e(r[n],t[n]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if((o=(a=Object.keys(r)).length)!==Object.keys(t).length)return!1;for(n=o;0!=n--;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;for(n=o;0!=n--;){var s=a[n];if(!e(r[s],t[s]))return!1}return!0}return r!=r&&t!=t}},251:(e,r,t)=>{var o=t(156),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,d=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,r,t){var o,a={},c=null,l=null;for(o in void 0!==t&&(c=""+t),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(l=r.ref),r)s.call(r,o)&&!i.hasOwnProperty(o)&&(a[o]=r[o]);if(e&&e.defaultProps)for(o in r=e.defaultProps)void 0===a[o]&&(a[o]=r[o]);return{$$typeof:n,type:e,key:c,ref:l,props:a,_owner:d.current}}r.Fragment=a,r.jsx=c,r.jsxs=c},893:(e,r,t)=>{e.exports=t(251)},156:r=>{r.exports=e}},t={};function o(e){var n=t[e];if(void 0!==n)return n.exports;var a=t[e]={exports:{}};return r[e](a,a.exports,o),a.exports}o.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return o.d(r,{a:r}),r},o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{o.r(n),o.d(n,{CRUD:()=>x,Query:()=>b,QueryOptionsProvider:()=>g,request:()=>u,useQuery:()=>v,useQueryOptions:()=>h,useRequest:()=>y});var e=o(893);const r=(e,r,t,...o)=>{"development"==e&&t<=r&&console.log("[react-query]",...o)},t=(e,r,t,...o)=>{"development"==e&&t<=r&&console.warn("[react-query]",...o)};var a=o(156),s=o.n(a);const d=e=>{const r=e;return Object.keys(e).map((e=>r[e])).filter((e=>{const r=e.tagName?.toLocaleLowerCase?.();return e.name&&("input"==r||"select"==r)})).reduce(((e,r)=>{const{name:t,value:o,checked:n,type:a,required:s}=r,d="checkbox"==a;if(s&&(""==o||null==o))throw new Error(`Can't use an empty value for ${t}`);let i="number"==a?new Number(o).valueOf():o;return{...e,[t]:d?n:i}}),{})},i=e=>e.map((e=>[e,e.replace(/([0-9]+)/," $1").replace(/(-|_)/g," ").replace(/([A-Z])/g," $1").trim().toLocaleLowerCase().split(" ").filter((e=>""!=e))])),c=(e,r,t,o)=>{const n=e[t];return"path"==r&&""!=n&&null!=n?n:o??""},l=(e,r)=>r?Object.merge(e,{"Content-Type":r}):"multipart/form-data"==r?Object.exclude(e,"Content-Type"):e,u=function(e,r,o={method:"GET"}){const{method:n="GET",headers:a,mode:s="production",onRejected:i,data:c,...u}=o,{body:p,contentType:f}=(e=>null==e||"string"==typeof e?{body:e}:"FormData"==e.constructor.name?{body:e,contentType:"multipart/form-data"}:{body:JSON.stringify(d(e.target)),contentType:"application/x-www-form-urlencoded"})(c),m=o=>fetch(`${e}/${r}`,{headers:l(o,f),method:n,body:p,...u}).then((e=>e.ok?e.text().then((r=>{try{if(e.headers.get("Content-Type")?.includes("application/json"))return JSON.parse(r)}catch(r){t(s,0,0,"Could not parse response to json",e)}return r})):(((...e)=>{console.error("[react-query]",...e)})(`${e.url} ${e.status} ${e.statusText}`),i?.(e),Promise.reject(`${e.status} ${e.statusText}`)))).catch((e=>{if("AbortError"!=e.name)throw new Error(e);t(s,0,0,e.message)}));return a?a().then(m):m({})};class p extends s().Component{state={hasError:!1,error:{e:void 0,info:void 0}};componentDidCatch=(e,r)=>{console.error(e),this.setState({hasError:!0,error:{e,info:r}})};render(){const{children:r}=this.props,{hasError:t,error:o}=this.state;return t?(0,e.jsxs)("div",{className:"SIApxQzQlZp0L1gN0_QW",children:[(0,e.jsx)("div",{children:o?.e?.message}),(0,e.jsx)("hr",{}),(0,e.jsx)("div",{children:o?.info?.componentStack})]}):(0,e.jsx)(s().Fragment,{children:r})}}const f=p,m=(0,a.createContext)({domain:"",parameterType:"path",mode:"production",verbosity:1,idName:"id"}),h=()=>{const e=(0,a.useContext)(m);if(!e)throw new Error("No context for 'useQueryOptions'");return e.idName||(e.idName="id"),e},y=(e={method:"GET"})=>{const{loader:r,...t}=h(),o=Object.merge(e,t);return(e,r={method:"GET"})=>{const{domain:t,...n}=Object.merge(o,r);return u(t,e,n)}},g=m.Provider,v=({query:e,delay:t,onRead:o,requestOptions:n={}})=>{const[s,d]=(0,a.useState)({data:void 0,loading:!0,error:void 0}),i=Object.merge(h(),n),{domain:c,mode:l,verbosity:p}=i,[f,m]=(0,a.useState)(),[y,g]=(0,a.useState)(!1),v=(0,a.useCallback)((e=>d({data:e,loading:!1,error:void 0})),[]);return(0,a.useEffect)((()=>{r(l,p,8,`[read][${e}]`,`${c}/${e}`),f?.abort();const n=new AbortController,a=window.setTimeout((()=>{const{signal:r,...t}=i;((e,r)=>u(c,e,r))(e,{signal:n.signal,...t}).then((e=>{e&&(d({data:e,loading:!1,error:void 0}),o?.(e))})).catch((e=>{d({data:void 0,loading:!1,error:e.toString()})}))}),t??0);return m(n),d({data:void 0,loading:!0,error:void 0}),()=>{n?.abort(),window.clearTimeout(a)}}),[e,y]),{...s,manualUpdate:v,forceRefresh:()=>g(!y)}},b=({children:r,...t})=>{const{loader:o}=h(),{loading:n,...a}=v(t),s=r({loading:n,...a});return(0,e.jsx)(f,{children:n&&o&&o.autoload?(0,e.jsx)(e.Fragment,{children:o.loader??(0,e.jsx)("div",{children:"Loading data..."})}):s})};var O=o(63),$=o.n(O);const x=({children:t,endPoints:o,onCreated:n,onRead:s,onUpdated:l,onDeleted:p,delay:m,type:y="array"})=>{const[g,v,O,x]="string"==typeof o?new Array(4).fill(o):[o.create,o.read,o.update,o.delete],{parameterType:j,domain:T,headers:E,mode:S,verbosity:w,idName:_}=h();return(0,a.useEffect)((()=>{r(S,w,5,"[endpoints]",`[C]${g}`,`[R]${v}`,`[U]${O}`,`[D]${x}`)}),[g,v,O,x]),(0,e.jsx)(f,{children:(0,e.jsx)(b,{query:`${v}`,delay:m,onRead:s,children:({data:o,loading:s,error:f,manualUpdate:m,forceRefresh:h})=>(0,e.jsx)(a.Fragment,{children:t({handleCreate:(e,t={method:"POST"})=>{e.preventDefault();const{method:a="POST",pathTail:s}=t,i=d(e.target),c=`${g}/${s?`${s}/`:""}`;return r(S,w,1,`[create][${a}]`,`${T}/${c}`,i),u(T,c,{data:JSON.stringify(i),method:a,headers:E,mode:S}).then((e=>{m?.([...o,e]),n?.()&&h?.()})).catch((()=>{console.error("Erreur de création","Une erreur est survenu lors de la création dans la base de données")}))},read:{data:o,loading:s,error:f},handleUpdate:(e,t={method:"PUT",name:_})=>{e.preventDefault();const{method:n="PUT",pathTail:a,name:s=_}=t,p=((e,r)=>{const t=d(e);return null==r||null!=t[r]?[t]:Object.entries(t).reduce(((e,t)=>{const o=t[0],[n,a]=(d=[o],i(d).map((e=>{const r=e[1],t=r[r.length-1];return[e[0].replace(new RegExp(`(-|_)?${t}$`),""),t]})))[0],s=e.find((e=>e[r]==a));var d;let c=a;try{c=parseInt(a)}catch(e){}return s?s[n]=t[1]:e.push({[r]:c,[n]:t[1]}),e}),[])})(e.target,s);let f;f="array"==y?[...o]:o;const g=[];return p.forEach((e=>{const t=c(e,j,s,a),d=`${O}/${t?`${t}/`:""}`;let i=!1;if("array"==y){const r=f.findIndex((e=>e[s]==t));if(null!=r){const t={...f[r],...e};i=!$()(f[r],t),f[r]=t}else f.push(e)}else i=!$()(f,o),f={...f,...e};i&&(r(S,w,1,`[update][${n}]`,`${T}/${d}`,e),g.push(u(T,d,{data:JSON.stringify(e),method:n,headers:E,mode:S})))})),Promise.all(g).then((()=>{m?.(f),l?.()&&h?.()}))},handleDelete:(e,t={method:"DELETE",name:_})=>{e?.preventDefault(),e?.stopPropagation();const{method:n="DELETE",pathTail:a,name:s=_,id:i}=t,l=c({[s]:i?.toString()??""},j,s,a),f=`${x}/${l?`${l}/`:""}`;return r(S,w,1,`[delete][${n}]`,`${T}/${f}`),u(T,f,{method:n,headers:E,mode:S,data:"path"==j?"":JSON.stringify(d(e.target))}).then((()=>{if("array"==y){const e=o.findIndex((e=>e[s]==i)),t=o;r(S,w,3,`Removing index ${e}`);const n=[...t.slice(0,e),...t.slice(e+1,t.length)];r(S,w,4,"Array updated",n),m?.(n)}else m?.(o);p?.()&&h?.()}))}},h)})})})}})(),n})()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBUyxJQUNSRCxFQUFVRSxNQUFNLEVBQUdULE1BQ25CTyxFQUFVRSxNQUFNVCxFQUFRLEVBQUdPLEVBQVUvTyxTQUU1QzZELEVBQVdDLEVBQU0wRixFQUFXLEVBQUksZ0JBQWdCd0YsR0FDaEQ5RCxJQUFlOEQsUUFHZjlELElBQWVsRixHQUVuQnNHLE9BQWlCUixXQUcxQkEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9ub2RlX21vZHVsZXMvZmFzdC1kZWVwLWVxdWFsL2luZGV4LmpzIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC1qc3gtcnVudGltZS5wcm9kdWN0aW9uLm1pbi5qcyIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS8uL25vZGVfbW9kdWxlcy9yZWFjdC9qc3gtcnVudGltZS5qcyIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS9leHRlcm5hbCB1bWQgXCJyZWFjdFwiIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3JlYWN0LXF1ZXJ5L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9yZWFjdC1xdWVyeS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvdXRpbHMvbG9nLnRzIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL3V0aWxzL3V0aWwudHMiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvdXRpbHMvYXBpLnRzIiwid2VicGFjazovL3JlYWN0LXF1ZXJ5Ly4vc3JjL2NvbXBvbmVudHMvdXRpbHMvRXJyb3JCb3VuZGFyeS9pbmRleC50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvY29tcG9uZW50cy91dGlscy9FcnJvckJvdW5kYXJ5L2luZGV4Lm1vZHVsZS5zY3NzPzY5OTkiLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvY29tcG9uZW50cy91dGlscy9RdWVyeU9wdGlvbnNQcm92aWRlci9pbmRleC50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvY29tcG9uZW50cy91dGlscy9RdWVyeS9pbmRleC50c3giLCJ3ZWJwYWNrOi8vcmVhY3QtcXVlcnkvLi9zcmMvY29tcG9uZW50cy91dGlscy9DUlVEL2luZGV4LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJyZWFjdFwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJyZWFjdC1xdWVyeVwiXSA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJyZWFjdC1xdWVyeVwiXSA9IGZhY3Rvcnkocm9vdFtcInJlYWN0XCJdKTtcbn0pKHNlbGYsIChfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xNTZfXykgPT4ge1xucmV0dXJuICIsIid1c2Ugc3RyaWN0JztcblxuLy8gZG8gbm90IGVkaXQgLmpzIGZpbGVzIGRpcmVjdGx5IC0gZWRpdCBzcmMvaW5kZXguanN0XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChhICYmIGIgJiYgdHlwZW9mIGEgPT0gJ29iamVjdCcgJiYgdHlwZW9mIGIgPT0gJ29iamVjdCcpIHtcbiAgICBpZiAoYS5jb25zdHJ1Y3RvciAhPT0gYi5jb25zdHJ1Y3RvcikgcmV0dXJuIGZhbHNlO1xuXG4gICAgdmFyIGxlbmd0aCwgaSwga2V5cztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICAgIGlmICghZXF1YWwoYVtpXSwgYltpXSkpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuXG5cbiAgICBpZiAoYS5jb25zdHJ1Y3RvciA9PT0gUmVnRXhwKSByZXR1cm4gYS5zb3VyY2UgPT09IGIuc291cmNlICYmIGEuZmxhZ3MgPT09IGIuZmxhZ3M7XG4gICAgaWYgKGEudmFsdWVPZiAhPT0gT2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mKSByZXR1cm4gYS52YWx1ZU9mKCkgPT09IGIudmFsdWVPZigpO1xuICAgIGlmIChhLnRvU3RyaW5nICE9PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKSByZXR1cm4gYS50b1N0cmluZygpID09PSBiLnRvU3RyaW5nKCk7XG5cbiAgICBrZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYikubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBrZXlzW2ldKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKCFlcXVhbChhW2tleV0sIGJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIHRydWUgaWYgYm90aCBOYU4sIGZhbHNlIG90aGVyd2lzZVxuICByZXR1cm4gYSE9PWEgJiYgYiE9PWI7XG59O1xuIiwiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtanN4LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuJ3VzZSBzdHJpY3QnO3ZhciBmPXJlcXVpcmUoXCJyZWFjdFwiKSxrPVN5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpLGw9U3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLG09T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxuPWYuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQuUmVhY3RDdXJyZW50T3duZXIscD17a2V5OiEwLHJlZjohMCxfX3NlbGY6ITAsX19zb3VyY2U6ITB9O1xuZnVuY3Rpb24gcShjLGEsZyl7dmFyIGIsZD17fSxlPW51bGwsaD1udWxsO3ZvaWQgMCE9PWcmJihlPVwiXCIrZyk7dm9pZCAwIT09YS5rZXkmJihlPVwiXCIrYS5rZXkpO3ZvaWQgMCE9PWEucmVmJiYoaD1hLnJlZik7Zm9yKGIgaW4gYSltLmNhbGwoYSxiKSYmIXAuaGFzT3duUHJvcGVydHkoYikmJihkW2JdPWFbYl0pO2lmKGMmJmMuZGVmYXVsdFByb3BzKWZvcihiIGluIGE9Yy5kZWZhdWx0UHJvcHMsYSl2b2lkIDA9PT1kW2JdJiYoZFtiXT1hW2JdKTtyZXR1cm57JCR0eXBlb2Y6ayx0eXBlOmMsa2V5OmUscmVmOmgscHJvcHM6ZCxfb3duZXI6bi5jdXJyZW50fX1leHBvcnRzLkZyYWdtZW50PWw7ZXhwb3J0cy5qc3g9cTtleHBvcnRzLmpzeHM9cTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1qc3gtcnVudGltZS5wcm9kdWN0aW9uLm1pbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1qc3gtcnVudGltZS5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18xNTZfXzsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiZXhwb3J0IGNvbnN0IHJlcXVlc3RMb2cgPSAobW9kZSwgcGFyYW1WZXJib3NpdHksIGxpbWl0VmVyYm9zaXR5LCAuLi5zKSA9PiB7XG4gICAgaWYgKG1vZGUgPT0gJ2RldmVsb3BtZW50JyAmJiBsaW1pdFZlcmJvc2l0eSA8PSBwYXJhbVZlcmJvc2l0eSlcbiAgICAgICAgY29uc29sZS5sb2coYFtyZWFjdC1xdWVyeV1gLCAuLi5zKTtcbn07XG5leHBvcnQgY29uc3QgcXVlcnlXYXJuID0gKG1vZGUsIHBhcmFtVmVyYm9zaXR5LCBsaW1pdFZlcmJvc2l0eSwgLi4ucykgPT4ge1xuICAgIGlmIChtb2RlID09ICdkZXZlbG9wbWVudCcgJiYgbGltaXRWZXJib3NpdHkgPD0gcGFyYW1WZXJib3NpdHkpXG4gICAgICAgIGNvbnNvbGUud2FybihgW3JlYWN0LXF1ZXJ5XWAsIC4uLnMpO1xufTtcbmV4cG9ydCBjb25zdCBxdWVyeUVycm9yID0gKC4uLnMpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGBbcmVhY3QtcXVlcnldYCwgLi4ucyk7XG59O1xuIiwiaW1wb3J0IHsgdXNlUmVkdWNlciB9IGZyb20gJ3JlYWN0Jztcbi8qKlxuICogZ2V0Rm9ybURhdGEgZXh0cmFjdHMgdGhlIHZhbHVlcyBvZiB0aGUgaW5wdXQgZWxlbWVudHNcbiAqIHJlY2VpdmVkIGZyb20gdGhlIHRhcmdldCBvYmplY3RcbiAqIEBwYXJhbSB0YXJnZXQgVGFyZ2V0IHJlY2VpdmVkIGZyb20gdGhlIG9iamVjdCBldmVudFxuICogQHJldHVybnMgQW4gb2JqZWN0IG9mIHR5cGUgVCBieSBkZWZhdWx0IHdpdGgga2V5IHZhbHVlIHBhaXJzXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRGb3JtRGF0YSA9ICh0YXJnZXQpID0+IHtcbiAgICBjb25zdCB0eXBlZFRhcmdldCA9IHRhcmdldDtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGFyZ2V0KVxuICAgICAgICAubWFwKChrKSA9PiB7XG4gICAgICAgIHJldHVybiB0eXBlZFRhcmdldFtrXTtcbiAgICB9KVxuICAgICAgICAvLyBLZWVwIG5hbWVkIGlucHV0IGFuZCBzZWxlY3RcbiAgICAgICAgLmZpbHRlcigodikgPT4ge1xuICAgICAgICBjb25zdCB0YWcgPSB2LnRhZ05hbWU/LnRvTG9jYWxlTG93ZXJDYXNlPy4oKTtcbiAgICAgICAgcmV0dXJuIHYubmFtZSAmJiAodGFnID09ICdpbnB1dCcgfHwgdGFnID09ICdzZWxlY3QnKTtcbiAgICB9KVxuICAgICAgICAucmVkdWNlKChhY2MsIGN1cikgPT4ge1xuICAgICAgICBjb25zdCB7IG5hbWUsIHZhbHVlLCBjaGVja2VkLCB0eXBlLCByZXF1aXJlZCB9ID0gY3VyO1xuICAgICAgICBjb25zdCBpc0NoZWNrYm94ID0gdHlwZSA9PSAnY2hlY2tib3gnO1xuICAgICAgICBjb25zdCBpc1ZhbEVtcHR5ID0gdmFsdWUgPT0gJycgfHwgdmFsdWUgPT0gbnVsbDtcbiAgICAgICAgaWYgKHJlcXVpcmVkICYmIGlzVmFsRW1wdHkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IHVzZSBhbiBlbXB0eSB2YWx1ZSBmb3IgJHtuYW1lfWApO1xuICAgICAgICBsZXQgZmluYWxWYWx1ZSA9IHR5cGUgPT0gJ251bWJlcicgPyBuZXcgTnVtYmVyKHZhbHVlKS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmFjYyxcbiAgICAgICAgICAgIFtuYW1lXTogaXNDaGVja2JveCA/IGNoZWNrZWQgOiBmaW5hbFZhbHVlLFxuICAgICAgICB9O1xuICAgIH0sIHt9KTtcbn07XG4vKipcbiAqIEV4dHJhY3RzIGFsbCB0aGUgbmVjZXNzYXJ5IGRhdGEgZnJvbSB0aGUgZm9ybSB0YXJnZXRcbiAqXG4gKiBAcGFyYW0gdGFyZ2V0IFRhcmdldCByZWNlaXZlZCBmcm9tIHRoZSBvYmplY3QgZXZlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIHRoYXQgaWRlbnRpZmllcyB0aGUgZGF0YVxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogZm9ybUV4dHJhY3RvciB3aXRoIGZvcm0gaW5wdXRzXG4gKiBgYGBodG1sXG4gKiA8ZGl2PlxuICogIDxpbnB1dCBuYW1lPVwiaWQtMVwiIC8+XG4gKiAgPGlucHV0IG5hbWU9XCJhZGRyZXNzLTFcIiB2YWx1ZT1cIjIgSGFybGV5IHN0cmVldFwiIC8+XG4gKiA8L2Rpdj5cbiAqIC4uLlxuICogPGRpdj5cbiAqICA8aW5wdXQgbmFtZT1cImlkLW5cIiAvPlxuICogIDxpbnB1dCBuYW1lPVwiYWRkcmVzcy1uXCIgdmFsdWU9XCIzNSBydWUgY2hhbXBzIMOpbHlzw6llc1wiIC8+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICogYGBgdHlwZXNjcmlwdFxuICogZm9ybUV4dHJhY3Rvcih0YXJnZXQsIFtcImlkXCJdKTtcbiAqIC8vIFtcbiAqIC8vICB7aWQ6IFwiMVwiLCBhZGRyZXNzOiBcIjIgSGFybGV5IHN0cmVldFwifSxcbiAqIC8vICAuLi4sXG4gKiAvLyAge2lkOiBcIm5cIiwgYWRkcmVzczogXCIzNSBydWUgY2hhbXBzIMOpbHlzw6llc1wifVxuICogLy8gXVxuICogYGBgXG4gKlxuICogQHJldHVybnMge0Zvcm1FeHRyYWN0b3JEYXRhfSBGb3JtRXh0cmFjb3JEYXRhXG4gKi9cbmV4cG9ydCBjb25zdCBmb3JtRXh0cmFjdG9yID0gKHRhcmdldCwgbmFtZSkgPT4ge1xuICAgIC8vIEdldCBhbGwgdGhlIGRhdGEgZnJvbSB0aGUgZm9ybVxuICAgIGNvbnN0IGZvcm1EYXRhID0gZ2V0Rm9ybURhdGEodGFyZ2V0KTtcbiAgICAvLyBTaW1wbHkgY2hlY2sgaWYgdGhlcmUgaXMgbm8gaWQgZm9yIGVhY2ggZm9ybURhdGFcbiAgICBpZiAobmFtZSA9PSB1bmRlZmluZWQgfHwgZm9ybURhdGFbbmFtZV0gIT0gbnVsbClcbiAgICAgICAgcmV0dXJuIFtmb3JtRGF0YV07XG4gICAgLy8gRWFjaCBmb3JtRGF0YSBpcyBzcGVjaWZpYyB0byBhbiBpZFxuICAgIGNvbnN0IHZhbHVlcyA9IE9iamVjdC5lbnRyaWVzKGZvcm1EYXRhKTtcbiAgICByZXR1cm4gdmFsdWVzLnJlZHVjZSgocHJldiwgY3VycikgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSBjdXJyWzBdO1xuICAgICAgICBjb25zdCBbYXR0ciwgaWRdID0gc2VwZXJhdGVBbmRLZWVwSWRzKFtrZXldKVswXTtcbiAgICAgICAgY29uc3QgZWxlbSA9IHByZXYuZmluZCgoZWxlbSkgPT4gZWxlbVtuYW1lXSA9PSBpZCk7XG4gICAgICAgIGxldCBwYXJzZUlkID0gaWQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwYXJzZUlkID0gcGFyc2VJbnQoaWQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgaWYgKGVsZW0pXG4gICAgICAgICAgICBlbGVtW2F0dHJdID0gY3VyclsxXTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcHJldi5wdXNoKHsgW25hbWVdOiBwYXJzZUlkLCBbYXR0cl06IGN1cnJbMV0gfSk7XG4gICAgICAgIHJldHVybiBwcmV2O1xuICAgIH0sIFtdKTtcbn07XG4vKipcbiAqIFJlZ3JvdXAgc3RyaW5ncyBiYXNlZCBvbiB0aGVpciBpZHMgcmVwcmVzZW50ZWQgYnkgdGhlIGxhc3Qgc2VwZXJhdGlvbiBvZiB0aGUgc3RyaW5nXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBzZXBlcmF0ZUFuZEtlZXBJZHMoXCJoZWxsb1dvcmxkNVwiLFwiaGVsbG8td29ybGQ2XCIsIFwiaGVsbG9Xb3JsZDdcIiwgXCJoZWxsb1dvcmxkXCIpO1xuICogLy8gW1tcImhlbGxvV29ybGRcIiwgXCI1XCJdLCBbXCJoZWxsby13b3JsZFwiLCBcIjZcIl0sIFtcImhlbGxvV29ybGRcIiwgXCI3XCJdLCBbXCJoZWxsb1wiLCBcIldvcmxkXCJdXVxuICogYGBgXG4gKlxuICogQHBhcmFtIHN0cnMgVGhlIHN0cmluZyBhcnJheSB0byBzZWFyY2ggZm9yIGlkcyBhbmQgcmVncm91cCBhbGwgYXR0cmlidXRlcyB3aXRoIHRoZSBzYW1lIGlkc1xuICogQHJldHVybnMgQW5kIGFycmF5IG9mIGFycmF5cyBlYWNoIGNvbnRhaW5pbmcgdGhlIHBhcnNlZCBuYW1lIGFuZCBpZCBvZiB0aGUgc3RyaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBzZXBlcmF0ZUFuZEtlZXBJZHMgPSAoc3RycykgPT4ge1xuICAgIHJldHVybiBzZXBlcmF0ZShzdHJzKS5tYXAoKHYpID0+IHtcbiAgICAgICAgY29uc3Qgc2VwZXJhdGVkID0gdlsxXTtcbiAgICAgICAgY29uc3QgaWQgPSBzZXBlcmF0ZWRbc2VwZXJhdGVkLmxlbmd0aCAtIDFdO1xuICAgICAgICByZXR1cm4gW3ZbMF0ucmVwbGFjZShuZXcgUmVnRXhwKGAoLXxfKT8ke2lkfSRgKSwgJycpLCBpZF07XG4gICAgfSk7XG59O1xuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHNlcGVyYXRlcyBzdHJpbmdzIGJhc2VkIG9uIHNwZWNpYWwgY2hhcmFjdGVycyAvIGNhc2VcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIHNlcGVyYXRlKFtcImhlbGxvLXdvcmxkXCIsIFwiaGVsbG9Xb3JsZDJcIiwgXCJoZWxsb193b3JsZF8yXCJdKVxuICogLy8gW1xuICogLy8gICBbXCJoZWxsby13b3JsZFwiLCBbXCJoZWxsb1wiLFwid29ybGRcIl1dLFxuICogLy8gICBbXCJoZWxsb1dvcmxkMlwiLCBbXCJoZWxsb1wiLFwid29ybGRcIiwgXCIyXCJdXSxcbiAqIC8vICAgW1wiaGVsbG9fd29ybGRfMlwiLCBbXCJoZWxsb1wiLCBcIndvcmxkXCIsIFwiMlwiXV1cbiAqIC8vIF1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdHJzIFRoZSBzdHJpbmcgYXJyYXkgdG8gdHJ5IHNlcGVyYXRlXG4gKiBAcmV0dXJucyBBbiBhcnJheSBvZiBhcnJheXMgd2l0aCB0aGUgaW5wdXQgLyBvdXRwdXQgc3RyaW5nc1xuICovXG5leHBvcnQgY29uc3Qgc2VwZXJhdGUgPSAoc3RycykgPT4ge1xuICAgIHJldHVybiBzdHJzLm1hcCgoc3RyKSA9PiB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBzdHIsXG4gICAgICAgICAgICBzdHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvKFswLTldKykvLCAnICQxJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvKC18XykvZywgJyAnKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oW0EtWl0pL2csICcgJDEnKVxuICAgICAgICAgICAgICAgIC50cmltKClcbiAgICAgICAgICAgICAgICAudG9Mb2NhbGVMb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgIC5zcGxpdCgnICcpXG4gICAgICAgICAgICAgICAgLmZpbHRlcigocykgPT4gcyAhPSAnJyksXG4gICAgICAgIF07XG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGdldFBhdGhUYWlsID0gKGRhdGEsIHR5cGUsIG5hbWUsIHBhdGhUYWlsKSA9PiB7XG4gICAgY29uc3QgaWQgPSBkYXRhW25hbWVdO1xuICAgIGlmICh0eXBlID09ICdwYXRoJyAmJiBpZCAhPSAnJyAmJiBpZCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG4gICAgcmV0dXJuIHBhdGhUYWlsID8/ICcnO1xufTtcbmV4cG9ydCBjb25zdCB1c2VGb3JjZVVwZGF0ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gdXNlUmVkdWNlcigoKSA9PiAoe30pLCB7fSlbMV07XG59O1xuZXhwb3J0IGNvbnN0IHJlc3RydWN0dXJlRGF0YSA9IChkYXRhKSA9PiB7XG4gICAgaWYgKGRhdGEgPT0gdW5kZWZpbmVkIHx8IHR5cGVvZiBkYXRhID09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4geyBib2R5OiBkYXRhIH07XG4gICAgZWxzZSBpZiAoZGF0YS5jb25zdHJ1Y3Rvci5uYW1lID09ICdGb3JtRGF0YScpXG4gICAgICAgIHJldHVybiB7IGJvZHk6IGRhdGEsIGNvbnRlbnRUeXBlOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShnZXRGb3JtRGF0YShkYXRhLnRhcmdldCkpLFxuICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgYnVpbGRIZWFkZXIgPSAoaGVhZGVycywgY29udGVudFR5cGUpID0+IHtcbiAgICByZXR1cm4gY29udGVudFR5cGVcbiAgICAgICAgPyBPYmplY3QubWVyZ2UoaGVhZGVycywge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6IGNvbnRlbnRUeXBlLFxuICAgICAgICB9KVxuICAgICAgICA6IGNvbnRlbnRUeXBlID09ICdtdWx0aXBhcnQvZm9ybS1kYXRhJ1xuICAgICAgICAgICAgPyBPYmplY3QuZXhjbHVkZShoZWFkZXJzLCAnQ29udGVudC1UeXBlJylcbiAgICAgICAgICAgIDogaGVhZGVycztcbn07XG4iLCJpbXBvcnQgeyBxdWVyeUVycm9yLCBxdWVyeVdhcm4sIHF1ZXJ5V2FybiBhcyByZXF1ZXN0V2FybiB9IGZyb20gJy4vbG9nJztcbmltcG9ydCB7IGJ1aWxkSGVhZGVyLCByZXN0cnVjdHVyZURhdGEgfSBmcm9tICcuL3V0aWwnO1xuZXhwb3J0IGNvbnN0IHJlcXVlc3QgPSBmdW5jdGlvbiAoZG9tYWluLCBwYXRoLCBvcHRpb25zID0ge1xuICAgIG1ldGhvZDogJ0dFVCcsXG59KSB7XG4gICAgY29uc3QgeyBtZXRob2QgPSAnR0VUJywgaGVhZGVycywgbW9kZSA9ICdwcm9kdWN0aW9uJywgb25SZWplY3RlZCwgZGF0YSwgLi4ucmVzdCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCB7IGJvZHksIGNvbnRlbnRUeXBlIH0gPSByZXN0cnVjdHVyZURhdGEoZGF0YSk7XG4gICAgY29uc3QgcmVxID0gKGhlYWRlcnMpID0+IHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke2RvbWFpbn0vJHtwYXRofWAsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IGJ1aWxkSGVhZGVyKGhlYWRlcnMsIGNvbnRlbnRUeXBlKSxcbiAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgICAgICAgICBxdWVyeUVycm9yKGAke3Jlcy51cmx9ICR7cmVzLnN0YXR1c30gJHtyZXMuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgICAgICAgICBvblJlamVjdGVkPy4ocmVzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYCR7cmVzLnN0YXR1c30gJHtyZXMuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXMudGV4dCgpLnRoZW4oKHQpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmhlYWRlcnMuZ2V0KCdDb250ZW50LVR5cGUnKT8uaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0V2Fybihtb2RlLCAwLCAwLCBgQ291bGQgbm90IHBhcnNlIHJlc3BvbnNlIHRvIGpzb25gLCByZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIubmFtZSA9PSAnQWJvcnRFcnJvcicpXG4gICAgICAgICAgICAgICAgcXVlcnlXYXJuKG1vZGUsIDAsIDAsIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gaGVhZGVycyA/IGhlYWRlcnMoKS50aGVuKHJlcSkgOiByZXEoe30pO1xufTtcbiIsImltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnNhZmUtZmluYWxseSAqL1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL2luZGV4Lm1vZHVsZS5zY3NzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5jbGFzcyBFcnJvckJvdW5kYXJ5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBzdGF0ZSA9IHtcbiAgICAgICAgaGFzRXJyb3I6IGZhbHNlLFxuICAgICAgICBlcnJvcjogeyBlOiB1bmRlZmluZWQsIGluZm86IHVuZGVmaW5lZCB9LFxuICAgIH07XG4gICAgY29tcG9uZW50RGlkQ2F0Y2ggPSAoZSwgaW5mbykgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaGFzRXJyb3I6IHRydWUsIGVycm9yOiB7IGUsIGluZm8gfSB9KTtcbiAgICB9O1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBjaGlsZHJlbiB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgeyBoYXNFcnJvciwgZXJyb3IgfSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGlmICghaGFzRXJyb3IpXG4gICAgICAgICAgICByZXR1cm4gX2pzeChSZWFjdC5GcmFnbWVudCwgeyBjaGlsZHJlbjogY2hpbGRyZW4gfSk7XG4gICAgICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IHN0eWxlcy5tYWluLCBjaGlsZHJlbjogW19qc3goXCJkaXZcIiwgeyBjaGlsZHJlbjogZXJyb3I/LmU/Lm1lc3NhZ2UgfSksIF9qc3goXCJoclwiLCB7fSksIF9qc3goXCJkaXZcIiwgeyBjaGlsZHJlbjogZXJyb3I/LmluZm8/LmNvbXBvbmVudFN0YWNrIH0pXSB9KSk7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgRXJyb3JCb3VuZGFyeTtcbiIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IGRlZmF1bHQge1wibWFpblwiOlwiU0lBcHhRelFsWnAwTDFnTjBfUVdcIn07IiwiaW1wb3J0IHsgcmVxdWVzdCwgfSBmcm9tICcuLi8uLi8uLi91dGlscy9hcGknO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmNvbnN0IHF1ZXJ5T3B0aW9uc0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgICBkb21haW46ICcnLFxuICAgIHBhcmFtZXRlclR5cGU6ICdwYXRoJyxcbiAgICBtb2RlOiAncHJvZHVjdGlvbicsXG4gICAgdmVyYm9zaXR5OiAxLFxuICAgIGlkTmFtZTogJ2lkJyxcbn0pO1xuZXhwb3J0IGNvbnN0IHVzZVF1ZXJ5T3B0aW9ucyA9ICgpID0+IHtcbiAgICBjb25zdCBjdHggPSB1c2VDb250ZXh0KHF1ZXJ5T3B0aW9uc0NvbnRleHQpO1xuICAgIGlmICghY3R4KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjb250ZXh0IGZvciAndXNlUXVlcnlPcHRpb25zJ1wiKTtcbiAgICBpZiAoIWN0eC5pZE5hbWUpXG4gICAgICAgIGN0eC5pZE5hbWUgPSAnaWQnO1xuICAgIHJldHVybiBjdHg7XG59O1xuZXhwb3J0IGNvbnN0IHVzZVJlcXVlc3QgPSAoclJlc3QgPSB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbn0pID0+IHtcbiAgICBjb25zdCB7IGxvYWRlciwgLi4ucVJlc3QgfSA9IHVzZVF1ZXJ5T3B0aW9ucygpO1xuICAgIGNvbnN0IG1lcmdlZCA9IE9iamVjdC5tZXJnZShyUmVzdCwgcVJlc3QpO1xuICAgIHJldHVybiAocGF0aCwgb3B0aW9ucyA9IHsgbWV0aG9kOiAnR0VUJyB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZG9tYWluLCAuLi5yZXR1cm5NZXJnZWQgfSA9IE9iamVjdC5tZXJnZShtZXJnZWQsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcmVxdWVzdChkb21haW4sIHBhdGgsIHJldHVybk1lcmdlZCk7XG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgUXVlcnlPcHRpb25zUHJvdmlkZXIgPSBxdWVyeU9wdGlvbnNDb250ZXh0LlByb3ZpZGVyO1xuIiwiaW1wb3J0IHsganN4IGFzIF9qc3gsIEZyYWdtZW50IGFzIF9GcmFnbWVudCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuaW1wb3J0IHsgcmVxdWVzdCwgfSBmcm9tICcuLi8uLi8uLi91dGlscy9hcGknO1xuaW1wb3J0IHsgcmVxdWVzdExvZyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2xvZyc7XG5pbXBvcnQgRXJyb3JCb3VuZGFyeSBmcm9tICcuLi9FcnJvckJvdW5kYXJ5JztcbmltcG9ydCB7IHVzZVF1ZXJ5T3B0aW9ucyB9IGZyb20gJy4uL1F1ZXJ5T3B0aW9uc1Byb3ZpZGVyJztcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuZXhwb3J0IGNvbnN0IHVzZVF1ZXJ5ID0gKHsgcXVlcnksIGRlbGF5LCBvblJlYWQsIHJlcXVlc3RPcHRpb25zID0ge30sIH0pID0+IHtcbiAgICAvLyBUaGUgZGVmYXVsdCBkYXRhL2xvYWQvZXJyb3IgdHJpcGxlXG4gICAgY29uc3QgW2RhdGFMb2FkRXJyLCBzZXREYXRhTG9hZEVycl0gPSB1c2VTdGF0ZSh7XG4gICAgICAgIGRhdGE6IHVuZGVmaW5lZCxcbiAgICAgICAgbG9hZGluZzogdHJ1ZSxcbiAgICAgICAgZXJyb3I6IHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgICBjb25zdCBvcHRpb25zID0gT2JqZWN0Lm1lcmdlKHVzZVF1ZXJ5T3B0aW9ucygpLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgY29uc3QgeyBkb21haW4sIG1vZGUsIHZlcmJvc2l0eSB9ID0gb3B0aW9ucztcbiAgICBjb25zdCByZXEgPSAocGF0aCwgb3B0aW9ucykgPT4gcmVxdWVzdChkb21haW4sIHBhdGgsIG9wdGlvbnMpO1xuICAgIGNvbnN0IFtjb250cm9sbGVyLCBzZXRDb250cm9sbGVyXSA9IHVzZVN0YXRlKCk7XG4gICAgY29uc3QgW3JlZnJlc2gsIHNldFJlZnJlc2hdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IG1hbnVhbFVwZGF0ZSA9IHVzZUNhbGxiYWNrKChkYXRhKSA9PiBzZXREYXRhTG9hZEVycih7XG4gICAgICAgIGRhdGEsXG4gICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICBlcnJvcjogdW5kZWZpbmVkLFxuICAgIH0pLCBbXSk7XG4gICAgLy8gQ2hlY2sgaWYgdGhlIHF1ZXJ5IHByb3AgaGFzIGNoYW5nZWRcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICByZXF1ZXN0TG9nKG1vZGUsIHZlcmJvc2l0eSwgOCwgYFtyZWFkXVske3F1ZXJ5fV1gLCBgJHtkb21haW59LyR7cXVlcnl9YCk7XG4gICAgICAgIGNvbnRyb2xsZXI/LmFib3J0KCk7XG4gICAgICAgIGNvbnN0IGN0cmwgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHNpZ25hbCwgLi4ub3RoZXJzIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgcmVxKHF1ZXJ5LCB7XG4gICAgICAgICAgICAgICAgc2lnbmFsOiBjdHJsLnNpZ25hbCxcbiAgICAgICAgICAgICAgICAuLi5vdGhlcnMsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldERhdGFMb2FkRXJyKHsgZGF0YTogcmVzLCBsb2FkaW5nOiBmYWxzZSwgZXJyb3I6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgb25SZWFkPy4ocmVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0RGF0YUxvYWRFcnIoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZGVsYXkgPz8gMCk7XG4gICAgICAgIHNldENvbnRyb2xsZXIoY3RybCk7XG4gICAgICAgIHNldERhdGFMb2FkRXJyKHsgZGF0YTogdW5kZWZpbmVkLCBsb2FkaW5nOiB0cnVlLCBlcnJvcjogdW5kZWZpbmVkIH0pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY3RybD8uYWJvcnQoKTtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIH07XG4gICAgfSwgW3F1ZXJ5LCByZWZyZXNoXSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZGF0YUxvYWRFcnIsXG4gICAgICAgIG1hbnVhbFVwZGF0ZSxcbiAgICAgICAgZm9yY2VSZWZyZXNoOiAoKSA9PiBzZXRSZWZyZXNoKCFyZWZyZXNoKSxcbiAgICB9O1xufTtcbi8qKlxuICogVGhlIHF1ZXJ5IGNvbXBvbmVudCBpcyBhIGZldGNoIHdyYXBwZXIgdGhhdCBhbGxvd3MgdG8gZGlyZWN0bHkgYWRkIGxvZ2ljIGluIHRoZSBkZXNpZ24gb2YgdGhlIHJlYWN0IERPTSBhcmNoaXRlY3R1cmVcbiAqL1xuZXhwb3J0IGNvbnN0IFF1ZXJ5ID0gKHsgY2hpbGRyZW4sIC4uLnFSZXN0IH0pID0+IHtcbiAgICBjb25zdCB7IGxvYWRlciB9ID0gdXNlUXVlcnlPcHRpb25zKCk7XG4gICAgY29uc3QgeyBsb2FkaW5nLCAuLi5xRGF0YSB9ID0gdXNlUXVlcnkocVJlc3QpO1xuICAgIC8vIEFsd2F5cyBjYWxsIHRvIG1haW50YWluIHRoZSBob29rc1xuICAgIGNvbnN0IHJlbmRlciA9IGNoaWxkcmVuKHsgbG9hZGluZywgLi4ucURhdGEgfSk7XG4gICAgcmV0dXJuIChfanN4KEVycm9yQm91bmRhcnksIHsgY2hpbGRyZW46IGxvYWRpbmcgJiYgbG9hZGVyICYmIGxvYWRlci5hdXRvbG9hZCA/IChfanN4KF9GcmFnbWVudCwgeyBjaGlsZHJlbjogbG9hZGVyLmxvYWRlciA/PyBfanN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IFwiTG9hZGluZyBkYXRhLi4uXCIgfSkgfSkpIDogKHJlbmRlcikgfSkpO1xufTtcbiIsImltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgeyByZXF1ZXN0IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvYXBpJztcbmltcG9ydCB7IHJlcXVlc3RMb2cgfSBmcm9tICcuLi8uLi8uLi91dGlscy9sb2cnO1xuaW1wb3J0IHsgZm9ybUV4dHJhY3RvciwgZ2V0Rm9ybURhdGEsIGdldFBhdGhUYWlsLCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3V0aWwnO1xuaW1wb3J0IEVycm9yQm91bmRhcnkgZnJvbSAnLi4vRXJyb3JCb3VuZGFyeSc7XG5pbXBvcnQgeyBRdWVyeSB9IGZyb20gJy4uL1F1ZXJ5JztcbmltcG9ydCB7IHVzZVF1ZXJ5T3B0aW9ucyB9IGZyb20gJy4uL1F1ZXJ5T3B0aW9uc1Byb3ZpZGVyJztcbmltcG9ydCBlcXVhbCBmcm9tICdmYXN0LWRlZXAtZXF1YWwnO1xuaW1wb3J0IHsgRnJhZ21lbnQsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0Jztcbi8qKlxuICogVGhpcyBjb21wb25lbnQgaXMgdXNlZCB0byBzaW1wbGlmeSBgQ1JVRGAgb3BlcmF0aW9ucy5cbiAqIFlvdSBnaXZlIGl0IHRoZSBgZW5kcG9pbnQocylgIHRvIHdoaWNoIHlvdSB3YW50IHRvIGRvIHJlcXVlc3RzIGFuZCBpdCB3aWxsIGhhbmRsZVxuICogYWxsIG9mIHRoZSB0YXNrcyBpbiB0aGUgYmFja2dyb3VuZCBhbmQgdXBkYXRlIHRoZSBzdGF0ZSBvZiB0aGUgdmFyaWFibGVzXG4gKiBpdCBnaXZlcyB5b3UgZnJvbSB0aGUgY2hpbGQgZnVuY3Rpb24uXG4gKlxuICogTWFrZSBzdXJlIHRvIGRlZmluZSB0aGUgUXVlcnlPcHRpb25zIHBhcmFtIHdpdGggdGhlIGBRdWVyeU9wdGlvbnNQcm92aWRlcmAgY29tcG9uZW50XG4gKlxuICogR28gdG8gdGhlIFtleGFtcGxlcyBkaXJlY3RvcnldKGh0dHBzOi8vYml0YnVja2V0Lm9yZy9uZW92aXNpb24vcmVhY3QtcXVlcnkvc3JjL21hc3Rlci9zcmMvZXhhbXBsZXMpIHRvIHNlZSBleGFtcGxlc1xuICovXG5jb25zdCBDUlVEID0gKHsgY2hpbGRyZW4sIGVuZFBvaW50cywgb25DcmVhdGVkLCBvblJlYWQsIG9uVXBkYXRlZCwgb25EZWxldGVkLCBkZWxheSwgdHlwZSA9ICdhcnJheScsIH0pID0+IHtcbiAgICBjb25zdCBbY3JlYXRlRW5kcG9pbnQsIHJlYWRFbmRwb2ludCwgdXBkYXRlRW5kcG9pbnQsIGRlbGV0ZUVuZHBvaW50XSA9IHR5cGVvZiBlbmRQb2ludHMgPT0gJ3N0cmluZydcbiAgICAgICAgPyBuZXcgQXJyYXkoNCkuZmlsbChlbmRQb2ludHMpXG4gICAgICAgIDogW2VuZFBvaW50cy5jcmVhdGUsIGVuZFBvaW50cy5yZWFkLCBlbmRQb2ludHMudXBkYXRlLCBlbmRQb2ludHMuZGVsZXRlXTtcbiAgICBjb25zdCB7IHBhcmFtZXRlclR5cGUsIGRvbWFpbiwgaGVhZGVycywgbW9kZSwgdmVyYm9zaXR5LCBpZE5hbWUgfSA9IHVzZVF1ZXJ5T3B0aW9ucygpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJlcXVlc3RMb2cobW9kZSwgdmVyYm9zaXR5LCA1LCBgW2VuZHBvaW50c11gLCBgW0NdJHtjcmVhdGVFbmRwb2ludH1gLCBgW1JdJHtyZWFkRW5kcG9pbnR9YCwgYFtVXSR7dXBkYXRlRW5kcG9pbnR9YCwgYFtEXSR7ZGVsZXRlRW5kcG9pbnR9YCk7XG4gICAgfSwgW2NyZWF0ZUVuZHBvaW50LCByZWFkRW5kcG9pbnQsIHVwZGF0ZUVuZHBvaW50LCBkZWxldGVFbmRwb2ludF0pO1xuICAgIHJldHVybiAoX2pzeChFcnJvckJvdW5kYXJ5LCB7IGNoaWxkcmVuOiBfanN4KFF1ZXJ5LCB7IHF1ZXJ5OiBgJHtyZWFkRW5kcG9pbnR9YCwgZGVsYXk6IGRlbGF5LCBvblJlYWQ6IG9uUmVhZCwgY2hpbGRyZW46ICh7IGRhdGEsIGxvYWRpbmcsIGVycm9yLCBtYW51YWxVcGRhdGUsIGZvcmNlUmVmcmVzaCB9KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChfanN4KEZyYWdtZW50LCB7IGNoaWxkcmVuOiBjaGlsZHJlbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVDcmVhdGU6IChlLCBwYXJhbXMgPSB7IG1ldGhvZDogJ1BPU1QnIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtZXRob2QgPSAnUE9TVCcsIHBhdGhUYWlsIH0gPSBwYXJhbXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBnZXRGb3JtRGF0YShlLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBgJHtjcmVhdGVFbmRwb2ludH0vJHtwYXRoVGFpbCA/IGAke3BhdGhUYWlsfS9gIDogJyd9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0TG9nKG1vZGUsIHZlcmJvc2l0eSwgMSwgYFtjcmVhdGVdWyR7bWV0aG9kfV1gLCBgJHtkb21haW59LyR7ZW5kcG9pbnR9YCwgZm9ybURhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0KGRvbWFpbiwgZW5kcG9pbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZm9ybURhdGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGNyZWF0ZWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFudWFsVXBkYXRlPy4oWy4uLmRhdGEsIGNyZWF0ZWRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DcmVhdGVkPy4oKSAmJiBmb3JjZVJlZnJlc2g/LigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycmV1ciBkZSBjcsOpYXRpb25gLCBgVW5lIGVycmV1ciBlc3Qgc3VydmVudSBsb3JzIGRlIGxhIGNyw6lhdGlvbiBkYW5zIGxhIGJhc2UgZGUgZG9ubsOpZXNgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkOiB7IGRhdGEsIGxvYWRpbmcsIGVycm9yIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVVcGRhdGU6IChlLCBwYXJhbXMgPSB7IG1ldGhvZDogJ1BVVCcsIG5hbWU6IGlkTmFtZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbWV0aG9kID0gJ1BVVCcsIHBhdGhUYWlsLCBuYW1lID0gaWROYW1lIH0gPSBwYXJhbXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybURhdGFzID0gZm9ybUV4dHJhY3RvcihlLnRhcmdldCwgbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0RhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gJ2FycmF5JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YSA9IFsuLi5kYXRhXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGEgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGFzLmZvckVhY2goKGZvcm1EYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhaWwgPSBnZXRQYXRoVGFpbChmb3JtRGF0YSwgcGFyYW1ldGVyVHlwZSwgbmFtZSwgcGF0aFRhaWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGAke3VwZGF0ZUVuZHBvaW50fS8ke3RhaWwgPyBgJHt0YWlsfS9gIDogJyd9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhhc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBuZXdEYXRhLmZpbmRJbmRleCgodmFsKSA9PiB2YWxbbmFtZV0gPT0gdGFpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVyZ2VkRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ubmV3RGF0YVtpbmRleF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmZvcm1EYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ2hhbmdlZCA9ICFlcXVhbChuZXdEYXRhW2luZGV4XSwgbWVyZ2VkRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YVtpbmRleF0gPSBtZXJnZWREYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGEucHVzaChmb3JtRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNDaGFuZ2VkID0gIWVxdWFsKG5ld0RhdGEsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YSA9IHsgLi4ubmV3RGF0YSwgLi4uZm9ybURhdGEgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdExvZyhtb2RlLCB2ZXJib3NpdHksIDEsIGBbdXBkYXRlXVske21ldGhvZH1dYCwgYCR7ZG9tYWlufS8ke2VuZHBvaW50fWAsIGZvcm1EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2gocmVxdWVzdChkb21haW4sIGVuZHBvaW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZm9ybURhdGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW51YWxVcGRhdGU/LihuZXdEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25VcGRhdGVkPy4oKSAmJiBmb3JjZVJlZnJlc2g/LigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZURlbGV0ZTogKGUsIHBhcmFtcyA9IHsgbWV0aG9kOiAnREVMRVRFJywgbmFtZTogaWROYW1lIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlPy5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGU/LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbWV0aG9kID0gJ0RFTEVURScsIHBhdGhUYWlsLCBuYW1lID0gaWROYW1lLCBpZCwgfSA9IHBhcmFtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWlsID0gZ2V0UGF0aFRhaWwoeyBbbmFtZV06IGlkPy50b1N0cmluZygpID8/ICcnIH0sIHBhcmFtZXRlclR5cGUsIG5hbWUsIHBhdGhUYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGAke2RlbGV0ZUVuZHBvaW50fS8ke3RhaWwgPyBgJHt0YWlsfS9gIDogJyd9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0TG9nKG1vZGUsIHZlcmJvc2l0eSwgMSwgYFtkZWxldGVdWyR7bWV0aG9kfV1gLCBgJHtkb21haW59LyR7ZW5kcG9pbnR9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QoZG9tYWluLCBlbmRwb2ludCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHBhcmFtZXRlclR5cGUgPT0gJ3BhdGgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IEpTT04uc3RyaW5naWZ5KGdldEZvcm1EYXRhKGUudGFyZ2V0KSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZGF0YS5maW5kSW5kZXgoKHZhbCkgPT4gdmFsW25hbWVdID09IGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGVkRGF0YSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0TG9nKG1vZGUsIHZlcmJvc2l0eSwgMywgYFJlbW92aW5nIGluZGV4ICR7aW5kZXh9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdBcnIgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udHlwZWREYXRhLnNsaWNlKDAsIGluZGV4KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50eXBlZERhdGEuc2xpY2UoaW5kZXggKyAxLCB0eXBlZERhdGEubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0TG9nKG1vZGUsIHZlcmJvc2l0eSwgNCwgYEFycmF5IHVwZGF0ZWRgLCBuZXdBcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFudWFsVXBkYXRlPy4obmV3QXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbnVhbFVwZGF0ZT8uKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRGVsZXRlZD8uKCkgJiYgZm9yY2VSZWZyZXNoPy4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sIGZvcmNlUmVmcmVzaCkgfSkpO1xuICAgICAgICAgICAgfSB9KSB9KSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgQ1JVRDtcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzE1Nl9fIiwiZXF1YWwiLCJhIiwiYiIsImNvbnN0cnVjdG9yIiwibGVuZ3RoIiwiaSIsImtleXMiLCJBcnJheSIsImlzQXJyYXkiLCJSZWdFeHAiLCJzb3VyY2UiLCJmbGFncyIsInZhbHVlT2YiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImtleSIsImYiLCJrIiwiU3ltYm9sIiwiZm9yIiwibCIsIm0iLCJuIiwiX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQiLCJSZWFjdEN1cnJlbnRPd25lciIsInAiLCJyZWYiLCJfX3NlbGYiLCJfX3NvdXJjZSIsInEiLCJjIiwiZyIsImQiLCJlIiwiaCIsImRlZmF1bHRQcm9wcyIsIiQkdHlwZW9mIiwidHlwZSIsInByb3BzIiwiX293bmVyIiwiY3VycmVudCIsIkZyYWdtZW50IiwianN4IiwianN4cyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZGVmaW5pdGlvbiIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwiciIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJyZXF1ZXN0TG9nIiwibW9kZSIsInBhcmFtVmVyYm9zaXR5IiwibGltaXRWZXJib3NpdHkiLCJzIiwiY29uc29sZSIsImxvZyIsInF1ZXJ5V2FybiIsIndhcm4iLCJnZXRGb3JtRGF0YSIsInRhcmdldCIsInR5cGVkVGFyZ2V0IiwibWFwIiwiZmlsdGVyIiwidiIsInRhZyIsInRhZ05hbWUiLCJ0b0xvY2FsZUxvd2VyQ2FzZSIsIm5hbWUiLCJyZWR1Y2UiLCJhY2MiLCJjdXIiLCJjaGVja2VkIiwicmVxdWlyZWQiLCJpc0NoZWNrYm94IiwiRXJyb3IiLCJmaW5hbFZhbHVlIiwiTnVtYmVyIiwic2VwZXJhdGUiLCJzdHJzIiwic3RyIiwicmVwbGFjZSIsInRyaW0iLCJzcGxpdCIsImdldFBhdGhUYWlsIiwiZGF0YSIsInBhdGhUYWlsIiwiaWQiLCJidWlsZEhlYWRlciIsImhlYWRlcnMiLCJjb250ZW50VHlwZSIsIm1lcmdlIiwiZXhjbHVkZSIsInJlcXVlc3QiLCJkb21haW4iLCJwYXRoIiwib3B0aW9ucyIsIm1ldGhvZCIsIm9uUmVqZWN0ZWQiLCJyZXN0IiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXN0cnVjdHVyZURhdGEiLCJyZXEiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsInRleHQiLCJ0IiwiaW5jbHVkZXMiLCJwYXJzZSIsInJlcXVlc3RXYXJuIiwiZXJyb3IiLCJxdWVyeUVycm9yIiwidXJsIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsIlByb21pc2UiLCJyZWplY3QiLCJjYXRjaCIsImVyciIsIm1lc3NhZ2UiLCJFcnJvckJvdW5kYXJ5IiwiUmVhY3QiLCJzdGF0ZSIsImhhc0Vycm9yIiwiaW5mbyIsImNvbXBvbmVudERpZENhdGNoIiwidGhpcyIsInNldFN0YXRlIiwicmVuZGVyIiwiY2hpbGRyZW4iLCJfanN4cyIsImNsYXNzTmFtZSIsIl9qc3giLCJjb21wb25lbnRTdGFjayIsInF1ZXJ5T3B0aW9uc0NvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwicGFyYW1ldGVyVHlwZSIsInZlcmJvc2l0eSIsImlkTmFtZSIsInVzZVF1ZXJ5T3B0aW9ucyIsImN0eCIsInVzZUNvbnRleHQiLCJ1c2VSZXF1ZXN0IiwiclJlc3QiLCJsb2FkZXIiLCJxUmVzdCIsIm1lcmdlZCIsInJldHVybk1lcmdlZCIsIlF1ZXJ5T3B0aW9uc1Byb3ZpZGVyIiwiUHJvdmlkZXIiLCJ1c2VRdWVyeSIsInF1ZXJ5IiwiZGVsYXkiLCJvblJlYWQiLCJyZXF1ZXN0T3B0aW9ucyIsImRhdGFMb2FkRXJyIiwic2V0RGF0YUxvYWRFcnIiLCJ1c2VTdGF0ZSIsImxvYWRpbmciLCJjb250cm9sbGVyIiwic2V0Q29udHJvbGxlciIsInJlZnJlc2giLCJzZXRSZWZyZXNoIiwibWFudWFsVXBkYXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJhYm9ydCIsImN0cmwiLCJBYm9ydENvbnRyb2xsZXIiLCJ0aW1lb3V0Iiwid2luZG93Iiwic2V0VGltZW91dCIsInNpZ25hbCIsIm90aGVycyIsImNsZWFyVGltZW91dCIsImZvcmNlUmVmcmVzaCIsIlF1ZXJ5IiwicURhdGEiLCJhdXRvbG9hZCIsIl9GcmFnbWVudCIsImVuZFBvaW50cyIsIm9uQ3JlYXRlZCIsIm9uVXBkYXRlZCIsIm9uRGVsZXRlZCIsImNyZWF0ZUVuZHBvaW50IiwicmVhZEVuZHBvaW50IiwidXBkYXRlRW5kcG9pbnQiLCJkZWxldGVFbmRwb2ludCIsImZpbGwiLCJjcmVhdGUiLCJyZWFkIiwidXBkYXRlIiwiZGVsZXRlIiwiaGFuZGxlQ3JlYXRlIiwicGFyYW1zIiwicHJldmVudERlZmF1bHQiLCJmb3JtRGF0YSIsImVuZHBvaW50IiwiY3JlYXRlZCIsImhhbmRsZVVwZGF0ZSIsImZvcm1EYXRhcyIsImVudHJpZXMiLCJwcmV2IiwiY3VyciIsImF0dHIiLCJzZXBlcmF0ZWQiLCJlbGVtIiwiZmluZCIsInBhcnNlSWQiLCJwYXJzZUludCIsInB1c2giLCJmb3JtRXh0cmFjdG9yIiwibmV3RGF0YSIsInByb21pc2VzIiwiZm9yRWFjaCIsInRhaWwiLCJoYXNDaGFuZ2VkIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJ2YWwiLCJtZXJnZWREYXRhIiwiYWxsIiwiaGFuZGxlRGVsZXRlIiwic3RvcFByb3BhZ2F0aW9uIiwidHlwZWREYXRhIiwibmV3QXJyIiwic2xpY2UiXSwic291cmNlUm9vdCI6IiJ9